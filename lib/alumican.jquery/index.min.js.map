{"version":3,"sources":["../src/alumican.jquery/alm/io/JQueryTextFileHandler.ts","../src/alumican.jquery/alm/util/TweenCSS.ts","../src/alumican.jquery/alm/io/JQueryJsonFileHandler.ts","../src/alumican.jquery/alm/util/ViewUtil.ts","../src/alumican.jquery/alm/util/TweenView.ts"],"names":["alm","io","JQueryTextFileHandler","constructor","headers","this","getType","type","load","url","onComplete","onError","jQuery","ajax","dataType","then","data","textStatus","jqXHR","errorThrown","JQueryJsonFileHandler","util","ViewUtil","setTransform","target","x","y","rotation","scale","xSuffix","ySuffix","css","setTransformByPixel","setTransformByPercent","setTransformByViewport","setOpacity","opacity","Cmd","TweenView","isNeedUpdateTransform","isNeedUpdateOpacity","command","dispose","stop","set","p","tween","duration","easing","undefined","cmd","Tween","apply","execute","Easing","math","TweenCSS","from","to","easeOutQuart","let","o","value","fade","updateDisplayTo","updateVisibility","fadeTo","parseFloat","fadeIn","fadeOut","updateDisplay","movePosition","property","moveLeft","moveRight","moveTop","moveBottom","show","Func","hide"],"mappings":"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","file":"index.min.js","sourcesContent":["/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\texport class JQueryTextFileHandler implements IFileHandler {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(headers:any = null) {\n\t\t\tthis.headers = headers;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getType():string {\n\t\t\treturn JQueryTextFileHandler.type;\n\t\t}\n\n\t\tpublic load(url:string, onComplete:CompleteFunction, onError:ErrorFunction):void {\n\t\t\tjQuery.ajax({\n\t\t\t\turl: url,\n\t\t\t\ttype: 'GET',\n\t\t\t\tdataType: 'text',\n\t\t\t\theaders: this.headers,\n\t\t\t}).then(\n\t\t\t\t(data:any, textStatus:string, jqXHR:object):void => {\n\t\t\t\t\tonComplete(data, { textStatus: textStatus, jqXHR: jqXHR });\n\t\t\t\t},\n\t\t\t\t(jqXHR:object, textStatus:string, errorThrown:string):void => {\n\t\t\t\t\tonError({ jqXHR: jqXHR, textStatus: textStatus, errorThrown: errorThrown });\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static type:string = 'jQuery.TEXT';\n\n\t\tprivate headers:any;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\timport EasingFunction = alm.math.EasingFunction;\n\timport Easing = alm.math.Easing;\n\n\texport class TweenCSS {\n\n\t\tpublic static scale(target:JQuery, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart):cmd.Tween {\n\t\t\tlet o:Object = { value: from };\n\t\t\treturn new cmd.Tween(o, { value: to }, null, duration, easing, null, ():void => {\n\t\t\t\tconst value:number = o['value'];\n\t\t\t\ttarget.css('transform', 'scale(' + value + ',' + value + ')');\n\t\t\t}, null);\n\t\t}\n\n\n\n\n\n\t\tpublic static fade(target:JQuery, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart, updateDisplayTo:string = null, updateVisibility:boolean = false):cmd.Tween {\n\t\t\tlet o:Object = { value: from };\n\t\t\treturn new cmd.Tween(o, { value: to }, null, duration, easing, ():void => {\n\t\t\t\tif (to > 0) {\n\t\t\t\t\tif (updateDisplayTo) {\n\t\t\t\t\t\ttarget.css('display', updateDisplayTo);\n\t\t\t\t\t}\n\t\t\t\t\tif (updateVisibility) {\n\t\t\t\t\t\ttarget.css('visibility', 'visible');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, ():void => {\n\t\t\t\ttarget.css('opacity', o['value']);\n\t\t\t}, ():void => {\n\t\t\t\tif (to <= 0) {\n\t\t\t\t\tif (updateDisplayTo) {\n\t\t\t\t\t\ttarget.css('display', 'none');\n\t\t\t\t\t}\n\t\t\t\t\tif (updateVisibility) {\n\t\t\t\t\t\ttarget.css('visibility', 'hidden');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic static fadeTo(target:JQuery, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart, updateDisplayTo:string = null, updateVisibility:boolean = false):cmd.Tween {\n\t\t\treturn TweenCSS.fade(target, parseFloat(target.css('opacity')), to, duration, easing, updateDisplayTo, updateVisibility);\n\t\t}\n\n\t\tpublic static fadeIn(target:JQuery, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart, updateDisplayTo:string = null, updateVisibility:boolean = false):cmd.Tween {\n\t\t\treturn TweenCSS.fadeTo(target, 1, duration, easing, updateDisplayTo, updateVisibility);\n\t\t}\n\n\t\tpublic static fadeOut(target:JQuery, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart, updateDisplay:boolean = false, updateVisibility:boolean = false):cmd.Tween {\n\t\t\treturn TweenCSS.fadeTo(target, 0, duration, easing, updateDisplay ? 'none' : '', updateVisibility);\n\t\t}\n\n\n\n\n\n\t\tprivate static movePosition(target:JQuery, property:string, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart):cmd.Tween {\n\t\t\tlet o:Object = { value: from };\n\t\t\treturn new cmd.Tween(o, { value: to }, null, duration, easing, null, ():void => {\n\t\t\t\ttarget.css(property, o['value']);\n\t\t\t});\n\t\t}\n\n\t\tpublic static moveLeft(target:JQuery, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart):cmd.Tween {\n\t\t\treturn TweenCSS.movePosition(target, 'left', from, to, duration, easing);\n\t\t}\n\n\t\tpublic static moveRight(target:JQuery, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart):cmd.Tween {\n\t\t\treturn TweenCSS.movePosition(target, 'right', from, to, duration, easing);\n\t\t}\n\n\t\tpublic static moveTop(target:JQuery, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart):cmd.Tween {\n\t\t\treturn TweenCSS.movePosition(target, 'top', from, to, duration, easing);\n\t\t}\n\n\t\tpublic static moveBottom(target:JQuery, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart):cmd.Tween {\n\t\t\treturn TweenCSS.movePosition(target, 'bottom', from, to, duration, easing);\n\t\t}\n\n\n\n\n\n\t\tpublic static show(target:JQuery, updateDisplayTo:string = 'block', updateVisibility:boolean = true):cmd.Func {\n\t\t\treturn new cmd.Func(():void => {\n\t\t\t\tif (updateDisplayTo != '') {\n\t\t\t\t\ttarget.css('display', updateDisplayTo);\n\t\t\t\t}\n\t\t\t\tif (updateVisibility) {\n\t\t\t\t\ttarget.css('visibility', 'visible');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic static hide(target:JQuery, updateDisplay:boolean = false, updateVisibility:boolean = true):cmd.Func {\n\t\t\treturn new cmd.Func(():void => {\n\t\t\t\tif (updateDisplay) {\n\t\t\t\t\ttarget.css('display', 'none');\n\t\t\t\t}\n\t\t\t\tif (!updateVisibility) {\n\t\t\t\t\ttarget.css('visibility', 'hidden');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\n\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\texport class JQueryJsonFileHandler implements IFileHandler {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(headers:any = null) {\n\t\t\tthis.headers = headers;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getType():string {\n\t\t\treturn JQueryJsonFileHandler.type;\n\t\t}\n\n\t\tpublic load(url:string, onComplete:CompleteFunction, onError:ErrorFunction):void {\n\t\t\tjQuery.ajax({\n\t\t\t\turl: url,\n\t\t\t\ttype: 'GET',\n\t\t\t\tdataType:'json',\n\t\t\t\theaders: this.headers\n\t\t\t}).then(\n\t\t\t\t(data:any, textStatus:string, jqXHR:object):void => {\n\t\t\t\t\tonComplete(data, { textStatus: textStatus, jqXHR: jqXHR });\n\t\t\t\t},\n\t\t\t\t(jqXHR:object, textStatus:string, errorThrown:string):void => {\n\t\t\t\t\tonError({ jqXHR: jqXHR, textStatus: textStatus, errorThrown: errorThrown });\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static type:string = 'jQuery.JSON';\n\n\t\tprivate headers:any;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\texport class ViewUtil {\n\n\t\tpublic static setTransform(target:JQuery, x:number, y:number, rotation:number, scale:number, xSuffix:string = 'px', ySuffix:string = null):void {\n\t\t\ttarget.css('transform', 'translate(' + x + xSuffix + ',' + y + (ySuffix || xSuffix) + ') rotate(' + rotation + 'rad) scale(' + scale + ')');\n\t\t}\n\n\t\tpublic static setTransformByPixel(target:JQuery, x:number, y:number, rotation:number, scale:number):void {\n\t\t\tViewUtil.setTransform(target, x, y, rotation, scale, 'px', 'px');\n\t\t}\n\n\t\tpublic static setTransformByPercent(target:JQuery, x:number, y:number, rotation:number, scale:number):void {\n\t\t\tViewUtil.setTransform(target, x * 100, y * 100, rotation, scale, '%', '%');\n\t\t}\n\n\t\tpublic static setTransformByViewport(target:JQuery, x:number, y:number, rotation:number, scale:number):void {\n\t\t\tViewUtil.setTransform(target, x * 100, y * 100, rotation, scale, 'vw', 'vh');\n\t\t}\n\n\t\tpublic static setOpacity(target:JQuery, opacity:number):void {\n\t\t\ttarget.css('opacity', opacity);\n\t\t}\n\n\n\n\n\n\t\tprivate constructor() {\n\t\t}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\timport Cmd = alm.util.Cmd;\n\timport EasingFunction = alm.math.EasingFunction;\n\n\texport interface TweenViewParam {\n\t\tx?:number;\n\t\ty?:number;\n\t\trotation?:number;\n\t\tscale?:number;\n\t\topacity?:number;\n\t}\n\n\texport class TweenView {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(target:JQuery, xSuffix:string = 'px', ySuffix:string = 'px') {\n\t\t\tthis.target = target;\n\t\t\tthis.xSuffix = xSuffix;\n\t\t\tthis.ySuffix = ySuffix;\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.rotation = 0;\n\t\t\tthis.scale = 1;\n\t\t\tthis.opacity = 1;\n\n\t\t\tthis.isNeedUpdateTransform = false;\n\t\t\tthis.isNeedUpdateOpacity = false;\n\t\t\tthis.command = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic dispose():void {\n\t\t\tthis.target = null;\n\t\t\tthis.command = Cmd.stop(this.command);\n\t\t}\n\n\t\tpublic set(p:TweenViewParam):void {\n\t\t\tthis.tween(p, 0, null);\n\t\t}\n\n\t\tpublic tween(p:TweenViewParam, duration:number, easing:EasingFunction):void {\n\t\t\tconst target:TweenViewParam = {};\n\n\t\t\tthis.isNeedUpdateTransform = false;\n\t\t\tthis.isNeedUpdateOpacity = false;\n\n\t\t\tif (p.x !== undefined) {\n\t\t\t\ttarget.x = p.x;\n\t\t\t\tthis.isNeedUpdateTransform = true;\n\t\t\t}\n\n\t\t\tif (p.y !== undefined) {\n\t\t\t\ttarget.y = p.y;\n\t\t\t\tthis.isNeedUpdateTransform = true;\n\t\t\t}\n\n\t\t\tif (p.rotation !== undefined) {\n\t\t\t\ttarget.rotation = p.rotation;\n\t\t\t\tthis.isNeedUpdateTransform = true;\n\t\t\t}\n\n\t\t\tif (p.scale !== undefined) {\n\t\t\t\ttarget.scale = p.scale;\n\t\t\t\tthis.isNeedUpdateTransform = true;\n\t\t\t}\n\n\t\t\tif (p.opacity !== undefined) {\n\t\t\t\ttarget.opacity = p.opacity;\n\t\t\t\tthis.isNeedUpdateOpacity = true;\n\t\t\t}\n\n\t\t\tif (this.isNeedUpdateTransform || this.isNeedUpdateOpacity) {\n\t\t\t\tthis.command = Cmd.stop(this.command);\n\t\t\t\tif (duration > 0) {\n\t\t\t\t\tthis.command = new cmd.Tween(this, target, null, duration, easing, null, ():void => {\n\t\t\t\t\t\tthis.apply();\n\t\t\t\t\t}, ():void => {\n\t\t\t\t\t\tthis.command = null;\n\t\t\t\t\t\tthis.isNeedUpdateTransform = false;\n\t\t\t\t\t\tthis.isNeedUpdateOpacity = false;\n\t\t\t\t\t});\n\t\t\t\t\tthis.command.execute();\n\t\t\t\t} else {\n\t\t\t\t\tthis.x = target.x;\n\t\t\t\t\tthis.y = target.y;\n\t\t\t\t\tthis.rotation = target.rotation;\n\t\t\t\t\tthis.scale = target.scale;\n\t\t\t\t\tthis.opacity = target.opacity;\n\t\t\t\t\tthis.apply();\n\t\t\t\t\tthis.isNeedUpdateTransform = false;\n\t\t\t\t\tthis.isNeedUpdateOpacity = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (this.command) {\n\t\t\t\tthis.command = Cmd.stop(this.command);\n\t\t\t\tthis.isNeedUpdateTransform = false;\n\t\t\t\tthis.isNeedUpdateOpacity = false;\n\t\t\t}\n\t\t}\n\n\t\tprivate apply():void {\n\t\t\tif (this.isNeedUpdateTransform) {\n\t\t\t\tViewUtil.setTransform(this.target, this.x, this.y, this.rotation, this.scale, this.xSuffix, this.ySuffix);\n\t\t\t}\n\t\t\tif (this.isNeedUpdateOpacity) {\n\t\t\t\tViewUtil.setOpacity(this.target, this.opacity);\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate target:JQuery;\n\t\tprivate command:cmd.Tween;\n\n\t\tprivate x:number;\n\t\tprivate y:number;\n\t\tprivate rotation:number;\n\t\tprivate scale:number;\n\t\tprivate opacity:number;\n\n\t\tprivate isNeedUpdateTransform:boolean;\n\t\tprivate isNeedUpdateOpacity:boolean;\n\n\t\tpublic xSuffix:string;\n\t\tpublic ySuffix:string;\n\t}\n}\n"]}