{"version":3,"sources":["../src/alumican.canvas.paper/alm/canvas/PaperApp.ts"],"names":["alm","canvas_1","DeviceInfo","PaperApp","canvas","browser","_super","isAutoResizeEnabled","useGlobalPaper","call","this","__extends","prototype","onPlatformSetup","platformSetupOptions","_i","arguments","length","paper","PaperScope","install","setup","getCanvas","get","onPlatformRender","onPlatformResize","stageWidth","stageHeight","devicePixelRatio","getDevicePixelRatio","viewSize","view","width","height","size","BaseApp"],"mappings":"IAEUA,8WAAV,SAAUA,GAAI,IAAAC,EAENC,EAEPC,EAJaF,EAAAD,EAAAI,SAAAJ,EAAAI,OAAM,IAEZF,EAAaF,EAAIK,QAAQH,WAEhCC,EAAA,SAAAG,GAQC,SAAAH,EAAYC,EAAoBG,EAAoCC,eAApC,IAAAD,IAAAA,GAAA,QAAoC,IAAAC,IAAAA,GAAA,GACnEF,EAAAG,KAAAC,KAAMN,EAAQG,EAAqBC,IAAeE,KAgDpD,OAzD8BC,UAAAR,EAAAG,GAsBnBH,EAAAS,UAAAC,gBAAV,eAA0B,IAAAC,EAAA,GAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,GACzBL,KAAKQ,MAAQ,IAAIA,MAAMC,WACnBL,EAAqB,IACxBJ,KAAKQ,MAAME,QAAQF,OAEpBR,KAAKQ,MAAMG,MAAMX,KAAKY,YAAYC,IAAI,KAG7BpB,EAAAS,UAAAY,iBAAV,aAGUrB,EAAAS,UAAAa,iBAAV,SAA2BC,EAAmBC,GAI7C,IAAMC,EAA0B1B,EAAW2B,sBACrCC,EAAsBpB,KAAKQ,MAAMa,KAAKD,SAC5CA,EAASE,MAAQN,EAAaE,EAC9BE,EAASG,OAASN,EAAcC,EAEhClB,KAAKQ,MAAMa,KAAKG,KAAKF,MAAQN,EAAaE,EAC1ClB,KAAKQ,MAAMa,KAAKG,KAAKD,OAASN,EAAcC,GAc9CzB,EAzDA,CAA8BF,EAAAkC,SAAjBlC,EAAAE,SAAQA,EAJtB,CAAUH,MAAAA,IAAG","file":"alumican.canvas.paper.min.js","sourcesContent":["/// <reference path=\"../../include.ts\" />\n\nnamespace alm.canvas {\n\n\timport DeviceInfo = alm.browser.DeviceInfo;\n\n\texport class PaperApp extends BaseApp {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(canvas:HTMLElement, isAutoResizeEnabled:boolean = true, useGlobalPaper:boolean = true) {\n\t\t\tsuper(canvas, isAutoResizeEnabled, useGlobalPaper);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected onPlatformSetup(...platformSetupOptions:any[]):void {\n\t\t\tthis.paper = new paper.PaperScope();\n\t\t\tif (platformSetupOptions[0]) { // useGlobalPaper:boolean\n\t\t\t\tthis.paper.install(paper);\n\t\t\t}\n\t\t\tthis.paper.setup(this.getCanvas().get(0));\n\t\t}\n\n\t\tprotected onPlatformRender():void {\n\t\t}\n\n\t\tprotected onPlatformResize(stageWidth:number, stageHeight:number):void {\n\t\t\t//this.getCanvas().attr({ width: stageWidth, height: stageHeight });\n\t\t\t//this.getCanvas().css({ width: stageWidth, height: stageHeight });\n\n\t\t\tconst devicePixelRatio:number = DeviceInfo.getDevicePixelRatio();\n\t\t\tconst viewSize:paper.Size = this.paper.view.viewSize;\n\t\t\tviewSize.width = stageWidth * devicePixelRatio;\n\t\t\tviewSize.height = stageHeight * devicePixelRatio;\n\n\t\t\tthis.paper.view.size.width = stageWidth * devicePixelRatio;\n\t\t\tthis.paper.view.size.height = stageHeight * devicePixelRatio;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected paper:paper.PaperScope;\n\t}\n}"]}