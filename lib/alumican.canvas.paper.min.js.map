{"version":3,"sources":["../src/alumican.canvas.paper/alm/canvas/PaperApp.ts"],"names":["alm","canvas_1","DeviceInfo","PaperApp","canvas","browser","_super","isAutoResizeEnabled","useGlobalPaper","call","this","__extends","prototype","onPlatformSetup","platformSetupOptions","trace","paper","PaperScope","install","setup","getCanvas","get","onPlatformRender","onPlatformResize","stageWidth","stageHeight","devicePixelRatio","getDevicePixelRatio","viewSize","view","width","height","size","BaseApp"],"mappings":"IAEUA,8WAAV,SAAUA,GAAI,IAAAC,EAENC,EAEPC,EAJaF,EAAAD,EAAAI,SAAAJ,EAAAI,OAAM,IAEZF,EAAaF,EAAIK,QAAQH,WAEhCC,EAAA,SAAAG,GAQC,SAAAH,EAAYC,EAAoBG,EAAoCC,eAApC,IAAAD,IAAAA,GAAA,QAAoC,IAAAC,IAAAA,GAAA,GACnEF,EAAAG,KAAAC,KAAMN,EAAQG,EAAqB,CAACC,KAAgBE,KAmDtD,OA5D8BC,UAAAR,EAAAG,GAsBnBH,EAAAS,UAAAC,gBAAV,SAA0BC,GACzBC,MAAM,qCAAsCD,GAE5CJ,KAAKM,MAAQ,IAAIA,MAAMC,WACnBH,EAAqB,KACxBC,MAAM,6CACNL,KAAKM,MAAME,QAAQF,QAEpBN,KAAKM,MAAMG,MAAMT,KAAKU,YAAYC,IAAI,KAG7BlB,EAAAS,UAAAU,iBAAV,aAGUnB,EAAAS,UAAAW,iBAAV,SAA2BC,EAAmBC,GAI7C,IAAMC,EAA0BxB,EAAWyB,sBACrCC,EAAsBlB,KAAKM,MAAMa,KAAKD,SAC5CA,EAASE,MAAQN,EAAaE,EAC9BE,EAASG,OAASN,EAAcC,EAEhChB,KAAKM,MAAMa,KAAKG,KAAKF,MAAQN,EAAaE,EAC1ChB,KAAKM,MAAMa,KAAKG,KAAKD,OAASN,EAAcC,GAc9CvB,EA5DA,CAA8BF,EAAAgC,SAAjBhC,EAAAE,SAAQA,EAJtB,CAAUH,MAAAA,IAAG","file":"alumican.canvas.paper.min.js","sourcesContent":["/// <reference path=\"../../include.ts\" />\n\nnamespace alm.canvas {\n\n\timport DeviceInfo = alm.browser.DeviceInfo;\n\n\texport class PaperApp extends BaseApp {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(canvas:HTMLElement, isAutoResizeEnabled:boolean = true, useGlobalPaper:boolean = true) {\n\t\t\tsuper(canvas, isAutoResizeEnabled, [useGlobalPaper]);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected onPlatformSetup(platformSetupOptions:any[]):void {\n\t\t\ttrace(\"[PaperApp] platformSetupOptions : \", platformSetupOptions);\n\n\t\t\tthis.paper = new paper.PaperScope();\n\t\t\tif (platformSetupOptions[0]) {\n\t\t\t\ttrace(\"[PaperApp] setup paper.js in window.paper\");\n\t\t\t\tthis.paper.install(paper);\n\t\t\t}\n\t\t\tthis.paper.setup(this.getCanvas().get(0));\n\t\t}\n\n\t\tprotected onPlatformRender():void {\n\t\t}\n\n\t\tprotected onPlatformResize(stageWidth:number, stageHeight:number):void {\n\t\t\t//this.getCanvas().attr({ width: stageWidth, height: stageHeight });\n\t\t\t//this.getCanvas().css({ width: stageWidth, height: stageHeight });\n\n\t\t\tconst devicePixelRatio:number = DeviceInfo.getDevicePixelRatio();\n\t\t\tconst viewSize:paper.Size = this.paper.view.viewSize;\n\t\t\tviewSize.width = stageWidth * devicePixelRatio;\n\t\t\tviewSize.height = stageHeight * devicePixelRatio;\n\n\t\t\tthis.paper.view.size.width = stageWidth * devicePixelRatio;\n\t\t\tthis.paper.view.size.height = stageHeight * devicePixelRatio;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected paper:paper.PaperScope;\n\t}\n}"]}