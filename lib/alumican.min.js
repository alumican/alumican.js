function trace(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];alm.Logger.info.apply(trace.caller,arguments)}function throwWarn(t,e,i){void 0===i&&(i=!0),alm.Logger.warnIf.apply(null,arguments)}function throwError(t,e,i){void 0===i&&(i=!0),alm.Logger.errorIf.apply(null,arguments)}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),alm;!function(t){var e=function(){function t(){}return t.map=function(t,e,i,n,o,r){return void 0===r&&(r=!0),e==i?n:(r&&(e<i?t<e?t=e:t>i&&(t=i):t<i?t=i:t>e&&(t=e)),(t-e)*(o-n)/(i-e)+n)},t.random=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),t+(e-t)*Math.random()},t.clamp=function(t,e,i){return t<e?e:t>i?i:t},t.dist=function(t,e,i,n,o){void 0===o&&(o=!1);var r=i-t,s=n-e;return o?r*r+s*s:Math.sqrt(r*r+s*s)},t.radToDeg=function(e){return e*t.RAD2DEG},t.degToRad=function(e){return e*t.DEG2RAD},t.turn=function(e,i,n){return void 0===n&&(n=!0),n?(i-e+t.PI3)%t.PI2-Math.PI:(i-e+540)%360-180},t.PI2=2*Math.PI,t.PI3=3*Math.PI,t.PI4=4*Math.PI,t.PI5=5*Math.PI,t.PI6=6*Math.PI,t.PI_2=Math.PI/2,t.PI_3=Math.PI/3,t.PI_4=Math.PI/4,t.PI_6=Math.PI/6,t.RAD2DEG=180/Math.PI,t.DEG2RAD=Math.PI/180,t}();t.Num=e}(alm||(alm={}));var alm;!function(t){var e=function(){function t(){}return t.unique=function(t){return t.filter(function(t,e,i){return i.indexOf(t)===e})},t.duplicated=function(t,e){return void 0===e&&(e=!1),e?t.filter(function(t,e,i){return i.indexOf(t)!==i.lastIndexOf(t)}):t.filter(function(t,e,i){return i.indexOf(t)===e&&i.lastIndexOf(t)!==e})},t.roundRobin=function(t,e,i){var n,o,r=1,s=t.length,a=e.length;for(n=0;n<s;++n)for(o=n+1;o<a;++o)i(r++,n,o,t[n],e[o])},t}();t.Arr=e}(alm||(alm={}));var project;!function(t){var e=function(){function t(){}return t.toTimeString=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),i+=60*e+3600*t;var n=Math.floor(i/3600).toString(),o=Math.floor(i/60%60).toString(),r=("0"+Math.floor(i%60)).substr(-2,2);return"0"!=n?n+":"+("0"+o).substr(-2,2)+":"+r:o+":"+r},t}();t.Str=e}(project||(project={}));var alm;!function(t){var e;!function(t){t[t.Top_Left=0]="Top_Left",t[t.Top_Center=1]="Top_Center",t[t.Top_Right=2]="Top_Right",t[t.Middle_Left=3]="Middle_Left",t[t.Middle_Center=4]="Middle_Center",t[t.Middle_Right=5]="Middle_Right",t[t.Bottom_Left=6]="Bottom_Left",t[t.Bottom_Center=7]="Bottom_Center",t[t.Bottom_Right=8]="Bottom_Right"}(e=t.Align||(t.Align={}));var i;!function(t){t[t.ExactFit=0]="ExactFit",t[t.ShowAll=1]="ShowAll",t[t.NoBorder=2]="NoBorder",t[t.NoScale=3]="NoScale"}(i=t.ScaleMode||(t.ScaleMode={}));var n=function(){function n(){}return n.resize=function(n,o,r,s){void 0===r&&(r=i.ShowAll),void 0===s&&(s=e.Middle_Center);var a=n.x,u=n.y,l=n.width,h=n.height,d=o.x,c=o.y,p=o.width,f=o.height;switch(r){case i.ShowAll:case i.NoBorder:var y=p/l,v=f/h,g=r==i.ShowAll?y<v?y:v:y>v?y:v;l*=g,h*=g;break;case i.ExactFit:return new t.Rectangle(d,c,p,f)}return a=d+(s==e.Top_Left||s==e.Middle_Left||s==e.Bottom_Left?0:s==e.Top_Right||s==e.Middle_Right||s==e.Bottom_Right?p-l:(p-l)/2),u=c+(s==e.Top_Left||s==e.Top_Center||s==e.Top_Right?0:s==e.Bottom_Left||s==e.Bottom_Center||s==e.Bottom_Right?f-h:(f-h)/2),new t.Rectangle(a,u,l,h)},n}();t.Boxer=n}(alm||(alm={}));var alm;!function(t){var e=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!0),this.setAngle(t,i),this.setVelocity(e,i)}return t.prototype.getAngle=function(t){return void 0===t&&(t=!0),t?this.angle:180*this.angle/Math.PI},t.prototype.setAngle=function(t,e){void 0===e&&(e=!0),this.angle=e?t:t*Math.PI/180},t.prototype.getVelocity=function(t){return void 0===t&&(t=!0),t?this.velocity:180*this.velocity/Math.PI},t.prototype.setVelocity=function(t,e){void 0===e&&(e=!0),this.velocity=e?t:t*Math.PI/180},t.prototype.update=function(){this.angle+=this.velocity},t.prototype.getSin=function(t){return void 0===t&&(t=1),t*Math.sin(this.angle)},t.prototype.getCos=function(t){return void 0===t&&(t=1),t*Math.cos(this.angle)},t.prototype.getTan=function(t){return void 0===t&&(t=1),t*Math.tan(this.angle)},t.prototype.getMagnitude=function(t){return void 0===t&&(t=1),t*(1+Math.sin(this.angle))/2},t.prototype.getVector=function(t,e){if(void 0===t&&(t=1),void 0===e&&(e=null),null==e)return{x:this.getCos(t),y:this.getSin(t)};e.x=this.getCos(t),e.y=this.getSin(t)},t}();t.Rotator=e}(alm||(alm={}));var alm;!function(t){var e=function(){function t(){}return t.save=function(e,i,n){if(void 0===n&&(n=-1),!t.isAvailable())return!1;var o={value:JSON.stringify(i),expiredAt:n};return localStorage.setItem(e,JSON.stringify(o)),!0},t.saveWithTerm=function(e,i,n){void 0===n&&(n=-1);var o=n>0?(new Date).getTime()+n:-1;return t.save(e,i,o)},t.load=function(e,i){if(void 0===i&&(i=null),!t.isAvailable())return i;var n=JSON.parse(localStorage.getItem(e));return n?n.expiredAt>0?(new Date).getTime()<n.expiredAt?JSON.parse(n.value):(localStorage.removeItem(e),i):JSON.parse(n.value):i},t.remove=function(e){t.isAvailable()&&localStorage.removeItem(e)},t.isAvailable=function(){if(null==t.isAvailable_)try{localStorage.setItem("__CKECK__","__CKECK__"),localStorage.removeItem("__CKECK__"),t.isAvailable_=!0}catch(e){t.isAvailable_=!1}return t.isAvailable_},t.toMilliseconds=function(t,e,i,n,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),o+1e3*(n+60*(i+60*(e+24*t)))},t.isAvailable_=null,t}();t.LocalStorage=e}(alm||(alm={}));var alm;!function(t){var e;!function(t){t[t.Verbose=0]="Verbose",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Silent=4]="Silent"}(e=t.LoggerLevel||(t.LoggerLevel={}));var i=function(){function t(){}return t.verbose=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t.level<=e.Verbose&&console.debug.apply(console,Array.prototype.slice.call(["Verbose: "].concat(i)))},t.info=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t.level<=e.Info&&console.log.apply(console,Array.prototype.slice.call(["Info   : "].concat(i)))},t.warn=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t.level<=e.Warn&&console.warn.apply(console,Array.prototype.slice.call(["Warn   : "].concat(i)))},t.error=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t.level<=e.Error&&console.error.apply(console,Array.prototype.slice.call(["Error  : "].concat(i)))},t.warnIf=function(i,n,o){void 0===o&&(o=!0),t.level<=e.Warn&&o&&t.warn(n+" : ",i)},t.errorIf=function(i,n,o){void 0===o&&(o=!0),t.level<=e.Error&&o&&t.error(n+" : ",i)},t.level=e.Verbose,t}();t.Logger=i}(alm||(alm={}));var alm;!function(t){var e=function(){function t(){}return t.initialize=function(){if(!this.isInitialized){this.isInitialized=!0;var t=window.navigator.userAgent.toLowerCase();this.isTablet=-1!=t.indexOf("windows")&&-1!=t.indexOf("touch")||-1!=t.indexOf("ipad")||-1!=t.indexOf("android")&&-1==t.indexOf("mobile")||-1!=t.indexOf("firefox")&&-1!=t.indexOf("tablet")||-1!=t.indexOf("kindle")||-1!=t.indexOf("silk")||-1!=t.indexOf("playbook"),this.isMobile=-1!=t.indexOf("windows")&&-1!=t.indexOf("phone")||-1!=t.indexOf("iphone")||-1!=t.indexOf("ipod")||-1!=t.indexOf("android")&&-1!=t.indexOf("mobile")||-1!=t.indexOf("firefox")&&-1!=t.indexOf("mobile")||-1!=t.indexOf("blackberry"),this.isDesktop=!this.isTablet&&!this.isMobile,this.isIOS=-1!=t.indexOf("ipad")||-1!=t.indexOf("iphone")||-1!=t.indexOf("ipod"),this.isAndroid=-1!=t.indexOf("android")&&-1!=t.indexOf("mobile"),this.isRetina=2==Math.round(window.devicePixelRatio)}},t.getIsDesktop=function(){return this.initialize(),this.isDesktop},t.getIsTablet=function(){return this.initialize(),this.isTablet},t.getIsMobile=function(){return this.initialize(),this.isMobile},t.getIsIOS=function(){return this.initialize(),this.isIOS},t.getIsAndroid=function(){return this.initialize(),this.isAndroid},t.getIsRetina=function(){return this.initialize(),this.isRetina},t.isInitialized=!1,t}();t.DeviceInfo=e}(alm||(alm={}));var alm;!function(t){var e=function(){function t(){}return t.stop=function(t){return t&&t.interrupt(),null},t.sequence=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=new cmd.Serial;return n.addCommand.apply(n,e),t&&n.execute(),n},t}();t.CommandUtil=e}(alm||(alm={}));var alm;!function(t){var e=function(){function t(){}return t.fadeTo=function(t,e,i,n,o,r,s){void 0===o&&(o=""),void 0===r&&(r=!1),void 0===s&&(s=!0);var a={value:parseInt(t.css("opacity"))},u=new cmd.Tween(a,{value:e},null,i,n,function(){e>0&&(""!=o&&t.css("display",o),r&&t.css("visibility","visible"))},function(){t.css("opacity",a.value)},function(){e<=0&&(""!=o&&t.css("display","none"),r&&t.css("visibility","hidden"))});return s&&u.execute(),u},t.fadeInJquery=function(e,i,n,o,r,s){return void 0===o&&(o=""),void 0===r&&(r=!1),void 0===s&&(s=!0),t.fadeTo(e,1,i,n,o,r,s)},t.fadeOutJquery=function(e,i,n,o,r,s){return void 0===o&&(o=""),void 0===r&&(r=!1),void 0===s&&(s=!0),t.fadeTo(e,0,i,n,o,r,s)},t}();t.JQueryUtil=e}(alm||(alm={}));var alm;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.set(t,e)}return t.prototype.set=function(t,e){this.x=t,this.y=e},t.prototype.copyTo=function(t){t.set(this.x,this.y)},t.prototype.getClone=function(){return new t(this.x,this.y)},t.prototype.zero=function(){this.set(0,0)},t.prototype.normalize=function(){var t=this.getLength();this.x/=t,this.y/=t},t.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.getSquareDistance=function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},t.prototype.getDistance=function(t){return Math.sqrt(this.getSquareDistance(t))},t}();t.Vector2=e}(alm||(alm={}));var alm;!function(t){var e=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.set(t,e,i)}return t.prototype.set=function(t,e,i){this.x=t,this.y=e,this.z=i},t.prototype.copyTo=function(t){t.set(this.x,this.y,this.z)},t.prototype.getClone=function(){return new t(this.x,this.y,this.z)},t.prototype.zero=function(){this.set(0,0,0)},t.prototype.normalize=function(){var t=this.getLength();this.x/=t,this.y/=t,this.z/=t},t.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.getSquareDistance=function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z;return e*e+i*i+n*n},t.prototype.getDistance=function(t){return Math.sqrt(this.getSquareDistance(t))},t}();t.Vector3=e}(alm||(alm={}));var alm;!function(t){var e=function(){function e(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.set(t,e,i,n)}return e.prototype.set=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},e.prototype.copyTo=function(t){t.set(this.x,this.y,this.width,this.height)},e.prototype.getClone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.getTop=function(){return this.y},e.prototype.getBottom=function(){return this.y+this.height},e.prototype.getLeft=function(){return this.x},e.prototype.getRight=function(){return this.x+this.width},e.prototype.getTopLeft=function(){return new t.Vector2(this.getLeft(),this.getTop())},e.prototype.getTopRight=function(){return new t.Vector2(this.getRight(),this.getTop())},e.prototype.getBottomLeft=function(){return new t.Vector2(this.getLeft(),this.getBottom())},e.prototype.getBottomRight=function(){return new t.Vector2(this.getRight(),this.getBottom())},e}();t.Rectangle=e}(alm||(alm={}));var alm;!function(t){var e=function(e){function i(i,n){void 0===i&&(i=1e3),void 0===n&&(n=0);var o=e.call(this)||this;return o.timerHandler=function(){o.tStartTime=o.getCurrentTime(),++o.elapsedCount;var e=!1;o.repeatCount>0&&o.elapsedCount>=o.repeatCount?(e=!0,o.stop()):o.tInterval!=o.interval&&o.startInterval(o.interval),o.dispatch(t.TimerEvent.TICK),e&&o.dispatch(t.TimerEvent.COMPLETE)},o.interval=i,o.repeatCount=n,o.isRunning=!1,o.tId=-1,o.reset(),o}return __extends(i,e),i.prototype.start=function(){this.isRunning||(this.isRunning=!0,this.tStartTime=this.getCurrentTime(),this.startInterval(-1!=this.tRestTime?this.tRestTime:this.interval))},i.prototype.stop=function(){this.isRunning&&(this.isRunning=!1,this.tRestTime=this.getCurrentTime()-this.tStartTime,this.stopInterval())},i.prototype.reset=function(){this.stop(),this.elapsedCount=0,this.tRestTime=-1},i.prototype.restart=function(){this.reset(),this.start()},i.prototype.getCurrentTime=function(){return(new Date).valueOf()},i.prototype.startInterval=function(t){this.stopInterval(),this.tInterval=t,this.tId=window.setInterval(this.timerHandler,this.tInterval)},i.prototype.stopInterval=function(){-1!=this.tId&&(clearInterval(this.tId),this.tId=-1)},i.prototype.dispatch=function(e){this.dispatchEvent(new t.TimerEvent(e,this,this.elapsedCount,this.repeatCount,this.getRestCount()))},i.prototype.getIsRunning=function(){return this.isRunning},i.prototype.getInterval=function(){return this.interval},i.prototype.setInterval=function(t){this.interval=t},i.prototype.getElapsedTime=function(){return this.getCurrentTime()-this.tStartTime},i.prototype.getRestTime=function(){return this.interval-this.getElapsedTime()},i.prototype.getElapsedCount=function(){return this.elapsedCount},i.prototype.getRepeatCount=function(){return this.repeatCount},i.prototype.setRepeatCount=function(t){this.repeatCount=t},i.prototype.getRestCount=function(){return this.repeatCount-this.elapsedCount},i}(cmd.EventDispatcher);t.Timer=e}(alm||(alm={}));var alm;!function(t){var e=function(t){function e(e,i,n,o,r){void 0===i&&(i=null),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0);var s=t.call(this,e,i)||this;return s.elapsedCount=n,s.repeatCount=o,s.restCount=r,s}return __extends(e,t),e.prototype.clone=function(){return new e(this.getType(),this.getTarget(),this.elapsedCount,this.repeatCount,this.restCount)},e.prototype.toString=function(){return"[TimerEvent] type = "+this.getType()+", elapsedCount = "+this.elapsedCount+", repeatCount="+this.repeatCount+", restCount="+this.restCount},e.TICK="tick",e.COMPLETE="complete",e}(cmd.Event);t.TimerEvent=e}(alm||(alm={}));var alm;!function(t){var e=function(){function e(){}return e.initialize=function(){this.isInitialized||(this.isInitialized=!0,this.eventDispatcher=new cmd.EventDispatcher)},e.start=function(){if(!this.isRunning){this.isRunning=!0,this.initialize(),trace("[KeyWatcher] start");var t=jQuery(window);t.on("keydown",this.windowKeyDownHandler),t.on("keyup",this.windowKeyUpHandler)}},e.stop=function(){if(this.isRunning){this.isRunning=!1,this.initialize(),trace("[KeyWatcher] stop");var t=jQuery(window);t.off("keydown",this.windowKeyDownHandler),t.off("keyup",this.windowKeyUpHandler)}},e.addEventListener=function(t,e){this.initialize(),this.eventDispatcher.addEventListener(t,e)},e.removeEventListener=function(t,e){this.initialize(),this.eventDispatcher.removeEventListener(t,e)},e.getIsRunning=function(){return this.isRunning},e.getIsAnyKeyPressed=function(){return this.pressedKeyCount>0},e.getIsKeyPressed=function(t){return null!=this.isKeyPressedByKeyCode[t]},e.getIsContinuousPressEnabled=function(){return this.isContinuousPressEnabled},e.setIsContinuousPressEnabled=function(t){this.isContinuousPressEnabled=t},e.windowKeyDownHandler=function(i){var n=i.keyCode;null==e.isKeyPressedByKeyCode[n]?(e.isKeyPressedByKeyCode[n]=!0,++e.pressedKeyCount,e.eventDispatcher.dispatchEvent(new t.KeyWatcherEvent(t.KeyWatcherEvent.KEY_DOWN,e,i))):e.isContinuousPressEnabled&&e.eventDispatcher.dispatchEvent(new t.KeyWatcherEvent(t.KeyWatcherEvent.KEY_DOWN,e,i))},e.windowKeyUpHandler=function(i){var n=i.keyCode;null!=e.isKeyPressedByKeyCode[n]&&(delete e.isKeyPressedByKeyCode[n],--e.pressedKeyCount,e.eventDispatcher.dispatchEvent(new t.KeyWatcherEvent(t.KeyWatcherEvent.KEY_UP,e,i)))},e.isRunning=!1,e.pressedKeyCount=0,e.isKeyPressedByKeyCode={},e.isContinuousPressEnabled=!1,e.isInitialized=!1,e.pressTimer=null,e.isLongPressed=!1,e.eventDispatcher=null,e}();t.KeyWatcher=e}(alm||(alm={}));var alm;!function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null);var o=t.call(this,e,i)||this;return o.jqueryEvent=n,o.key=o.jqueryEvent.key,o.keyCode=o.jqueryEvent.keyCode,o.altKey=o.jqueryEvent.altKey,o.ctrlKey=o.jqueryEvent.ctrlKey,o.shiftKey=o.jqueryEvent.shiftKey,o}return __extends(e,t),e.prototype.clone=function(){return new e(this.getType(),this.getTarget(),this.jqueryEvent)},e.prototype.toString=function(){return"[KeyWatcherEvent] type = "+this.getType()+", key = "+this.key+", keyCode = "+this.keyCode+", altKey = "+this.altKey+", ctrlKey = "+this.ctrlKey+", shiftKey = "+this.shiftKey},e.KEY_UP="keyUp",e.KEY_DOWN="keyDown",e}(cmd.Event);t.KeyWatcherEvent=e}(alm||(alm={}));var alm;!function(t){!function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Shift=16]="Shift",t[t.Ctrl=17]="Ctrl",t[t.Alt=18]="Alt",t[t.PauseBreak=19]="PauseBreak",t[t.CapsLock=20]="CapsLock",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.LeftArrow=37]="LeftArrow",t[t.UpArrow=38]="UpArrow",t[t.RightArrow=39]="RightArrow",t[t.DownArrow=40]="DownArrow",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Key0=48]="Key0",t[t.Key1=49]="Key1",t[t.Key2=50]="Key2",t[t.Key3=51]="Key3",t[t.Key4=52]="Key4",t[t.Key5=53]="Key5",t[t.Key6=54]="Key6",t[t.Key7=55]="Key7",t[t.Key8=56]="Key8",t[t.Key9=57]="Key9",t[t.ClosedParen=48]="ClosedParen",t[t.ExclamationMark=49]="ExclamationMark",t[t.AtSign=50]="AtSign",t[t.PoundSign=51]="PoundSign",t[t.Hash=51]="Hash",t[t.DollarSign=52]="DollarSign",t[t.PercentSign=53]="PercentSign",t[t.Caret=54]="Caret",t[t.Hat=54]="Hat",t[t.Ampersand=55]="Ampersand",t[t.Star=56]="Star",t[t.Asterik=56]="Asterik",t[t.OpenParen=57]="OpenParen",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.LeftWindowKey=91]="LeftWindowKey",t[t.RightWindowKey=92]="RightWindowKey",t[t.SelectKey=93]="SelectKey",t[t.Numpad0=96]="Numpad0",t[t.Numpad1=97]="Numpad1",t[t.Numpad2=98]="Numpad2",t[t.Numpad3=99]="Numpad3",t[t.Numpad4=100]="Numpad4",t[t.Numpad5=101]="Numpad5",t[t.Numpad6=102]="Numpad6",t[t.Numpad7=103]="Numpad7",t[t.Numpad8=104]="Numpad8",t[t.Numpad9=105]="Numpad9",t[t.Multiply=106]="Multiply",t[t.Add=107]="Add",t[t.Subtract=109]="Subtract",t[t.DecimalPoint=110]="DecimalPoint",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.SemiColon=186]="SemiColon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.UnderScore=189]="UnderScore",t[t.PlusSign=187]="PlusSign",t[t.ForwardSlash=191]="ForwardSlash",t[t.Tilde=192]="Tilde",t[t.GraveAccent=192]="GraveAccent",t[t.OpenBracket=219]="OpenBracket",t[t.ClosedBracket=221]="ClosedBracket",t[t.Quote=222]="Quote"}(t.KeyCode||(t.KeyCode={}))}(alm||(alm={}));var alm;!function(t){var e=function(){function e(){}return e.initialize=function(){this.isInitialized||(this.isInitialized=!0,this.eventDispatcher=new cmd.EventDispatcher)},e.start=function(){this.isRunning||(this.isRunning=!0,this.initialize(),trace("[ResizeWatcher] start"),jQuery(window).on("resize",this.windowResizeHandler),this.apply())},e.stop=function(){this.isRunning&&(this.isRunning=!1,this.initialize(),trace("[ResizeWatcher] stop"),jQuery(window).off("resize",this.windowResizeHandler))},e.apply=function(){var t=jQuery(window);e.windowWidth=t.width(),e.windowHeight=t.height()},e.addEventListener=function(t,e){this.initialize(),this.eventDispatcher.addEventListener(t,e)},e.removeEventListener=function(t,e){this.initialize(),this.eventDispatcher.removeEventListener(t,e)},e.getIsRunning=function(){return this.isRunning},e.getWindowWidth=function(){return this.windowWidth},e.getWindowHeight=function(){return this.windowHeight},e.windowResizeHandler=function(i){e.apply(),e.eventDispatcher.dispatchEvent(new t.ResizeWatcherEvent(t.ResizeWatcherEvent.RESIZE,e,i,e.windowWidth,e.windowHeight))},e.isRunning=!1,e.windowWidth=0,e.windowHeight=0,e.isInitialized=!1,e.eventDispatcher=null,e}();t.ResizeWatcher=e}(alm||(alm={}));var alm;!function(t){var e=function(t){function e(e,i,n,o,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=0),void 0===r&&(r=0);var s=t.call(this,e,i)||this;return s.jqueryEvent=n,s.windowWidth=o,s.windowHeight=r,s}return __extends(e,t),e.prototype.clone=function(){return new e(this.getType(),this.getTarget(),this.jqueryEvent,this.windowWidth,this.windowHeight)},e.prototype.toString=function(){return"[ResizeWatcherEvent] type = "+this.getType()+", windowWidth = "+this.windowWidth+", windowHeight = "+this.windowHeight},e.RESIZE="resize",e}(cmd.Event);t.ResizeWatcherEvent=e}(alm||(alm={}));var alm;!function(t){var e=function(){function e(){}return e.initialize=function(){this.isInitialized||(this.isInitialized=!0,this.eventDispatcher=new cmd.EventDispatcher)},e.start=function(){this.isRunning||(this.isRunning=!0,this.initialize(),trace("[ScrollWatcher] start"),jQuery(window).on("resize",this.windowScrollHandler),jQuery(window).on("scroll",this.windowScrollHandler),this.apply())},e.stop=function(){this.isRunning&&(this.isRunning=!1,this.initialize(),trace("[ScrollWatcher] stop"),jQuery(window).off("resize",this.windowScrollHandler),jQuery(window).off("scroll",this.windowScrollHandler))},e.apply=function(){var t=jQuery(window);this.windowHeight=t.height(),this.scrollTop=t.scrollTop(),this.scrollBottom=this.scrollTop+this.windowHeight},e.addEventListener=function(t,e){this.initialize(),this.eventDispatcher.addEventListener(t,e)},e.removeEventListener=function(t,e){this.initialize(),this.eventDispatcher.removeEventListener(t,e)},e.calcScrolledPosition=function(t){return t-this.scrollTop},e.calcScrolledPositionRatio=function(t){return this.calcScrolledPosition(t)/this.windowHeight},e.getIsRunning=function(){return this.isRunning},e.getScrollTop=function(){return this.scrollTop},e.getScrollBottom=function(){return this.scrollBottom},e.getWindowHeight=function(){return this.windowHeight},e.windowScrollHandler=function(i){e.apply(),e.eventDispatcher.dispatchEvent(new t.ScrollWatcherEvent(t.ScrollWatcherEvent.SCROLL,e,i,e.scrollTop,e.scrollBottom,e.windowHeight))},e.windowResizeHandler=function(t){e.apply()},e.isRunning=!1,e.windowHeight=0,e.isInitialized=!1,e.eventDispatcher=null,e}();t.ScrollWatcher=e}(alm||(alm={}));var alm;!function(t){var e=function(t){function e(e,i,n,o,r,s){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=0);var a=t.call(this,e,i)||this;return a.jqueryEvent=n,a.scrollTop=o,a.scrollBottom=r,a.windowHeight=s,a}return __extends(e,t),e.prototype.clone=function(){return new e(this.getType(),this.getTarget(),this.jqueryEvent,this.scrollTop,this.scrollBottom,this.windowHeight)},e.prototype.toString=function(){return"[ScrollWatcherEvent] type = "+this.getType()+", scrollTop = "+this.scrollTop+", scrollBottom = "+this.scrollBottom+", windowHeight = "+this.windowHeight},e.SCROLL="scroll",e}(cmd.Event);t.ScrollWatcherEvent=e}(alm||(alm={}));var alm;!function(t){var e=function(){function e(){this.isLoading_=!1,this.currentCount=0,this.totalCount=0,this.loadingQueries=[],this.loadingQueryIndex=-1,this.queriesByQueryId={},this.queriesByUrl={},this.texturesByUrl={},this.texturesByQueryId={},this.eventDispatcher=new cmd.EventDispatcher}return e.prototype.requireJQueryJson=function(t){return this.addQuery("jQuery.JSON",t,{})},e.prototype.requireThreeTexture=function(t){return this.addQuery("THREE.Texture",t,{})},e.prototype.addQuery=function(t,n,o){if(this.queriesByUrl[n])return this.queriesByUrl[n].id;var r=new i;return r.id=String(e.id),r.type=t,r.url=n,r.param=o,this.loadingQueries.push(r),this.queriesByQueryId[r.id]=r,this.queriesByUrl[r.url]=r,++e.id,r.id},e.prototype.load=function(){this.isLoading_||(this.isLoading_=!0,this.loadingQueryIndex=-1,this.next())},e.prototype.next=function(){var e=this;if(this.currentCount=this.loadingQueryIndex+1,this.totalCount=this.loadingQueries.length,this.currentCount>0&&this.eventDispatcher.dispatchEvent(new t.AssetLoaderEvent(t.AssetLoaderEvent.PROGRESS,this,this.currentCount/this.totalCount,this.currentCount,this.totalCount)),this.currentCount<this.totalCount){this.loadingQueryIndex++;var i=this.loadingQueries[this.loadingQueryIndex];switch(i.isLoading=!0,i.isLoadComplete=!1,trace("[AssetLoader] loading... '"+i.url+"' as '"+i.type+"'"),i.type){case"jQuery.JSON":jQuery.getJSON(i.url,function(t){i.isLoading=!1,i.isLoadComplete=!0,i.content=t,i.param.onLoad&&i.param.onLoad(t),e.next()});break;case"THREE.Texture":var n=i.url,o=(new THREE.TextureLoader).load(n,function(t){i.isLoading=!1,i.isLoadComplete=!0,i.content=t,i.param.onLoad&&i.param.onLoad(t),e.next()},function(t){},function(t){i.isLoading=!1,i.isLoadComplete=!0,i.param.onError&&i.param.onError(t.type+" : "+t.message),e.next()});this.texturesByUrl[i.url]=o,this.texturesByQueryId[i.id]=o;break;default:this.next()}}else this.isLoading_=!1,this.loadingQueries=[],this.loadingQueryIndex=-1,this.eventDispatcher.dispatchEvent(new t.AssetLoaderEvent(t.AssetLoaderEvent.COMPLETE,this,this.currentCount/this.totalCount,this.currentCount,this.totalCount))},e.prototype.addLoadUpdateListener=function(e){this.eventDispatcher.addEventListener(t.AssetLoaderEvent.PROGRESS,e)},e.prototype.removeLoadUpdateListener=function(e){this.eventDispatcher.removeEventListener(t.AssetLoaderEvent.PROGRESS,e)},e.prototype.addLoadCompleteListener=function(e){this.eventDispatcher.addEventListener(t.AssetLoaderEvent.COMPLETE,e)},e.prototype.removeLoadCompleteListener=function(e){this.eventDispatcher.removeEventListener(t.AssetLoaderEvent.COMPLETE,e)},e.prototype.getQueryByQueryId=function(t){return this.queriesByQueryId[t]},e.prototype.getQueryByUrl=function(t){return this.queriesByUrl[t]},e.prototype.isLoading=function(){return this.isLoading_},e.prototype.getCurrentCount=function(){return this.currentCount},e.prototype.getTotalCount=function(){return this.totalCount},e.prototype.getTexturesByUrl=function(t){return this.texturesByUrl[t]},e.prototype.getTexturesByQueryId=function(t){return this.texturesByQueryId[t]},e.id=0,e}();t.AssetLoader=e;var i=function(){return function(){this.isLoading=!1,this.isLoadComplete=!1}}();t.LoaderQuery=i}(alm||(alm={}));var alm;!function(t){var e=function(t){function e(e,i,n,o,r,s){void 0===i&&(i=null),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=null);var a=t.call(this,e,i)||this;return a.progress=n,a.loadedCount=o,a.totalCount=r,a.content=s,a}return __extends(e,t),e.prototype.clone=function(){return new e(this.getType(),this.getTarget(),this.progress,this.loadedCount,this.totalCount,this.content)},e.prototype.toString=function(){return"[AssetLoaderEvent] type = "+this.getType()+", progress = "+this.progress+", loadedCount = "+this.loadedCount+", totalCount = "+this.totalCount},e.PROGRESS="progress",e.COMPLETE="complete",e.ERROR="error",e}(cmd.Event);t.AssetLoaderEvent=e}(alm||(alm={}));var alm;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.view=e,i.isInitializing=!1,i.isInitialized=!1,i.isReady=!1,i.isShowing=!1,i.isShown=!0,i.isHiding=!1,i.autoHideWithInit=!0,i.name="",i}return __extends(e,t),e.prototype.initialize=function(){this.isInitializing||this.isInitialized||(this.isInitializing=!0,this.view=this.implInitialize(),throwError(this.name||this,"view is null",!this.view),this.hide(!1),this.isInitializing=!1,this.isInitialized=!0)},e.prototype.ready=function(){this.isReady||(throwError(this.name||this,"ready() was called without being initialized",!this.isInitialized),this.implReady(),this.isReady=!0)},e.prototype.finalize=function(){this.implFinalize()},e.prototype.show=function(t){void 0===t&&(t=!0),this.isShown||this.getShowCommand(t).execute()},e.prototype.hide=function(t){void 0===t&&(t=!0),this.isShown&&this.getHideCommand(t).execute()},e.prototype.getShowCommand=function(t){var e=this;void 0===t&&(t=!0);var i=new cmd.Serial;return i.addCommand(new cmd.Func(function(){e.isShown||(throwError(e.name||e,"getShowCommand() was called without being initialized",!e.isInitialized),throwWarn(e.name||e,"getShowCommand() was called without being ready",!e.isReady),e.isShown=!0,e.isShowing=!0,e.isHiding=!1,e.showCommand&&(e.showCommand.interrupt(),e.showCommand=null),e.hideCommand&&(e.hideCommand.interrupt(),e.hideCommand=null),e.showCommand=i,i.insertCommand(e.implShow(e.view,t),new cmd.Func(function(){e.showCommand=null,e.isShowing=!1})))})),i},e.prototype.getHideCommand=function(t){var e=this;void 0===t&&(t=!0);var i=new cmd.Serial;return i.addCommand(new cmd.Func(function(){e.isShown&&(e.isInitializing||(throwError(e.name||e,"getHideCommand() was called without being initialized",!e.isInitialized),throwWarn(e.name||e,"getHideCommand() was called without being ready",!e.isReady)),e.isShown=!1,e.isShowing=!1,e.isHiding=!0,e.showCommand&&(e.showCommand.interrupt(),e.showCommand=null),e.hideCommand&&(e.hideCommand.interrupt(),e.hideCommand=null),e.hideCommand=i,i.insertCommand(e.implHide(e.view,t),new cmd.Func(function(){e.hideCommand=null,e.isHiding=!1})))})),i},e.prototype.getIsInitializing=function(){return this.isInitializing},e.prototype.getIsInitialized=function(){return this.isInitialized},e.prototype.getIsReady=function(){return this.isReady},e.prototype.getIsShowing=function(){return this.isShowing},e.prototype.getIsShown=function(){return this.isShown},e.prototype.getIsHiding=function(){return this.isHiding},e.prototype.getIsHidden=function(){return!this.isShown},e.prototype.getView=function(){return this.view},e.prototype.getAutoHideWithInit=function(){return this.autoHideWithInit},e.prototype.setAutoHideWithInit=function(t){this.autoHideWithInit=t},e.prototype.getName=function(){return this.name},e.prototype.setName=function(t){this.name=t},e}(cmd.EventDispatcher);t.View=e}(alm||(alm={}));
//# sourceMappingURL=alumican.min.js.map
