{"version":3,"sources":["../src/alumican/alm/util/Time.ts","../src/alumican/alm/math/Easing.ts","../src/alumican/alm/browser/QueryString.ts","../src/alumican/alm/debug/Logger.ts","../src/alumican/alm/debug/FpsMonitor.ts","../src/alumican/alm/event/Event.ts","../src/alumican/alm/event/EventDispatcher.ts","../src/alumican/cmd/CommandState.ts","../src/alumican/cmd/CommandEvent.ts","../src/alumican/cmd/Command.ts","../src/alumican/cmd/CommandList.ts","../src/alumican/cmd/Break.ts","../src/alumican/cmd/Return.ts","../src/alumican/cmd/Log.ts","../src/alumican/cmd/Wait.ts","../src/alumican/cmd/Func.ts","../src/alumican/cmd/Listen.ts","../src/alumican/cmd/Tween.ts","../src/alumican/cmd/Serial.ts","../src/alumican/cmd/Parallel.ts","../src/alumican/alm/geom/Vector2.ts","../src/alumican/alm/geom/Vector3.ts","../src/alumican/alm/geom/Rectangle.ts","../src/alumican/alm/geom/Boxer.ts","../src/alumican/alm/util/Obj.ts","../src/alumican/alm/util/Arr.ts","../src/alumican/alm/util/Num.ts","../src/alumican/alm/util/Str.ts","../src/alumican/alm/util/Cmd.ts","../src/alumican/alm/resource/ObjectPool.ts","../src/alumican/alm/state/Lottery.ts","../src/alumican/alm/state/Switcher.ts","../src/alumican/alm/state/SwitcherEvent.ts","../src/alumican/alm/state/LoHi.ts","../src/alumican/alm/state/LoHiEvent.ts","../src/alumican/alm/math/EasingValue.ts","../src/alumican/alm/math/SpringValue.ts","../src/alumican/alm/math/SimpleAverage.ts","../src/alumican/alm/math/SimpleMovingAverage.ts","../src/alumican/alm/math/MaxValue.ts","../src/alumican/alm/math/Circular.ts","../src/alumican/alm/time/AnimationFrameTicker.ts","../src/alumican/alm/time/AnimationFrameTickerEvent.ts","../src/alumican/alm/time/Timer.ts","../src/alumican/alm/time/TimerEvent.ts","../src/alumican/alm/io/FileLoader.ts","../src/alumican/alm/io/FileLoaderProgressEvent.ts","../src/alumican/alm/io/FileLoaderSuccessEvent.ts","../src/alumican/alm/io/FileLoaderErrorEvent.ts","../src/alumican/alm/io/FileQuery.ts","../src/alumican/alm/audio/core/AudioClip.ts","../src/alumican/alm/audio/AudioPlayer.ts","../src/alumican/alm/audio/CrossOverLoopAudio.ts","../src/alumican/alm/audio/FootstepAudio.ts","../src/alumican/alm/view/View.ts","../src/alumican/alm/view/ButtonBehavior.ts","../src/alumican/alm/view/SelectionBehavior.ts","../src/alumican/alm/browser/DeviceInfo.ts","../src/alumican/alm/browser/LocalStorage.ts","../src/alumican/alm/browser/KeyWatcher.ts","../src/alumican/alm/browser/KeyWatcherEvent.ts","../src/alumican/alm/browser/WindowWatcher.ts","../src/alumican/alm/browser/WindowWatcherEvent.ts","../src/alumican/alm/browser/ScrollSectionTriggerEvent.ts","../src/alumican/alm/browser/ScrollSectionTrigger.ts","../src/alumican/alm/browser/ResponsiveObserver.ts","../src/alumican/alm/browser/ResponsiveObserverEvent.ts","../src/alumican/scn/Scene.ts","../src/alumican/scn/SceneEvent.ts","../src/alumican/scn/SceneManager.ts","../src/alumican/scn/SceneManagerEvent.ts","../src/alumican/scn/SceneTransferInfo.ts","../src/alumican/scn/SceneState.ts","../src/alumican/scn/core/Direction.ts","../src/alumican/scn/core/RootScene.ts","../src/alumican/scn/core/Waypoint.ts","../src/alumican/index.ts","../src/alumican/alm/util/Hash.ts","../src/alumican/alm/io/IFileHandler.ts","../src/alumican/alm/view/IButton.ts","../src/alumican/alm/view/ISelection.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA,IAAU,GAAG,CAcZ;AAdD,WAAU,GAAG;IAAC,IAAA,IAAI,CAcjB;IAda,WAAA,IAAI;QAEjB;YAUC;YAAuB,CAAC;YAJV,QAAG,GAAjB;gBACC,OAAO,CAAC,MAAM,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;YAC3C,CAAC;YAGF,WAAC;QAAD,CAXA,AAWC,IAAA;QAXY,SAAI,OAWhB,CAAA;IACF,CAAC,EAda,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAcjB;AAAD,CAAC,EAdS,GAAG,KAAH,GAAG,QAcZ;ACdD,IAAU,GAAG,CA4QZ;AA5QD,WAAU,GAAG;IAAC,IAAA,IAAI,CA4QjB;IA5Qa,WAAA,IAAI;QAIjB;YAAA;YAuQA,CAAC;YArQc,aAAM,GAApB,UAAqB,CAAQ;gBAC5B,OAAO,CAAC,CAAC;YACV,CAAC;YAMa,iBAAU,GAAxB,UAAyB,CAAQ;gBAChC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACrB,CAAC;YAEa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5B,CAAC;YAEa,oBAAa,GAA3B,UAA4B,CAAQ;gBACnC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;oBAAE,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;gBACvC,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACrC,CAAC;YAMa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;YAEa,mBAAY,GAA1B,UAA2B,CAAQ;gBAClC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAChC,CAAC;YAEa,qBAAc,GAA5B,UAA6B,CAAQ;gBACpC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;oBAAE,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC3C,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACrC,CAAC;YAMa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC7B,CAAC;YAEa,mBAAY,GAA1B,UAA2B,CAAQ;gBAClC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACvC,CAAC;YAEa,qBAAc,GAA5B,UAA6B,CAAQ;gBACpC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;oBAAE,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC/C,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAC1C,CAAC;YAMa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjC,CAAC;YAEa,mBAAY,GAA1B,UAA2B,CAAQ;gBAClC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAC1C,CAAC;YAEa,qBAAc,GAA5B,UAA6B,CAAQ;gBACpC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;oBAAE,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACnD,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7C,CAAC;YAMa,iBAAU,GAAxB,UAAyB,CAAQ;gBAChC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACzC,CAAC;YAEa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;YACpC,CAAC;YAEa,oBAAa,GAA3B,UAA4B,CAAQ;gBACnC,OAAO,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3C,CAAC;YAMa,iBAAU,GAAxB,UAAyB,CAAQ;gBAChC,IAAI,CAAC,IAAI,CAAC;oBAAE,OAAO,CAAC,CAAC;gBACrB,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAClC,CAAC;YAEa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,IAAI,CAAC,IAAI,CAAC;oBAAE,OAAO,CAAC,CAAC;gBACrB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YAClC,CAAC;YAEa,oBAAa,GAA3B,UAA4B,CAAQ;gBACnC,IAAI,CAAC,IAAI,CAAC;oBAAE,OAAO,CAAC,CAAC;gBACrB,IAAI,CAAC,IAAI,CAAC;oBAAE,OAAO,CAAC,CAAC;gBACrB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;oBAAE,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC3D,OAAO,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5C,CAAC;YAMa,iBAAU,GAAxB,UAAyB,CAAQ;gBAChC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3C,CAAC;YAEa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACvC,CAAC;YAEa,oBAAa,GAA3B,UAA4B,CAAQ;gBACnC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;oBAAE,OAAO,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC7D,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAChD,CAAC;YAMa,0BAAmB,GAAjC,UAAkC,CAAkB;gBAAlB,kBAAA,EAAA,WAAkB;gBACnD,OAAO,UAAU,CAAQ;oBACxB,IAAI,CAAC,GAAU,CAAC,CAAC;oBACjB,IAAI,CAAC,GAAU,CAAC,CAAC;oBACjB,IAAI,CAAC,IAAI,CAAC;wBAAE,OAAO,CAAC,CAAC;oBACrB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;wBAAE,OAAO,CAAC,CAAC;oBAC5B,IAAI,CAAC,IAAI,CAAC;wBAAE,CAAC,GAAG,GAAG,CAAC;oBACpB,IAAI,CAAC,GAAG,CAAC,EAAE;wBACV,CAAC,GAAG,CAAC,CAAC;wBACN,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;qBACV;yBAAM;wBACN,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBACzC;oBACD,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChF,CAAC,CAAA;YACF,CAAC;YAEa,2BAAoB,GAAlC,UAAmC,CAAkB;gBAAlB,kBAAA,EAAA,WAAkB;gBACpD,OAAO,UAAU,CAAQ;oBACxB,IAAI,CAAC,GAAU,CAAC,CAAC;oBACjB,IAAI,CAAC,GAAU,CAAC,CAAC;oBACjB,IAAI,CAAC,IAAI,CAAC;wBAAE,OAAO,CAAC,CAAC;oBACrB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;wBAAE,OAAO,CAAC,CAAC;oBAC5B,IAAI,CAAC,IAAI,CAAC;wBAAE,CAAC,GAAG,GAAG,CAAC;oBACpB,IAAI,CAAC,GAAG,CAAC,EAAE;wBACV,CAAC,GAAG,CAAC,CAAC;wBACN,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;qBACV;yBAAM;wBACN,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBACzC;oBACD,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC7E,CAAC,CAAA;YACF,CAAC;YAEa,6BAAsB,GAApC,UAAqC,CAAkB;gBAAlB,kBAAA,EAAA,WAAkB;gBACtD,OAAO,UAAU,CAAQ;oBACxB,IAAI,CAAC,GAAU,CAAC,CAAC;oBACjB,IAAI,CAAC,GAAU,CAAC,CAAC;oBACjB,IAAI,CAAC,IAAI,CAAC;wBAAE,OAAO,CAAC,CAAC;oBACrB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC;wBAAE,OAAO,CAAC,CAAC;oBAC9B,IAAI,CAAC,IAAI,CAAC;wBAAE,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;oBAC1B,IAAI,CAAC,GAAG,CAAC,EAAE;wBACV,CAAC,GAAG,CAAC,CAAC;wBACN,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;qBACV;yBAAM;wBACN,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBACzC;oBACD,IAAI,CAAC,GAAG,CAAC;wBAAE,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;oBAChG,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;gBAC1F,CAAC,CAAA;YACF,CAAC;YAEa,oBAAa,GAA3B,UAA4B,CAAQ;gBACnC,OAAO,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC;YAEa,qBAAc,GAA5B,UAA6B,CAAQ;gBACpC,OAAO,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YACxC,CAAC;YAEa,uBAAgB,GAA9B,UAA+B,CAAQ;gBACtC,OAAO,MAAM,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC;YAC1C,CAAC;YAUa,uBAAgB,GAA9B,UAA+B,CAAkB;gBAAlB,kBAAA,EAAA,WAAkB;gBAChD,OAAO,UAAU,CAAQ;oBACxB,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzC,CAAC,CAAA;YACF,CAAC;YAEa,wBAAiB,GAA/B,UAAgC,CAAkB;gBAAlB,kBAAA,EAAA,WAAkB;gBACjD,OAAO,UAAU,CAAQ;oBACxB,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAChD,CAAC,CAAA;YACF,CAAC;YAEa,0BAAmB,GAAjC,UAAkC,CAAkB;gBAAlB,kBAAA,EAAA,WAAkB;gBACnD,OAAO,UAAU,CAAQ;oBACxB,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC;wBAAE,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;oBACtE,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChE,CAAC,CAAA;YACF,CAAC;YAEa,iBAAU,GAAxB,UAAyB,CAAQ;gBAChC,OAAO,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC;YAEa,kBAAW,GAAzB,UAA0B,CAAQ;gBACjC,OAAO,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YACrC,CAAC;YAEa,oBAAa,GAA3B,UAA4B,CAAQ;gBACnC,OAAO,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC;YAUa,mBAAY,GAA1B,UAA2B,CAAQ;gBAClC,OAAO,CAAC,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACxC,CAAC;YAEa,oBAAa,GAA3B,UAA4B,CAAQ;gBACnC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;oBAC1B,OAAO,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;iBACtB;qBAAM,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;oBAC1B,OAAO,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;iBAC/C;qBAAM,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE;oBAC5B,OAAO,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;iBAClD;qBAAM;oBACN,OAAO,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;iBACrD;YACF,CAAC;YAEa,sBAAe,GAA7B,UAA8B,CAAQ;gBACrC,IAAI,CAAC,GAAG,GAAG;oBAAE,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;gBACrD,OAAO,MAAM,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;YACpD,CAAC;YAlEc,2BAAoB,GAAkB,MAAM,CAAC,mBAAmB,EAAE,CAAC;YACnE,4BAAqB,GAAkB,MAAM,CAAC,oBAAoB,EAAE,CAAC;YACrE,8BAAuB,GAAkB,MAAM,CAAC,sBAAsB,EAAE,CAAC;YAqCzE,wBAAiB,GAAkB,MAAM,CAAC,gBAAgB,EAAE,CAAC;YAC7D,yBAAkB,GAAkB,MAAM,CAAC,iBAAiB,EAAE,CAAC;YAC/D,2BAAoB,GAAkB,MAAM,CAAC,mBAAmB,EAAE,CAAC;YA0BnF,aAAC;SAvQD,AAuQC,IAAA;QAvQY,WAAM,SAuQlB,CAAA;IACF,CAAC,EA5Qa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA4QjB;AAAD,CAAC,EA5QS,GAAG,KAAH,GAAG,QA4QZ;AC5QD,IAAU,GAAG,CAuGZ;AAvGD,WAAU,GAAG;IAAC,IAAA,OAAO,CAuGpB;IAvGa,WAAA,OAAO;QAIpB;YAQC,qBAAY,GAAe;gBAAf,oBAAA,EAAA,QAAe;gBAC1B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACf,CAAC;YAYM,yBAAG,GAAV,UAAW,GAAe;gBAAf,oBAAA,EAAA,QAAe;gBAEzB,IAAI,MAAM,GAAU,EAAE,CAAC;gBACvB,IAAI,GAAG,IAAI,EAAE,EAAE;oBACd,IAAM,KAAK,GAAU,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACtC,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;wBAChB,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;qBAC9B;iBACD;qBAAM;oBACN,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;iBACzB;gBAED,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;gBACf,IAAM,KAAK,GAAY,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACtD,IAAI,IAAa,CAAC;gBAClB,KAAI,IAAI,CAAC,GAAU,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;oBACpC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBAC3B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC7B;YACF,CAAC;YAGM,+BAAS,GAAhB,UAAiB,GAAU,EAAE,YAAmB;gBAC/C,IAAM,KAAK,GAAU,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACpC,OAAO,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC;YACnD,CAAC;YAGM,4BAAM,GAAb,UAAc,GAAU,EAAE,YAAmB;gBAC5C,IAAM,KAAK,GAAU,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9C,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC;YAC5C,CAAC;YAGM,8BAAQ,GAAf,UAAgB,GAAU,EAAE,YAAmB;gBAC9C,IAAM,KAAK,GAAU,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChD,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC;YAC5C,CAAC;YAGM,6BAAO,GAAd,UAAe,GAAU,EAAE,YAAoB;gBAC9C,IAAM,KAAK,GAAU,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACpC,OAAO,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAM,KAAK,IAAI,IAAI,CAAC,CAAC;YAClE,CAAC;YAEM,6BAAO,GAAd;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEM,6BAAO,GAAd,UAAe,IAAiB;gBAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAClB,CAAC;YAEM,8BAAQ,GAAf,UAAgB,GAAU,EAAE,KAAS;gBACpC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACxB,CAAC;YAEM,iCAAW,GAAlB,UAAmB,GAAU;gBAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACvB,CAAC;YAEM,8BAAQ,GAAf,UAAgB,GAAU;gBACzB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,SAAS,CAAC;YACrC,CAAC;YAaF,kBAAC;QAAD,CAlGA,AAkGC,IAAA;QAlGY,mBAAW,cAkGvB,CAAA;IACF,CAAC,EAvGa,OAAO,GAAP,WAAO,KAAP,WAAO,QAuGpB;AAAD,CAAC,EAvGS,GAAG,KAAH,GAAG,QAuGZ;ACvGD,IAAU,GAAG,CAoNZ;AApND,WAAU,GAAG;IAAC,IAAA,KAAK,CAoNlB;IApNa,WAAA,KAAK;QAElB,IAAO,WAAW,GAAG,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC;QAE7C,IAAY,WAMX;QAND,WAAY,WAAW;YACtB,mDAAW,CAAA;YACX,6CAAQ,CAAA;YACR,6CAAQ,CAAA;YACR,+CAAS,CAAA;YACT,iDAAU,CAAA;QACX,CAAC,EANW,WAAW,GAAX,iBAAW,KAAX,iBAAW,QAMtB;QAkBD;YAAA;YAaA,CAAC;YAXO,6BAAO,GAAd,UAAe,MAAa,EAAE,QAAc;YAC5C,CAAC;YAEM,0BAAI,GAAX,UAAY,MAAa,EAAE,QAAc;YACzC,CAAC;YAEM,0BAAI,GAAX,UAAY,MAAa,EAAE,QAAc;YACzC,CAAC;YAEM,2BAAK,GAAZ,UAAa,MAAa,EAAE,QAAc;YAC1C,CAAC;YACF,kBAAC;QAAD,CAbA,AAaC,IAAA;QAbY,iBAAW,cAavB,CAAA;QAMD;YAAA;YAiBA,CAAC;YAfO,gCAAO,GAAd,UAAe,MAAa,EAAE,QAAc;gBAC3C,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrF,CAAC;YAEM,6BAAI,GAAX,UAAY,MAAa,EAAE,QAAc;gBACxC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACnF,CAAC;YAEM,6BAAI,GAAX,UAAY,MAAa,EAAE,QAAc;gBACxC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACpF,CAAC;YAEM,8BAAK,GAAZ,UAAa,MAAa,EAAE,QAAc;gBACzC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrF,CAAC;YACF,qBAAC;QAAD,CAjBA,AAiBC,IAAA;QAjBY,oBAAc,iBAiB1B,CAAA;QAMD;YAEC,oBAAY,GAAe,EAAE,IAAY;gBACxC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;gBACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAClB,CAAC;YAEM,4BAAO,GAAd,UAAe,MAAa,EAAE,QAAc;gBAC3C,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC9B,CAAC;YAEM,yBAAI,GAAX,UAAY,MAAa,EAAE,QAAc;gBACxC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC9B,CAAC;YAEM,yBAAI,GAAX,UAAY,MAAa,EAAE,QAAc;gBACxC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC9B,CAAC;YAEM,0BAAK,GAAZ,UAAa,MAAa,EAAE,QAAc;gBACzC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC9B,CAAC;YAEO,0BAAK,GAAb,UAAc,MAAa,EAAE,QAAc;gBAC1C,IAAM,IAAI,GAAU,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjD,IAAI,IAAI,CAAC,IAAI,EAAE;oBACd,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC;iBAC1D;qBAAM;oBACN,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC;iBACtD;YACF,CAAC;YAIF,iBAAC;QAAD,CAlCA,AAkCC,IAAA;QAlCY,gBAAU,aAkCtB,CAAA;QAMD;YAEC,yBAAY,OAAkB;gBAC7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACxB,CAAC;YAEM,iCAAO,GAAd,UAAe,MAAa,EAAE,QAAc;gBAC3C,IAAM,CAAC,GAAU,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAClC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;iBAC1C;YACF,CAAC;YAEM,8BAAI,GAAX,UAAY,MAAa,EAAE,QAAc;gBACxC,IAAM,CAAC,GAAU,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAClC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;iBACvC;YACF,CAAC;YAEM,8BAAI,GAAX,UAAY,MAAa,EAAE,QAAc;gBACxC,IAAM,CAAC,GAAU,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAClC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;iBACvC;YACF,CAAC;YAEM,+BAAK,GAAZ,UAAa,MAAa,EAAE,QAAc;gBACzC,IAAM,CAAC,GAAU,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAClC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;iBACxC;YACF,CAAC;YAGF,sBAAC;QAAD,CAnCA,AAmCC,IAAA;QAnCY,qBAAe,kBAmC3B,CAAA;QAMD;YA2DC;YAAuB,CAAC;YArDV,sBAAe,GAA7B,UAA8B,GAAU;gBACvC,IAAM,KAAK,GAAU,IAAI,WAAW,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;gBACvE,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC;YAC1D,CAAC;YAEa,mBAAY,GAA1B,UAA2B,SAAgB;gBAC1C,MAAM,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC7D,CAAC;YAEa,cAAO,GAArB;gBAAsB,kBAAiB;qBAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;oBAAjB,6BAAiB;;gBACtC,IAAI,MAAM,CAAC,KAAK,IAAI,WAAW,CAAC,OAAO,EAAE;oBACxC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,GAAG,WAAW,EAAE,QAAQ,CAAC,CAAC;iBACtE;YACF,CAAC;YAEa,WAAI,GAAlB;gBAAmB,kBAAiB;qBAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;oBAAjB,6BAAiB;;gBACnC,IAAI,MAAM,CAAC,KAAK,IAAI,WAAW,CAAC,IAAI,EAAE;oBACrC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,GAAG,WAAW,EAAE,QAAQ,CAAC,CAAC;iBACnE;YACF,CAAC;YAEa,WAAI,GAAlB;gBAAmB,kBAAiB;qBAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;oBAAjB,6BAAiB;;gBACnC,IAAI,MAAM,CAAC,KAAK,IAAI,WAAW,CAAC,IAAI,EAAE;oBACrC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,GAAG,WAAW,EAAE,QAAQ,CAAC,CAAC;iBAEnE;YACF,CAAC;YAEa,YAAK,GAAnB;gBAAoB,kBAAiB;qBAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;oBAAjB,6BAAiB;;gBACpC,IAAI,MAAM,CAAC,KAAK,IAAI,WAAW,CAAC,KAAK,EAAE;oBACtC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,GAAG,WAAW,EAAE,QAAQ,CAAC,CAAC;iBAEpE;YACF,CAAC;YAEa,aAAM,GAApB,UAAqB,MAAU,EAAE,OAAc,EAAE,SAAwB;gBAAxB,0BAAA,EAAA,gBAAwB;gBACxE,IAAI,MAAM,CAAC,KAAK,IAAI,WAAW,CAAC,IAAI,IAAI,SAAS,EAAE;oBAClD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,GAAG,WAAW,EAAE,CAAC,OAAO,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;iBAErF;YACF,CAAC;YAEa,cAAO,GAArB,UAAsB,MAAU,EAAE,OAAe,EAAE,SAAwB;gBAAxB,0BAAA,EAAA,gBAAwB;gBAC1E,IAAI,MAAM,CAAC,KAAK,IAAI,WAAW,CAAC,KAAK,IAAI,SAAS,EAAE;oBACnD,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,GAAG,WAAW,EAAE,CAAC,OAAO,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;iBAEtF;YACF,CAAC;YAEa,iBAAU,GAAxB;gBACC,OAAO,CAAC,KAAK,EAAE,CAAC;YACjB,CAAC;YAvDa,YAAK,GAAU,WAAW,CAAC,OAAO,CAAC;YACnC,aAAM,GAAY,IAAI,cAAc,EAAE,CAAC;YACtC,gBAAS,GAAU,EAAE,CAAC;YAwDtC,aAAC;SA5DD,AA4DC,IAAA;QA5DY,YAAM,SA4DlB,CAAA;IACF,CAAC,EApNa,KAAK,GAAL,SAAK,KAAL,SAAK,QAoNlB;AAAD,CAAC,EApNS,GAAG,KAAH,GAAG,QAoNZ;AAED,SAAS,KAAK;IAAC,kBAAiB;SAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;QAAjB,6BAAiB;;IAC/B,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;AACtD,CAAC;AAED,SAAS,SAAS,CAAC,MAAU,EAAE,OAAc,EAAE,SAAwB;IAAxB,0BAAA,EAAA,gBAAwB;IACtE,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AAChD,CAAC;AAED,SAAS,UAAU,CAAC,MAAU,EAAE,OAAc,EAAE,SAAwB;IAAxB,0BAAA,EAAA,gBAAwB;IACvE,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AACjD,CAAC;AChOD,IAAU,GAAG,CA8EZ;AA9ED,WAAU,GAAG;IAAC,IAAA,KAAK,CA8ElB;IA9Ea,WAAA,KAAK;QAElB,IAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QAE5B;YAQC;gBACC,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAYM,0BAAK,GAAZ;gBACC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;gBACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBAC5B,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;YAC1B,CAAC;YAEM,2BAAM,GAAb;gBACC,EAAE,IAAI,CAAC,UAAU,CAAC;gBAClB,IAAM,WAAW,GAAU,IAAI,CAAC,GAAG,EAAE,CAAC;gBACtC,IAAM,WAAW,GAAU,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC;gBACxD,IAAI,WAAW,IAAI,IAAI,EAAE;oBACxB,IAAI,CAAC,eAAe,GAAG,IAAI,GAAG,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;oBAC5D,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;oBACpB,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC;oBAC7B,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE;wBAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC;qBACtC;iBACD;YACF,CAAC;YAEM,sCAAiB,GAAxB,UAAyB,SAAgB;gBACxC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;gBAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;YACtC,CAAC;YAEM,wCAAmB,GAA1B;gBACC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC;YACvC,CAAC;YAEM,iCAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAiBF,iBAAC;QAAD,CAzEA,AAyEC,IAAA;QAzEY,gBAAU,aAyEtB,CAAA;IACF,CAAC,EA9Ea,KAAK,GAAL,SAAK,KAAL,SAAK,QA8ElB;AAAD,CAAC,EA9ES,GAAG,KAAH,GAAG,QA8EZ;AC9ED,IAAU,GAAG,CA8CZ;AA9CD,WAAU,GAAG;IAAC,IAAA,KAAK,CA8ClB;IA9Ca,WAAA,KAAK;QAElB;YAQC,eAAY,IAAW,EAAE,MAAa,EAAE,IAAa;gBAAb,qBAAA,EAAA,WAAa;gBACpD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAClB,CAAC;YAEM,uBAAO,GAAd;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEM,yBAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAEM,uBAAO,GAAd;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEM,uBAAO,GAAd,UAAe,IAAM;gBACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAClB,CAAC;YAeF,YAAC;QAAD,CA3CA,AA2CC,IAAA;QA3CY,WAAK,QA2CjB,CAAA;IACF,CAAC,EA9Ca,KAAK,GAAL,SAAK,KAAL,SAAK,QA8ClB;AAAD,CAAC,EA9CS,GAAG,KAAH,GAAG,QA8CZ;AC9CD,IAAU,GAAG,CAwGZ;AAxGD,WAAU,GAAG;IAAC,IAAA,KAAK,CAwGlB;IAxGa,WAAA,OAAK;QAElB,IAAO,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;QAGjC;YAQC,yBAAY,MAAiB;gBAAjB,uBAAA,EAAA,aAAiB;gBAC5B,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,IAAI,CAAC;gBAC7B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACrB,CAAC;YAYM,0CAAgB,GAAvB,UAAwB,SAAgB,EAAE,QAAsB;gBAC/D,IAAI,OAAM,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;oBACnC,MAAM,CAAC,IAAI,CAAC,+EAA+E,GAAG,SAAS,GAAG,iBAAiB,GAAG,QAAQ,CAAC,CAAC;oBACxI,OAAO;iBACP;gBACD,IAAI,SAAS,GAAmB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC1D,IAAI,SAAS,EAAE;oBACd,IAAM,YAAY,GAAU,SAAS,CAAC,MAAM,CAAC;oBAC7C,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,EAAE,CAAC,EAAE;wBAC7C,IAAI,QAAQ,IAAI,SAAS,CAAC,CAAC,CAAC;4BAAE,OAAO;qBACrC;iBACD;qBAAM;oBACN,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC;iBAC3C;gBACD,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1B,CAAC;YAEM,6CAAmB,GAA1B,UAA2B,SAAgB,EAAE,QAAsB;gBAClE,IAAI,OAAM,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;oBACnC,MAAM,CAAC,IAAI,CAAC,kFAAkF,GAAG,SAAS,GAAG,iBAAiB,GAAG,QAAQ,CAAC,CAAC;oBAC3I,OAAO;iBACP;gBACD,IAAI,SAAS,GAAmB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC1D,IAAI,SAAS,EAAE;oBACd,IAAM,YAAY,GAAU,SAAS,CAAC,MAAM,CAAC;oBAC7C,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,EAAE,CAAC,EAAE;wBAC7C,IAAI,QAAQ,IAAI,SAAS,CAAC,CAAC,CAAC,EAAE;4BAC7B,SAAS,CAAC,MAAM,CAAC,CAAC,EAAG,CAAC,CAAC,CAAC;4BACxB,MAAM;yBACN;qBACD;oBACD,IAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;wBAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;qBACjC;iBACD;YACF,CAAC;YAEM,gDAAsB,GAA7B,UAA8B,SAAuB;gBAAvB,0BAAA,EAAA,gBAAuB;gBACpD,IAAI,SAAS,EAAE;oBACd,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;iBACjC;qBAAM;oBACN,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;iBACpB;YACF,CAAC;YAEM,0CAAgB,GAAvB,UAAwB,SAAgB;gBACvC,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;YAC1C,CAAC;YAEM,uCAAa,GAApB,UAAqB,KAAW;gBAC/B,IAAI,SAAS,GAAmB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBAChE,IAAI,SAAS,EAAE;oBACd,IAAM,YAAY,GAAU,SAAS,CAAC,MAAM,CAAC;oBAC7C,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,EAAE,CAAC,EAAE;wBAC7C,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;qBACtC;iBACD;YACF,CAAC;YAEM,2CAAiB,GAAxB,UAAkC,SAAgB,EAAE,MAAoB,EAAE,IAAa;gBAAnC,uBAAA,EAAA,aAAoB;gBAAE,qBAAA,EAAA,WAAa;gBACtF,IAAI,CAAC,aAAa,CAAC,IAAI,QAAA,KAAK,CAAI,SAAS,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;YAC3D,CAAC;YAcF,sBAAC;QAAD,CAlGA,AAkGC,IAAA;QAlGY,uBAAe,kBAkG3B,CAAA;IACF,CAAC,EAxGa,KAAK,GAAL,SAAK,KAAL,SAAK,QAwGlB;AAAD,CAAC,EAxGS,GAAG,KAAH,GAAG,QAwGZ;ACxGD,IAAU,GAAG,CAOZ;AAPD,WAAU,GAAG;IAEZ,IAAY,YAIX;IAJD,WAAY,YAAY;QACvB,uDAAgB,CAAA;QAChB,yDAAgB,CAAA;QAChB,+DAAgB,CAAA;IACjB,CAAC,EAJW,YAAY,GAAZ,gBAAY,KAAZ,gBAAY,QAIvB;AACF,CAAC,EAPS,GAAG,KAAH,GAAG,QAOZ;ACPD,IAAU,GAAG,CAwDZ;AAxDD,WAAU,GAAG;IAEZ,IAAO,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;IAE/B;QAAkC,gCAAK;QAoBtC,sBAAY,SAAgB,EAAE,WAAsB;YAAtB,4BAAA,EAAA,kBAAsB;mBACnD,kBAAM,SAAS,EAAE,WAAW,CAAC;QAC9B,CAAC;QAYM,4BAAK,GAAZ;YACC,OAAO,IAAI,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAC3D,CAAC;QAEM,+BAAQ,GAAf;YACC,OAAO,wBAAwB,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;QAClD,CAAC;QAhCa,qBAAQ,GAAU,UAAU,CAAC;QA2C5C,mBAAC;KAnDD,AAmDC,CAnDiC,KAAK,GAmDtC;IAnDY,gBAAY,eAmDxB,CAAA;AACF,CAAC,EAxDS,GAAG,KAAH,GAAG,QAwDZ;ACxDD,IAAU,GAAG,CAkHZ;AAlHD,WAAU,GAAG;IAEZ,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;IAEnD;QAA6B,2BAAe;QAQ3C,iBAAY,eAA+B,EAAE,iBAAiC,EAAE,eAA+B;YAAnG,gCAAA,EAAA,sBAA+B;YAAE,kCAAA,EAAA,wBAAiC;YAAE,gCAAA,EAAA,sBAA+B;YAA/G,YACC,iBAAO,SASP;YAPA,KAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;YACzC,KAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;YAC7C,KAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;YAEzC,KAAI,CAAC,KAAK,GAAG,IAAA,YAAY,CAAC,QAAQ,CAAC;YACnC,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC;YACjB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;QACpB,CAAC;QAYM,yBAAO,GAAd;YACC,IAAI,IAAI,CAAC,KAAK,GAAG,IAAA,YAAY,CAAC,QAAQ,EAAE;gBACvC,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;aACrE;YACD,IAAI,CAAC,KAAK,GAAG,IAAA,YAAY,CAAC,SAAS,CAAC;YACpC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC5C,CAAC;QAEM,2BAAS,GAAhB;YACC,IAAI,IAAI,CAAC,KAAK,IAAI,IAAA,YAAY,CAAC,SAAS,EAAE;gBACzC,IAAI,CAAC,KAAK,GAAG,IAAA,YAAY,CAAC,YAAY,CAAC;gBACvC,IAAI,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC7C;QACF,CAAC;QAEM,yBAAO,GAAd;YACC,IAAI,CAAC,KAAK,GAAG,IAAA,YAAY,CAAC,QAAQ,CAAC;YACnC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC7B,CAAC;QAES,gCAAc,GAAxB;YACC,QAAQ,IAAI,CAAC,KAAK,EAAE;gBACnB,KAAK,IAAA,YAAY,CAAC,QAAQ;oBACzB,MAAM;gBACP,KAAK,IAAA,YAAY,CAAC,SAAS;oBAC1B,IAAI,CAAC,aAAa,CAAC,IAAI,IAAA,YAAY,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;oBAClE,IAAI,CAAC,OAAO,EAAE,CAAC;oBACf,MAAM;gBACP,KAAK,IAAA,YAAY,CAAC,YAAY;oBAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,IAAA,YAAY,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;oBAClE,IAAI,CAAC,OAAO,EAAE,CAAC;oBACf,MAAM;aACP;QACF,CAAC;QAES,qCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,cAAc,EAAE,CAAC;QACvB,CAAC;QACS,uCAAqB,GAA/B,UAAgC,OAAe;QAC/C,CAAC;QAES,qCAAmB,GAA7B,UAA8B,OAAe;QAC7C,CAAC;QAYM,oCAAkB,GAAzB,cAAuC,OAAO,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,mBAAmB,CAAA,CAAC,CAAC;QAAA,CAAC;QAC1F,oCAAkB,GAAzB,UAA0B,IAAa,IAAS,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC;QAGvE,sCAAoB,GAA3B,cAAyC,OAAO,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,qBAAqB,CAAA,CAAC,CAAC;QAAA,CAAC;QAChG,sCAAoB,GAA3B,UAA4B,IAAa,IAAS,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,CAAC,CAAC;QAG3E,oCAAkB,GAAzB,cAAuC,OAAO,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,mBAAmB,CAAA,CAAC,CAAC;QAAA,CAAC;QAC1F,oCAAkB,GAAzB,UAA0B,IAAa,IAAS,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC;QAGvE,0BAAQ,GAAf,cAAiC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAG9C,2BAAS,GAAhB,cAA6B,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3C,2BAAS,GAAhB,UAAiB,MAAc,IAAS,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;QAGxD,yBAAO,GAAd,cAA2B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE/C,cAAC;IAAD,CA7GA,AA6GC,CA7G4B,eAAe,GA6G3C;IA7GY,WAAO,UA6GnB,CAAA;AACF,CAAC,EAlHS,GAAG,KAAH,GAAG,QAkHZ;AClHD,IAAU,GAAG,CAkGZ;AAlGD,WAAU,GAAG;IAEZ;QAA0C,+BAAO;QAQhD;YAAY,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YAA5C,YACC,iBAAO,SAGP;YAFA,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,KAAI,CAAC,UAAU,OAAf,KAAI,EAAe,QAAQ,EAAE;;QAC9B,CAAC;QAYM,gCAAU,GAAjB;YAAkB,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YACjD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,MAAM,CAAY,QAAQ,CAAC,CAAC;aAC/D;QACF,CAAC;QAEM,mCAAa,GAApB;YAAqB,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YACpD,IAAI,CAAC,eAAe,OAApB,IAAI,kBAAiB,CAAC,GAAK,QAAQ,GAAE;QACtC,CAAC;QAES,qCAAe,GAAzB,UAA0B,KAAY;YAAE,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,iCAAgC;;YACvE,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC1B,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,EAAU,CAAC,KAAK,EAAE,CAAC,CAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;aACvF;QACF,CAAC;QAEM,qCAAe,GAAtB,UAAuB,QAA6B;YACnD,IAAI,CAAC,UAAU,OAAf,IAAI,EAAe,QAAQ,EAAE;QAC9B,CAAC;QAEM,wCAAkB,GAAzB,UAA0B,QAA6B;YACtD,IAAI,CAAC,aAAa,OAAlB,IAAI,EAAkB,QAAQ,EAAE;QACjC,CAAC;QAES,0CAAoB,GAA9B,UAA+B,KAAY,EAAE,QAA6B;YACzE,IAAI,CAAC,eAAe,OAApB,IAAI,kBAAiB,KAAK,GAAK,QAAQ,GAAE;QAC1C,CAAC;QAEM,+BAAS,GAAhB;YACC,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC7B,CAAC;QAEM,uCAAiB,GAAxB,UAAyB,KAAY,IAAY,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACxE,iCAAW,GAAlB,cAAiC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEhD,gCAAU,GAAlB,UAAmB,QAA6B;YAC/C,IAAM,WAAW,GAAU,QAAQ,CAAC,MAAM,CAAC;YAC3C,IAAI,OAAwB,CAAC;YAC7B,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,EAAE,CAAC,EAAE;gBAC5C,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,OAAM,CAAC,OAAO,CAAC,IAAI,UAAU;oBAAE,QAAQ,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,IAAI,IAAA,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC7E,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;aACxB;QACF,CAAC;QAES,yCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,cAAc,EAAE,CAAC;QACvB,CAAC;QAES,2CAAqB,GAA/B,UAAgC,OAAe;QAC/C,CAAC;QAES,yCAAmB,GAA7B,UAA8B,OAAe;QAC7C,CAAC;QAgBF,kBAAC;IAAD,CA/FA,AA+FC,CA/FyC,IAAA,OAAO,GA+FhD;IA/FqB,eAAW,cA+FhC,CAAA;AACF,CAAC,EAlGS,GAAG,KAAH,GAAG,QAkGZ;AClGD,IAAU,GAAG,CA8CZ;AA9CD,WAAU,GAAG;IAEZ;QAA2B,yBAAO;QAQjC;mBACC,iBAAO;QACR,CAAC;QAYS,mCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAM,IAAI,GAAY,IAAI,CAAC,SAAS,EAAE,CAAC,aAAa,CAAC,CAAC;YACtD,IAAI,IAAI;gBAAE,IAAI,EAAE,CAAC;YACjB,IAAI,CAAC,cAAc,EAAE,CAAC;QACvB,CAAC;QAES,qCAAqB,GAA/B,UAAgC,OAAe;QAC/C,CAAC;QAES,mCAAmB,GAA7B,UAA8B,OAAe;QAC7C,CAAC;QAWF,YAAC;IAAD,CA3CA,AA2CC,CA3C0B,IAAA,OAAO,GA2CjC;IA3CY,SAAK,QA2CjB,CAAA;AACF,CAAC,EA9CS,GAAG,KAAH,GAAG,QA8CZ;AC9CD,IAAU,GAAG,CA8CZ;AA9CD,WAAU,GAAG;IAEZ;QAA4B,0BAAO;QAQlC;mBACC,iBAAO;QACR,CAAC;QAYS,oCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAM,IAAI,GAAY,IAAI,CAAC,SAAS,EAAE,CAAC,cAAc,CAAC,CAAC;YACvD,IAAI,IAAI;gBAAE,IAAI,EAAE,CAAC;YACjB,IAAI,CAAC,cAAc,EAAE,CAAC;QACvB,CAAC;QAES,sCAAqB,GAA/B,UAAgC,OAAe;QAC/C,CAAC;QAES,oCAAmB,GAA7B,UAA8B,OAAe;QAC7C,CAAC;QAWF,aAAC;IAAD,CA3CA,AA2CC,CA3C2B,IAAA,OAAO,GA2ClC;IA3CY,UAAM,SA2ClB,CAAA;AACF,CAAC,EA9CS,GAAG,KAAH,GAAG,QA8CZ;AC9CD,IAAU,GAAG,CAmDZ;AAnDD,WAAU,GAAG;IAEZ;QAAyB,uBAAO;QAQ/B;YAAY,kBAAiB;iBAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;gBAAjB,6BAAiB;;YAA7B,YACC,iBAAO,SAEP;YADA,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;QAC1B,CAAC;QAYS,iCAAmB,GAA7B,UAA8B,OAAe;YAC5C,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACtE,IAAI,CAAC,cAAc,EAAE,CAAC;QACvB,CAAC;QAES,mCAAqB,GAA/B,UAAgC,OAAe;QAC/C,CAAC;QAES,iCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtB,CAAC;QAYM,yBAAW,GAAlB,cAA6B,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC7C,yBAAW,GAAlB,UAAmB,QAAc,IAAS,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC;QAEtE,UAAC;IAAD,CAhDA,AAgDC,CAhDwB,IAAA,OAAO,GAgD/B;IAhDY,OAAG,MAgDf,CAAA;AACF,CAAC,EAnDS,GAAG,KAAH,GAAG,QAmDZ;ACnDD,IAAU,GAAG,CAiEZ;AAjED,WAAU,GAAG;IAEZ;QAA0B,wBAAO;QAQhC,cAAY,IAAkB;YAAlB,qBAAA,EAAA,WAAkB;YAA9B,YACC,iBAAO,SAGP;YA+BO,qBAAe,GAAG,UAAC,KAAW;gBACrC,KAAI,CAAC,cAAc,EAAE,CAAC;YACvB,CAAC,CAAC;YAnCD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;;QACnB,CAAC;QAYS,kCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACnE,CAAC;QAES,oCAAqB,GAA/B,UAAgC,OAAe;YAC9C,IAAI,CAAC,MAAM,EAAE,CAAC;QACf,CAAC;QAES,kCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;QACf,CAAC;QAEO,qBAAM,GAAd;YACC,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,EAAE;gBACvB,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC3B,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;aAClB;QACF,CAAC;QAgBM,sBAAO,GAAd,cAA0B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtC,sBAAO,GAAd,UAAe,IAAW,IAAS,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;QAIvD,WAAC;IAAD,CA9DA,AA8DC,CA9DyB,IAAA,OAAO,GA8DhC;IA9DY,QAAI,OA8DhB,CAAA;AACF,CAAC,EAjES,GAAG,KAAH,GAAG,QAiEZ;ACjED,IAAU,GAAG,CAwFZ;AAxFD,WAAU,GAAG;IAKZ;QAA0B,wBAAO;QAQhC,cAAY,IAAoB,EAAE,IAAe,EAAE,eAAsC,EAAE,SAAuB;YAAtG,qBAAA,EAAA,WAAoB;YAAE,qBAAA,EAAA,SAAe;YAAE,gCAAA,EAAA,sBAAsC;YAAE,0BAAA,EAAA,gBAAuB;YAAlH,YACC,iBAAO,SAKP;YAuCO,qBAAe,GAAG,UAAC,KAAW;gBACrC,KAAI,CAAC,cAAc,EAAE,CAAC;YACvB,CAAC,CAAC;YA7CD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;QAC5B,CAAC;QAYS,kCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC3C,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBAC5E,IAAI,CAAC,IAAI,OAAT,IAAI,EAAS,IAAI,CAAC,IAAI,EAAE;aACxB;iBAAM;gBACN,IAAI,CAAC,IAAI,OAAT,IAAI,EAAS,IAAI,CAAC,IAAI,EAAE;gBACxB,IAAI,CAAC,cAAc,EAAE,CAAC;aACtB;QACF,CAAC;QAES,oCAAqB,GAA/B,UAAgC,OAAe;YAC9C,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC3C,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;aAC/E;QACF,CAAC;QAES,kCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC3C,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;aAC/E;YAED,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACvB,CAAC;QAgBM,0BAAW,GAAlB,cAAgC,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5C,0BAAW,GAAlB,UAAmB,IAAa,IAAS,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;QAGrD,2BAAY,GAAnB,cAA8B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,2BAAY,GAAnB,UAAoB,IAAU,IAAS,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;QAGnD,iCAAkB,GAAzB,cAA8C,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;QACrE,iCAAkB,GAAzB,UAA0B,eAA+B,IAAS,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC,CAAC,CAAC;QAGpG,2BAAY,GAAnB,cAA+B,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAChD,2BAAY,GAAnB,UAAoB,SAAgB,IAAS,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC;QAE3E,WAAC;IAAD,CAlFA,AAkFC,CAlFyB,IAAA,OAAO,GAkFhC;IAlFY,QAAI,OAkFhB,CAAA;AACF,CAAC,EAxFS,GAAG,KAAH,GAAG,QAwFZ;ACxFD,IAAU,GAAG,CAwEZ;AAxED,WAAU,GAAG;IAKZ;QAA4B,0BAAO;QAQlC,gBAAY,eAAsC,EAAE,SAAuB;YAA/D,gCAAA,EAAA,sBAAsC;YAAE,0BAAA,EAAA,gBAAuB;YAA3E,YACC,iBAAO,SAGP;YAiCO,qBAAe,GAAG,UAAC,KAAW;gBACrC,KAAI,CAAC,cAAc,EAAE,CAAC;YACvB,CAAC,CAAC;YArCD,KAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;QAC5B,CAAC;QAYS,oCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC3C,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;aAC5E;QACF,CAAC;QAES,sCAAqB,GAA/B,UAAgC,OAAe;YAC9C,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC3C,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;aAC/E;QACF,CAAC;QAES,oCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC3C,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;aAC/E;YAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC7B,CAAC;QAgBM,mCAAkB,GAAzB,cAA8C,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;QACrE,mCAAkB,GAAzB,UAA0B,eAA+B,IAAS,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC,CAAC,CAAC;QAGpG,6BAAY,GAAnB,cAA+B,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAChD,6BAAY,GAAnB,UAAoB,SAAgB,IAAS,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC;QAE3E,aAAC;IAAD,CAlEA,AAkEC,CAlE2B,IAAA,OAAO,GAkElC;IAlEY,UAAM,SAkElB,CAAA;AACF,CAAC,EAxES,GAAG,KAAH,GAAG,QAwEZ;ACxED,IAAU,GAAG,CA6KZ;AA7KD,WAAU,GAAG;IAEZ,IAAO,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;IAEhC,IAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IAI5B;QAA2B,yBAAO;QAQjC,eAAY,MAAa,EAAE,EAAS,EAAE,IAAkB,EAAE,QAAsB,EAAE,MAAqC,EAAE,OAAoC,EAAE,QAAqC,EAAE,UAAuC;YAAvM,qBAAA,EAAA,WAAkB;YAAE,yBAAA,EAAA,eAAsB;YAAE,uBAAA,EAAA,SAAwB,MAAM,CAAC,MAAM;YAAE,wBAAA,EAAA,cAAoC;YAAE,yBAAA,EAAA,eAAqC;YAAE,2BAAA,EAAA,iBAAuC;YAA7O,YACC,iBAAO,SAaP;YAyEO,qBAAe,GAAG;gBACzB,IAAM,WAAW,GAAU,IAAI,CAAC,GAAG,EAAE,GAAG,KAAI,CAAC,SAAS,CAAC;gBACvD,IAAI,WAAW,GAAG,KAAI,CAAC,QAAQ,EAAE;oBAChC,KAAI,CAAC,KAAK,CAAC,WAAW,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC;oBACxC,IAAI,KAAI,CAAC,QAAQ;wBAAE,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,YAAY,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;iBACxE;qBAAM;oBACN,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBACd,KAAI,CAAC,MAAM,EAAE,CAAC;oBACd,IAAI,KAAI,CAAC,QAAQ;wBAAE,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,YAAY,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;oBACxE,IAAI,KAAI,CAAC,UAAU;wBAAE,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,YAAY,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;oBAC5E,KAAI,CAAC,cAAc,EAAE,CAAC;iBACtB;YACF,CAAC,CAAC;YAjGD,KAAI,CAAC,WAAW,GAAG,MAAM,CAAC;YAC1B,KAAI,CAAC,EAAE,GAAG,EAAE,CAAC;YACb,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC;YACtB,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YACnB,KAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;;QACnB,CAAC;QAYS,mCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,MAAa,CAAC;YAClB,IAAI,MAAa,CAAC;YAClB,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,EAAE;gBACxB,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;gBACtB,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE;oBACxC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBACxC;qBAAM;oBACN,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;iBAC/C;aACD;YACD,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;gBACtB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,cAAc,CAAC,CAAC;gBAC9E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBAC5B,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACd,IAAI,IAAI,CAAC,OAAO;oBAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;aACtE;iBAAM;gBACN,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACd,IAAI,IAAI,CAAC,OAAO;oBAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBACtE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACd,IAAI,IAAI,CAAC,QAAQ;oBAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBACxE,IAAI,IAAI,CAAC,UAAU;oBAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC5E,IAAI,CAAC,cAAc,EAAE,CAAC;aACtB;QACF,CAAC;QAES,qCAAqB,GAA/B,UAAgC,OAAe;YAC9C,IAAI,CAAC,MAAM,EAAE,CAAC;QACf,CAAC;QAES,mCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;YAEd,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;YACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC1B,CAAC;QAEO,sBAAM,GAAd;YACC,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,EAAE;gBACvB,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC5B,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;aAClB;QACF,CAAC;QAEO,qBAAK,GAAb,UAAc,SAAgB;YAC7B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;YAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACpD,IAAI,MAAa,CAAC;YAClB,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,EAAE;gBACxB,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBAChC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;aAC9E;QACF,CAAC;QA0BM,yBAAS,GAAhB,cAA4B,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;QAC/C,yBAAS,GAAhB,UAAiB,MAAa,IAAS,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,CAAC,CAAC;QAG5D,2BAAW,GAAlB,cAA8B,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC9C,2BAAW,GAAlB,UAAmB,QAAe,IAAS,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC;QAG/D,qBAAK,GAAZ,cAAwB,OAAO,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAClC,qBAAK,GAAZ,UAAa,EAAS,IAAS,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAGvC,uBAAO,GAAd,cAA0B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtC,uBAAO,GAAd,UAAe,IAAW,IAAS,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;QAG/C,yBAAS,GAAhB,cAAoC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QAClD,yBAAS,GAAhB,UAAiB,MAAqB,IAAS,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;QAG/D,0BAAU,GAAjB,cAA4C,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QAC3D,0BAAU,GAAjB,UAAkB,IAA0B,IAAS,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC;QAGpE,2BAAW,GAAlB,cAA6C,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC7D,2BAAW,GAAlB,UAAmB,IAA0B,IAAS,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC;QAGtE,6BAAa,GAApB,cAA+C,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QACjE,6BAAa,GAApB,UAAqB,IAA0B,IAAS,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC;QAG1E,+BAAe,GAAtB,cAAkC,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;QAGtD,gCAAgB,GAAvB,cAAmC,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;QAOxD,iCAAiB,GAAxB,cAAoC,OAAO,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;QAC3D,iCAAiB,GAAxB,UAAyB,YAAmB,IAAS,KAAK,CAAC,cAAc,GAAG,YAAY,CAAC,CAAC,CAAC;QAC5E,oBAAc,GAAU,IAAI,GAAG,EAAE,CAAC;QAClD,YAAC;KApKD,AAoKC,CApK0B,IAAA,OAAO,GAoKjC;IApKY,SAAK,QAoKjB,CAAA;AACF,CAAC,EA7KS,GAAG,KAAH,GAAG,QA6KZ;AC7KD,IAAU,GAAG,CAgIZ;AAhID,WAAU,GAAG;IAIZ;QAA4B,0BAAW;QAQtC;YAAY,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YAA5C,+BACU,QAAQ,UAKjB;YAkCO,qBAAe,GAAG,UAAC,KAAW;gBACrC,KAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,KAAI,CAAC,eAAe,CAAC,CAAC;gBACrF,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,EAAE,KAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,SAAS,EAAE,EAAE;oBACxC,KAAI,CAAC,cAAc,EAAE,CAAC;iBACtB;qBAAM;oBACN,KAAI,CAAC,IAAI,EAAE,CAAC;iBACZ;YACF,CAAC,CAAC;YA9CD,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;YACnB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;;QACjC,CAAC;QAYM,2BAAU,GAAjB;YAAkB,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YACjD,iBAAM,UAAU,aAAI,QAAQ,EAAE;QAC/B,CAAC;QAEM,8BAAa,GAApB;YAAqB,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YACpD,iBAAM,eAAe,6BAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAK,QAAQ,GAAE;QACvD,CAAC;QAEM,gCAAe,GAAtB,UAAuB,QAA6B;YACnD,IAAI,CAAC,UAAU,OAAf,IAAI,EAAe,QAAQ,EAAE;QAC9B,CAAC;QAEM,mCAAkB,GAAzB,UAA0B,QAA6B;YACtD,IAAI,CAAC,aAAa,OAAlB,IAAI,EAAkB,QAAQ,EAAE;QACjC,CAAC;QAEO,qBAAI,GAAZ;YACC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC5D,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAClF,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;QAYS,oCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,IAAI,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE;gBACzB,IAAI,CAAC,IAAI,EAAE,CAAC;aACZ;iBAAM;gBACN,IAAI,CAAC,cAAc,EAAE,CAAC;aACtB;QACF,CAAC;QAES,sCAAqB,GAA/B,UAAgC,OAAe;YAC9C,IAAI,IAAI,CAAC,cAAc,EAAE;gBACxB,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBACrF,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;gBAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;YACnB,iBAAM,qBAAqB,YAAC,OAAO,CAAC,CAAC;QACtC,CAAC;QAES,oCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,IAAI,CAAC,cAAc,EAAE;gBACxB,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBACrF,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;gBAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAChC,iBAAM,mBAAmB,YAAC,OAAO,CAAC,CAAC;QACpC,CAAC;QAES,gCAAe,GAAzB;YACC,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,IAAA,YAAY,CAAC,SAAS,EAAE;gBAC7D,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBACrF,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;aAChC;YACD,IAAI,CAAC,cAAc,EAAE,CAAC;QACvB,CAAC;QAES,iCAAgB,GAA1B;YACC,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,IAAA,YAAY,CAAC,SAAS,EAAE;gBAC7D,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBACrF,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;aAChC;YACD,IAAM,IAAI,GAAY,IAAI,CAAC,SAAS,EAAE,CAAC,cAAc,CAAC,CAAC;YACvD,IAAI,IAAI;gBAAE,IAAI,EAAE,CAAC;YACjB,IAAI,CAAC,OAAO,EAAE,CAAC;QAChB,CAAC;QAYS,4BAAW,GAArB,cAAiC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAMzD,aAAC;IAAD,CA3HA,AA2HC,CA3H2B,IAAA,WAAW,GA2HtC;IA3HY,UAAM,SA2HlB,CAAA;AACF,CAAC,EAhIS,GAAG,KAAH,GAAG,QAgIZ;AChID,IAAU,GAAG,CAgJZ;AAhJD,WAAU,GAAG;IAIZ;QAA8B,4BAAW;QAQxC;YAAY,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YAA5C,+BACU,QAAQ,UAEjB;YA4BO,qBAAe,GAAG,UAAC,KAAW;gBACrC,IAAI,EAAE,KAAI,CAAC,aAAa,IAAI,KAAI,CAAC,SAAS,EAAE,EAAE;oBAC7C,KAAI,CAAC,cAAc,EAAE,CAAC;iBACtB;YACF,CAAC,CAAC;YAjCD,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC;;QACxB,CAAC;QAYM,6BAAU,GAAjB;YAAkB,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YACjD,iBAAM,UAAU,aAAI,QAAQ,EAAE;QAC/B,CAAC;QAEM,gCAAa,GAApB;YAAqB,kBAAgC;iBAAhC,UAAgC,EAAhC,qBAAgC,EAAhC,IAAgC;gBAAhC,6BAAgC;;YACpD,IAAI,CAAC,UAAU,OAAf,IAAI,EAAe,QAAQ,EAAE;QAC9B,CAAC;QAEM,kCAAe,GAAtB,UAAuB,QAA6B;YACnD,IAAI,CAAC,UAAU,OAAf,IAAI,EAAe,QAAQ,EAAE;QAC9B,CAAC;QAEM,qCAAkB,GAAzB,UAA0B,QAA6B;YACtD,IAAI,CAAC,UAAU,OAAf,IAAI,EAAe,QAAQ,EAAE;QAC9B,CAAC;QAQS,sCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAM,MAAM,GAAU,IAAI,CAAC,SAAS,EAAE,CAAC;YACvC,IAAI,MAAM,GAAG,CAAC,EAAE;gBACf,IAAM,QAAQ,GAAa,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC9C,IAAI,SAAe,CAAC;gBACpB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;oBACvC,SAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACtB,SAAO,CAAC,gBAAgB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;oBACtE,SAAO,CAAC,OAAO,EAAE,CAAC;iBAClB;aACD;iBAAM;gBACN,IAAI,CAAC,cAAc,EAAE,CAAC;aACtB;QACF,CAAC;QAES,wCAAqB,GAA/B,UAAgC,OAAe;YAC9C,IAAM,MAAM,GAAU,IAAI,CAAC,SAAS,EAAE,CAAC;YACvC,IAAI,MAAM,GAAG,CAAC,EAAE;gBACf,IAAM,QAAQ,GAAa,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC9C,IAAI,SAAe,CAAC;gBACpB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;oBACvC,SAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACtB,SAAO,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;oBACzE,SAAO,CAAC,SAAS,EAAE,CAAC;iBACpB;aACD;YACD,iBAAM,qBAAqB,YAAC,OAAO,CAAC,CAAC;QACtC,CAAC;QAES,sCAAmB,GAA7B,UAA8B,OAAe;YAC5C,IAAM,MAAM,GAAU,IAAI,CAAC,SAAS,EAAE,CAAC;YACvC,IAAI,MAAM,GAAG,CAAC,EAAE;gBACf,IAAM,QAAQ,GAAa,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC9C,IAAI,SAAe,CAAC;gBACpB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;oBACvC,SAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACtB,SAAO,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;oBACzE,SAAO,CAAC,OAAO,EAAE,CAAC;iBAClB;aACD;YACD,iBAAM,mBAAmB,YAAC,OAAO,CAAC,CAAC;QACpC,CAAC;QAES,kCAAe,GAAzB;YACC,IAAM,MAAM,GAAU,IAAI,CAAC,SAAS,EAAE,CAAC;YACvC,IAAI,MAAM,GAAG,CAAC,EAAE;gBACf,IAAM,QAAQ,GAAa,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC9C,IAAI,OAAO,SAAQ,CAAC;gBACpB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;oBACvC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACtB,IAAI,OAAO,CAAC,QAAQ,EAAE,IAAI,IAAA,YAAY,CAAC,SAAS,EAAE;wBACjD,OAAO,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBACzE,OAAO,CAAC,SAAS,EAAE,CAAC;qBACpB;iBACD;aACD;YACD,IAAI,CAAC,cAAc,EAAE,CAAC;QACvB,CAAC;QAES,mCAAgB,GAA1B;YACC,IAAM,MAAM,GAAU,IAAI,CAAC,SAAS,EAAE,CAAC;YACvC,IAAI,MAAM,GAAG,CAAC,EAAE;gBACf,IAAM,QAAQ,GAAa,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC9C,IAAI,OAAO,SAAQ,CAAC;gBACpB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;oBACvC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACtB,IAAI,OAAO,CAAC,QAAQ,EAAE,IAAI,IAAA,YAAY,CAAC,SAAS,EAAE;wBACjD,OAAO,CAAC,mBAAmB,CAAC,IAAA,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBACzE,OAAO,CAAC,SAAS,EAAE,CAAC;qBACpB;iBACD;aACD;YACD,IAAM,IAAI,GAAY,IAAI,CAAC,SAAS,EAAE,CAAC,cAAc,CAAC,CAAC;YACvD,IAAI,IAAI;gBAAE,IAAI,EAAE,CAAC;YACjB,IAAI,CAAC,OAAO,EAAE,CAAC;QAChB,CAAC;QAYS,mCAAgB,GAA1B,cAAsC,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;QAMnE,eAAC;IAAD,CA3IA,AA2IC,CA3I6B,IAAA,WAAW,GA2IxC;IA3IY,YAAQ,WA2IpB,CAAA;AACF,CAAC,EAhJS,GAAG,KAAH,GAAG,QAgJZ;AChJD,IAAU,GAAG,CA0EZ;AA1ED,WAAU,GAAG;IAAC,IAAA,IAAI,CA0EjB;IA1Ea,WAAA,IAAI;QAEjB;YAQC,iBAAY,CAAY,EAAE,CAAY;gBAA1B,kBAAA,EAAA,KAAY;gBAAE,kBAAA,EAAA,KAAY;gBACrC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAChB,CAAC;YAYM,qBAAG,GAAV,UAAW,CAAQ,EAAE,CAAQ;gBAC5B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gBACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACZ,CAAC;YAEM,wBAAM,GAAb,UAAc,KAAa;gBAC1B,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;YAEM,0BAAQ,GAAf;gBACC,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YACpC,CAAC;YAEM,sBAAI,GAAX;gBACC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAChB,CAAC;YAEM,2BAAS,GAAhB;gBACC,IAAM,CAAC,GAAU,IAAI,CAAC,SAAS,EAAE,CAAC;gBAClC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;gBACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;YACb,CAAC;YAEM,2BAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACrD,CAAC;YAEM,mCAAiB,GAAxB,UAAyB,KAAa;gBACrC,IAAM,EAAE,GAAU,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACnC,IAAM,EAAE,GAAU,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACnC,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YAC1B,CAAC;YAEM,6BAAW,GAAlB,UAAmB,KAAa;gBAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC;YACjD,CAAC;YAcF,cAAC;QAAD,CAvEA,AAuEC,IAAA;QAvEY,YAAO,UAuEnB,CAAA;IACF,CAAC,EA1Ea,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA0EjB;AAAD,CAAC,EA1ES,GAAG,KAAH,GAAG,QA0EZ;AC1ED,IAAU,GAAG,CA8EZ;AA9ED,WAAU,GAAG;IAAC,IAAA,IAAI,CA8EjB;IA9Ea,WAAA,IAAI;QAEjB;YAQC,iBAAY,CAAY,EAAE,CAAY,EAAE,CAAY;gBAAxC,kBAAA,EAAA,KAAY;gBAAE,kBAAA,EAAA,KAAY;gBAAE,kBAAA,EAAA,KAAY;gBACnD,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACnB,CAAC;YAYM,qBAAG,GAAV,UAAW,CAAQ,EAAE,CAAQ,EAAE,CAAQ;gBACtC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gBACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gBACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACZ,CAAC;YAEM,wBAAM,GAAb,UAAc,KAAa;gBAC1B,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YACnC,CAAC;YAEM,0BAAQ,GAAf;gBACC,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YAC5C,CAAC;YAEM,sBAAI,GAAX;gBACC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACnB,CAAC;YAEM,2BAAS,GAAhB;gBACC,IAAM,CAAC,GAAU,IAAI,CAAC,SAAS,EAAE,CAAC;gBAClC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;gBACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;gBACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;YACb,CAAC;YAEM,2BAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACvE,CAAC;YAEM,mCAAiB,GAAxB,UAAyB,KAAa;gBACrC,IAAM,EAAE,GAAU,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACnC,IAAM,EAAE,GAAU,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACnC,IAAM,EAAE,GAAU,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACnC,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACpC,CAAC;YAEM,6BAAW,GAAlB,UAAmB,KAAa;gBAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC;YACjD,CAAC;YAeF,cAAC;QAAD,CA3EA,AA2EC,IAAA;QA3EY,YAAO,UA2EnB,CAAA;IACF,CAAC,EA9Ea,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA8EjB;AAAD,CAAC,EA9ES,GAAG,KAAH,GAAG,QA8EZ;AC9ED,IAAU,GAAG,CAsFZ;AAtFD,WAAU,GAAG;IAAC,IAAA,IAAI,CAsFjB;IAtFa,WAAA,IAAI;QAEjB;YAQC,mBAAY,CAAY,EAAE,CAAY,EAAE,KAAgB,EAAE,MAAiB;gBAA/D,kBAAA,EAAA,KAAY;gBAAE,kBAAA,EAAA,KAAY;gBAAE,sBAAA,EAAA,SAAgB;gBAAE,uBAAA,EAAA,UAAiB;gBAC1E,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YAC/B,CAAC;YAYM,uBAAG,GAAV,UAAW,CAAQ,EAAE,CAAQ,EAAE,KAAY,EAAE,MAAa;gBACzD,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gBACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gBACX,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACtB,CAAC;YAEM,0BAAM,GAAb,UAAc,IAAc;gBAC3B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YACnD,CAAC;YAEM,4BAAQ,GAAf;gBACC,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC/D,CAAC;YAEM,0BAAM,GAAb;gBACC,OAAO,IAAI,CAAC,CAAC,CAAC;YACf,CAAC;YAEM,6BAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAC7B,CAAC;YAEM,2BAAO,GAAd;gBACC,OAAO,IAAI,CAAC,CAAC,CAAC;YACf,CAAC;YAEM,4BAAQ,GAAf;gBACC,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;YAC5B,CAAC;YAEM,8BAAU,GAAjB;gBACC,OAAO,IAAI,KAAA,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YACnD,CAAC;YAEM,+BAAW,GAAlB;gBACC,OAAO,IAAI,KAAA,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YACpD,CAAC;YAEM,iCAAa,GAApB;gBACC,OAAO,IAAI,KAAA,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;YACtD,CAAC;YAEM,kCAAc,GAArB;gBACC,OAAO,IAAI,KAAA,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;YACvD,CAAC;YAgBF,gBAAC;QAAD,CAnFA,AAmFC,IAAA;QAnFY,cAAS,YAmFrB,CAAA;IACF,CAAC,EAtFa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAsFjB;AAAD,CAAC,EAtFS,GAAG,KAAH,GAAG,QAsFZ;ACtFD,IAAU,GAAG,CA0DZ;AA1DD,WAAU,GAAG;IAAC,IAAA,IAAI,CA0DjB;IA1Da,WAAA,IAAI;QAEjB,IAAY,KAUX;QAVD,WAAY,KAAK;YAChB,yCAAQ,CAAA;YACR,6CAAU,CAAA;YACV,2CAAS,CAAA;YACT,+CAAW,CAAA;YACX,mDAAa,CAAA;YACb,iDAAY,CAAA;YACZ,+CAAW,CAAA;YACX,mDAAa,CAAA;YACb,iDAAY,CAAA;QACb,CAAC,EAVW,KAAK,GAAL,UAAK,KAAL,UAAK,QAUhB;QAED,IAAY,SAKX;QALD,WAAY,SAAS;YACpB,iDAAQ,CAAA;YACR,+CAAO,CAAA;YACP,iDAAQ,CAAA;YACR,+CAAO,CAAA;QACR,CAAC,EALW,SAAS,GAAT,cAAS,KAAT,cAAS,QAKpB;QAED;YAmCC;YAAuB,CAAC;YAjCV,YAAM,GAApB,UAAqB,MAAqB,EAAE,MAAqB,EAAE,SAAuC,EAAE,KAAiC;gBAA1E,0BAAA,EAAA,YAAsB,SAAS,CAAC,OAAO;gBAAE,sBAAA,EAAA,QAAc,KAAK,CAAC,aAAa;gBAC5I,IAAI,EAAE,GAAU,MAAM,CAAC,CAAC,CAAC;gBACzB,IAAI,EAAE,GAAU,MAAM,CAAC,CAAC,CAAC;gBACzB,IAAI,EAAE,GAAU,MAAM,CAAC,KAAK,CAAC;gBAC7B,IAAI,EAAE,GAAU,MAAM,CAAC,MAAM,CAAC;gBAE9B,IAAM,EAAE,GAAU,MAAM,CAAC,CAAC,CAAC;gBAC3B,IAAM,EAAE,GAAU,MAAM,CAAC,CAAC,CAAC;gBAC3B,IAAM,EAAE,GAAU,MAAM,CAAC,KAAK,CAAC;gBAC/B,IAAM,EAAE,GAAU,MAAM,CAAC,MAAM,CAAC;gBAEhC,QAAQ,SAAS,EAAE;oBAClB,KAAK,SAAS,CAAC,OAAO,CAAC;oBACvB,KAAK,SAAS,CAAC,QAAQ;wBACtB,IAAM,MAAM,GAAU,EAAE,GAAG,EAAE,CAAC;wBAC9B,IAAM,MAAM,GAAU,EAAE,GAAG,EAAE,CAAC;wBAC9B,IAAM,KAAK,GAAU,SAAS,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;wBAChI,EAAE,IAAI,KAAK,CAAC;wBACZ,EAAE,IAAI,KAAK,CAAC;wBACZ,MAAM;oBAEP,KAAK,SAAS,CAAC,QAAQ;wBACtB,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;iBAC3C;gBAED,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACrG,CAAC,KAAK,IAAI,KAAK,CAAC,SAAS,IAAI,KAAK,IAAI,KAAK,CAAC,YAAY,IAAI,KAAK,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;gBACvH,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,IAAI,KAAK,CAAC,UAAU,IAAI,KAAK,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAClG,CAAC,KAAK,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,IAAI,KAAK,CAAC,aAAa,IAAI,KAAK,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;gBAE1H,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAC3C,CAAC;YAGF,YAAC;QAAD,CApCA,AAoCC,IAAA;QApCY,UAAK,QAoCjB,CAAA;IACF,CAAC,EA1Da,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA0DjB;AAAD,CAAC,EA1DS,GAAG,KAAH,GAAG,QA0DZ;AC1DD,IAAU,GAAG,CAkBZ;AAlBD,WAAU,GAAG;IAAC,IAAA,IAAI,CAkBjB;IAlBa,WAAA,IAAI;QAEjB;YAcC;YAAuB,CAAC;YAZV,QAAI,GAAlB,UAAmB,MAAU,EAAE,IAAoC;gBAClE,IAAI,MAAM,IAAI,IAAI;oBAAE,OAAO;gBAC3B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAC,GAAU;oBACtC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,CAAC;YACJ,CAAC;YAEa,OAAG,GAAjB,UAAkB,MAAU,EAAE,GAAU,EAAE,YAAgB;gBACzD,IAAM,KAAK,GAAO,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9B,OAAO,OAAO,KAAK,KAAK,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC;YAC5D,CAAC;YAGF,UAAC;QAAD,CAfA,AAeC,IAAA;QAfY,QAAG,MAef,CAAA;IACF,CAAC,EAlBa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAkBjB;AAAD,CAAC,EAlBS,GAAG,KAAH,GAAG,QAkBZ;AClBD,IAAU,GAAG,CA2EZ;AA3ED,WAAU,GAAG;IAAC,IAAA,IAAI,CA2EjB;IA3Ea,WAAA,IAAI;QAEjB;YAuEC;YAAuB,CAAC;YA9DV,YAAQ,GAAtB,UAAuB,KAAY,EAAE,IAAe,EAAE,IAAe;gBAAhC,qBAAA,EAAA,QAAe;gBAAE,qBAAA,EAAA,QAAe;gBACpE,IAAM,MAAM,GAAY,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;gBACzC,IAAI,CAAC,GAAU,IAAI,CAAC;gBACpB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE;oBACtC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;oBACd,CAAC,IAAI,IAAI,CAAC;iBACV;gBACD,OAAO,MAAM,CAAC;YACf,CAAC;YAOa,UAAM,GAApB,UAAwB,IAAQ;gBAC/B,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAG,EAAE,CAAQ,EAAE,IAAQ;oBACnD,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC;YACJ,CAAC;YAQa,cAAU,GAAxB,UAA4B,IAAQ,EAAE,MAAsB;gBAAtB,uBAAA,EAAA,cAAsB;gBAE3D,IAAI,MAAM,EAAE;oBACX,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAG,EAAE,CAAQ,EAAE,IAAQ;wBACnD,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBAChD,CAAC,CAAC,CAAC;iBACH;qBAAM;oBACN,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAG,EAAE,CAAQ,EAAE,IAAQ;wBACnD,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC/D,CAAC,CAAC,CAAC;iBACH;YACF,CAAC;YAaa,cAAU,GAAxB,UAA4B,KAAS,EAAE,KAAS,EAAE,QAAqF;gBACtI,IAAI,CAAQ,EAAE,CAAQ,EAAE,CAAC,GAAU,CAAC,CAAC;gBACrC,IAAM,CAAC,GAAU,KAAK,CAAC,MAAM,CAAC;gBAC9B,IAAM,CAAC,GAAU,KAAK,CAAC,MAAM,CAAC;gBAC9B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBACvB,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;wBAC3B,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;qBACxC;iBACD;YACF,CAAC;YAGF,UAAC;QAAD,CAxEA,AAwEC,IAAA;QAxEY,QAAG,MAwEf,CAAA;IACF,CAAC,EA3Ea,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA2EjB;AAAD,CAAC,EA3ES,GAAG,KAAH,GAAG,QA2EZ;AC3ED,IAAU,GAAG,CA6KZ;AA7KD,WAAU,GAAG;IAAC,IAAA,IAAI,CA6KjB;IA7Ka,WAAA,IAAI;QAIjB;YAuKC;YAAuB,CAAC;YA3JV,OAAG,GAAjB,UAAkB,KAAY,EAAE,IAAW,EAAE,IAAW,EAAE,IAAW,EAAE,IAAW,EAAE,KAAoB;gBAApB,sBAAA,EAAA,YAAoB;gBACvG,IAAI,IAAI,IAAI,IAAI;oBAAE,OAAO,IAAI,CAAC;gBAC9B,IAAI,KAAK,EAAE;oBACV,IAAI,IAAI,GAAG,IAAI,EAAE;wBAChB,IAAI,KAAK,GAAG,IAAI;4BAAE,KAAK,GAAG,IAAI,CAAC;6BAC1B,IAAI,KAAK,GAAG,IAAI;4BAAE,KAAK,GAAG,IAAI,CAAC;qBACpC;yBAAM;wBACN,IAAI,KAAK,GAAG,IAAI;4BAAE,KAAK,GAAG,IAAI,CAAC;6BAC1B,IAAI,KAAK,GAAG,IAAI;4BAAE,KAAK,GAAG,IAAI,CAAC;qBACpC;iBACD;gBACD,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;YAC9D,CAAC;YAYa,QAAI,GAAlB,UAAmB,KAAY,EAAE,IAAW,EAAE,IAAW,EAAE,IAAW,EAAE,IAAW,EAAE,MAAqB;gBACzG,IAAI,IAAI,IAAI,IAAI;oBAAE,OAAO,IAAI,CAAC;gBAC9B,IAAI,IAAI,GAAG,IAAI,EAAE;oBAChB,IAAI,KAAK,GAAG,IAAI;wBAAE,KAAK,GAAG,IAAI,CAAC;yBAC1B,IAAI,KAAK,GAAG,IAAI;wBAAE,KAAK,GAAG,IAAI,CAAC;oBACpC,OAAO,MAAM,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;iBACrE;qBAAM;oBACN,IAAI,KAAK,GAAG,IAAI;wBAAE,KAAK,GAAG,IAAI,CAAC;yBAC1B,IAAI,KAAK,GAAG,IAAI;wBAAE,KAAK,GAAG,IAAI,CAAC;oBACpC,OAAO,MAAM,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;iBACrE;YACF,CAAC;YAQa,UAAM,GAApB,UAAqB,GAAc,EAAE,GAAc;gBAA9B,oBAAA,EAAA,OAAc;gBAAE,oBAAA,EAAA,OAAc;gBAClD,OAAO,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAC1C,CAAC;YAQa,aAAS,GAAvB,UAAwB,GAAc,EAAE,GAAc;gBAA9B,oBAAA,EAAA,OAAc;gBAAE,oBAAA,EAAA,OAAc;gBACrD,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACzC,CAAC;YASa,SAAK,GAAnB,UAAoB,KAAY,EAAE,GAAU,EAAE,GAAU;gBACvD,OAAO,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YACxD,CAAC;YASa,YAAQ,GAAtB,UAAuB,KAAY,EAAE,MAAa,EAAE,MAAa;gBAChE,IAAI,KAAK,GAAG,CAAC,EAAE;oBACd,OAAO,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;iBACnE;qBAAM;oBACN,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACxB,OAAO,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;iBACtE;YACF,CAAC;YAWa,QAAI,GAAlB,UAAmB,EAAS,EAAE,EAAS,EAAE,EAAS,EAAE,EAAS,EAAE,OAAuB;gBAAvB,wBAAA,EAAA,eAAuB;gBACrF,IAAM,EAAE,GAAU,EAAE,GAAG,EAAE,CAAC;gBAC1B,IAAM,EAAE,GAAU,EAAE,GAAG,EAAE,CAAC;gBAC1B,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;YACrE,CAAC;YAOa,YAAQ,GAAtB,UAAuB,MAAa;gBACnC,OAAO,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC;YAC7B,CAAC;YAOa,YAAQ,GAAtB,UAAuB,MAAa;gBACnC,OAAO,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC;YAC7B,CAAC;YASa,QAAI,GAAlB,UAAmB,IAAW,EAAE,EAAS,EAAE,MAAqB;gBAArB,uBAAA,EAAA,aAAqB;gBAC/D,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;YAC/F,CAAC;YAYa,OAAG,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YACzB,OAAG,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YACzB,OAAG,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YACzB,OAAG,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YACzB,OAAG,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YACzB,QAAI,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAC1B,QAAI,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAC1B,QAAI,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAC1B,QAAI,GAAU,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAEzB,WAAO,GAAU,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;YAC/B,WAAO,GAAU,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;YAO/C,UAAC;SAxKD,AAwKC,IAAA;QAxKY,QAAG,MAwKf,CAAA;IACF,CAAC,EA7Ka,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA6KjB;AAAD,CAAC,EA7KS,GAAG,KAAH,GAAG,QA6KZ;AC7KD,IAAU,GAAG,CAyBZ;AAzBD,WAAU,GAAG;IAAC,IAAA,IAAI,CAyBjB;IAzBa,WAAA,IAAI;QAEjB;YAqBC;YAAuB,CAAC;YAZV,gBAAY,GAA1B,UAA2B,KAAgB,EAAE,OAAkB,EAAE,OAAkB;gBAAxD,sBAAA,EAAA,SAAgB;gBAAE,wBAAA,EAAA,WAAkB;gBAAE,wBAAA,EAAA,WAAkB;gBAClF,OAAO,IAAI,OAAO,GAAG,EAAE,GAAG,KAAK,GAAG,IAAI,CAAC;gBACvC,IAAI,CAAC,GAAU,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACrD,IAAI,CAAC,GAAU,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;gBAC1D,IAAI,CAAC,GAAU,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC9D,IAAI,CAAC,IAAI,GAAG,EAAE;oBACb,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;iBACnD;qBAAM;oBACN,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;iBACnB;YACF,CAAC;YAGF,UAAC;QAAD,CAtBA,AAsBC,IAAA;QAtBY,QAAG,MAsBf,CAAA;IACF,CAAC,EAzBa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAyBjB;AAAD,CAAC,EAzBS,GAAG,KAAH,GAAG,QAyBZ;ACzBD,IAAU,GAAG,CAuBZ;AAvBD,WAAU,GAAG;IAAC,IAAA,IAAI,CAuBjB;IAvBa,WAAA,IAAI;QAEjB;YAmBC;YAAuB,CAAC;YAjBV,QAAI,GAAlB,UAAmB,OAAmB;gBACrC,IAAI,OAAO;oBAAE,OAAO,CAAC,SAAS,EAAE,CAAC;gBACjC,OAAO,IAAI,CAAC;YACb,CAAC;YAEa,YAAQ,GAAtB,UAAuB,OAAe;gBAAE,kBAAoC;qBAApC,UAAoC,EAApC,qBAAoC,EAApC,IAAoC;oBAApC,iCAAoC;;gBAC3E,IAAM,CAAC,GAAc,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;gBACtC,CAAC,CAAC,UAAU,OAAZ,CAAC,EAAe,QAAQ,EAAE;gBAC1B,IAAI,OAAO;oBAAE,CAAC,CAAC,OAAO,EAAE,CAAC;gBACzB,OAAO,CAAC,CAAC;YACV,CAAC;YAEa,UAAM,GAApB,UAAqB,OAAe,EAAE,OAAmB;gBACxD,IAAI,OAAO,IAAI,OAAO;oBAAE,OAAO,CAAC,OAAO,EAAE,CAAC;gBAC1C,OAAO,OAAO,CAAC;YAChB,CAAC;YAGF,UAAC;QAAD,CApBA,AAoBC,IAAA;QApBY,QAAG,MAoBf,CAAA;IACF,CAAC,EAvBa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAuBjB;AAAD,CAAC,EAvBS,GAAG,KAAH,GAAG,QAuBZ;ACvBD,IAAU,GAAG,CAoHZ;AApHD,WAAU,GAAG;IAAC,IAAA,QAAQ,CAoHrB;IApHa,WAAA,QAAQ;QAErB;YAyBC,oBAAY,aAAqB,EAAE,aAA8B,EAAE,SAAsB,EAAE,WAAuB;gBAA/C,0BAAA,EAAA,eAAsB;gBAAE,4BAAA,EAAA,gBAAuB;gBACjH,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC;gBAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;oBACnC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;iBACrC;gBACD,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;YACxB,CAAC;YAgBM,4BAAO,GAAd;gBACC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;oBACnB,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;iBAChC;gBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE;oBAC1C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;iBACzC;gBACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC9B,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;YACvB,CAAC;YAOM,+BAAU,GAAjB,UAAkB,IAAM;gBACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC;YACjC,CAAC;YAMM,2BAAM,GAAb;gBACC,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAC3B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;iBACvC;gBACD,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YAChB,CAAC;YAMM,4BAAO,GAAd;gBACC,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAC3B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;iBAClC;gBACD,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBACf,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC3B,CAAC;YAkBF,iBAAC;QAAD,CAjHA,AAiHC,IAAA;QAjHY,mBAAU,aAiHtB,CAAA;IACF,CAAC,EApHa,QAAQ,GAAR,YAAQ,KAAR,YAAQ,QAoHrB;AAAD,CAAC,EApHS,GAAG,KAAH,GAAG,QAoHZ;ACpHD,IAAU,GAAG,CA6GZ;AA7GD,WAAU,GAAG;IAAC,IAAA,KAAK,CA6GlB;IA7Ga,WAAA,KAAK;QAElB;YAQC,iBAAY,MAAiB;gBAAjB,uBAAA,EAAA,aAAiB;gBAC5B,IAAI,MAAM,EAAE;oBACX,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;iBACjB;qBAAM;oBACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;oBACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;iBACpB;gBACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YACjC,CAAC;YAYM,qBAAG,GAAV,UAAW,MAAU;gBACpB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;gBAClC,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAEM,qBAAG,GAAV;gBACC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,kBAAkB,EAAE;oBAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;iBACb;gBACD,IAAM,KAAK,GAAU,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;gBAChE,IAAM,KAAK,GAAK,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBACvC,IAAI,MAAM,GAAW,IAAI,CAAC;gBAC1B,IAAI,IAAI,CAAC,OAAO;oBAAE,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBAC/C,IAAI,MAAM,EAAE;oBACX,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACjC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;oBACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;iBACnC;gBACD,OAAO,KAAK,CAAC;YACd,CAAC;YAEM,qBAAG,GAAV,UAAW,KAAO,EAAE,KAAqB;gBAArB,sBAAA,EAAA,aAAqB;gBACxC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;gBACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;gBACnC,IAAI,KAAK,EAAE;oBACV,IAAI,CAAC,KAAK,EAAE,CAAC;iBACb;YACF,CAAC;YAEM,uBAAK,GAAZ;gBACC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;gBAC3C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;gBACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;YACpC,CAAC;YAEM,8BAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,4BAAU,GAAjB;gBACC,OAAO,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC;YAEM,uCAAqB,GAA5B;gBACC,OAAO,IAAI,CAAC,kBAAkB,CAAC;YAChC,CAAC;YAEM,uCAAqB,GAA5B,UAA6B,OAAe;gBAC3C,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC;YACnC,CAAC;YAEa,qBAAa,GAA3B,UAA4B,KAAY;gBACvC,IAAM,MAAM,GAAY,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;gBACzC,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC;oBAAE,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACrD,OAAO,IAAI,OAAO,CAAS,MAAM,CAAC,CAAC;YACpC,CAAC;YAmBF,cAAC;QAAD,CA1GA,AA0GC,IAAA;QA1GY,aAAO,UA0GnB,CAAA;IACF,CAAC,EA7Ga,KAAK,GAAL,SAAK,KAAL,SAAK,QA6GlB;AAAD,CAAC,EA7GS,GAAG,KAAH,GAAG,QA6GZ;AC7GD,IAAU,GAAG,CA6JZ;AA7JD,WAAU,GAAG;IAAC,IAAA,KAAK,CA6JlB;IA7Ja,WAAA,KAAK;QAIlB;YAA0C,4BAAyB;YAQlE;gBAAA,YACC,iBAAO,SAWP;gBATA,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE1B,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE1B,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;YACpB,CAAC;YAYM,4BAAS,GAAhB,UAAiB,GAAO;gBACvB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC;gBAC5B,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBAEnB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,EAAE;oBAC/C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAsB,CAAC,GAAG,CAAC,CAAC;iBAC7D;gBAED,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAEM,+BAAY,GAAnB,UAAoB,SAAgB;gBACnC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;gBAE3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE1B,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAEO,wBAAK,GAAb;gBACC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;gBAEvB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACxB,CAAC;YAEM,8BAAW,GAAlB,UAAmB,SAAgB,EAAE,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBAChE,IAAI,SAAS,GAAG,CAAC,IAAI,SAAS,IAAI,IAAI,CAAC,SAAS;oBAAE,SAAS,GAAG,CAAC,CAAC,CAAC;gBACjE,IAAI,SAAS,IAAI,IAAI,CAAC,gBAAgB;oBAAE,OAAO,KAAK,CAAC;gBAErD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBAC1C,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;gBAElC,IAAI,IAAI,CAAC,OAAO,EAAE;oBACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACnF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;iBAC9F;gBAED,IAAI,CAAC,kBAAkB,CAAC,MAAA,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;gBAE5E,OAAO,IAAI,CAAC;YACb,CAAC;YAEM,2BAAQ,GAAf,UAAgB,MAAa,EAAE,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBAC1D,IAAM,SAAS,GAAU,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrG,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;YACnD,CAAC;YAEM,uBAAI,GAAX,UAAY,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACvC,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;gBAC1C,IAAI,IAAI,CAAC,aAAa,IAAI,SAAS,GAAG,CAAC;oBAAE,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBAExE,IAAM,MAAM,GAAW,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;gBAClE,IAAI,MAAM,EAAE;oBACX,IAAI,CAAC,kBAAkB,CAAC,MAAA,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;iBACxE;gBAED,OAAO,MAAM,CAAC;YACf,CAAC;YAEM,uBAAI,GAAX,UAAY,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACvC,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;gBAC1C,IAAI,IAAI,CAAC,aAAa,IAAI,SAAS,IAAI,IAAI,CAAC,SAAS;oBAAE,SAAS,GAAG,CAAC,CAAC;gBAErE,IAAM,MAAM,GAAW,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;gBAClE,IAAI,MAAM,EAAE;oBACX,IAAI,CAAC,kBAAkB,CAAC,MAAA,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;iBACxE;gBAED,OAAO,MAAM,CAAC;YACf,CAAC;YAEO,qCAAkB,GAA1B,UAA2B,SAAgB,EAAE,QAAyC,EAAE,aAAqB;gBAC5G,IAAM,KAAK,GAAoB,IAAI,MAAA,aAAa,CAAI,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;gBACnK,IAAI,QAAQ,EAAE;oBACb,QAAQ,CAAC,KAAK,CAAC,CAAC;iBAChB;gBACD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC3B,CAAC;YAYM,mCAAgB,GAAvB,cAAoC,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACzD,mCAAgB,GAAvB,UAAwB,KAAa,IAAS,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC,CAAC;YAGpE,sCAAmB,GAA1B,cAAsC,OAAO,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAG9D,mCAAgB,GAAvB,cAAmC,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAGvD,+BAAY,GAAnB,cAA+B,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAGhD,mCAAgB,GAAvB,cAA8B,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAGnD,gCAAa,GAApB,cAA2B,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAG7C,6BAAU,GAAjB,cAA0B,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAQjD,eAAC;QAAD,CAxJA,AAwJC,CAxJyC,GAAG,CAAC,KAAK,CAAC,eAAe,GAwJlE;QAxJY,cAAQ,WAwJpB,CAAA;IACF,CAAC,EA7Ja,KAAK,GAAL,SAAK,KAAL,SAAK,QA6JlB;AAAD,CAAC,EA7JS,GAAG,KAAH,GAAG,QA6JZ;AC7JD,IAAU,GAAG,CAmEZ;AAnED,WAAU,GAAG;IAAC,IAAA,KAAK,CAmElB;IAnEa,WAAA,KAAK;QAElB;YAA+C,iCAAe;YAsB7D,uBAAY,SAAgB,EAAE,WAAe,EAAE,gBAAuB,EAAE,aAAoB,EAAE,aAAe,EAAE,UAAY,EAAE,aAAqB;gBAAlJ,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAM7B;gBALA,KAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;gBACzC,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;gBAC7B,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;;YACpC,CAAC;YAYM,6BAAK,GAAZ;gBACC,OAAO,IAAI,aAAa,CAAI,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YACnK,CAAC;YAEM,gCAAQ,GAAf;gBACC,OAAO,yBAAyB,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,aAAa,GAAG,MAAM,GAAG,IAAI,CAAC,gBAAgB,GAAG,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC;YACzJ,CAAC;YAvCa,oBAAM,GAAU,QAAQ,CAAC;YACzB,kBAAI,GAAU,MAAM,CAAC;YACrB,kBAAI,GAAU,MAAM,CAAC;YAsDpC,oBAAC;SAhED,AAgEC,CAhE8C,GAAG,CAAC,KAAK,CAAC,KAAK,GAgE7D;QAhEY,mBAAa,gBAgEzB,CAAA;IACF,CAAC,EAnEa,KAAK,GAAL,SAAK,KAAL,SAAK,QAmElB;AAAD,CAAC,EAnES,GAAG,KAAH,GAAG,QAmEZ;ACnED,IAAU,GAAG,CAqGZ;AArGD,WAAU,GAAG;IAAC,IAAA,KAAK,CAqGlB;IArGa,WAAA,KAAK;QAElB,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QAEnD;YAA0B,wBAAe;YAQxC,cAAY,YAAmB,EAAE,aAAoB,EAAE,SAAoB;gBAApB,0BAAA,EAAA,aAAoB;gBAA3E,YACC,iBAAO,SAMP;gBAJA,KAAI,CAAC,YAAY,GAAG,YAAY,CAAC;gBACjC,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,KAAI,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;;YAC7B,CAAC;YAiBM,kBAAG,GAAV,UAAW,KAAY;gBACtB,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAC/B,CAAC;YAEM,wBAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAEM,uBAAQ,GAAf;gBACC,OAAO,IAAI,CAAC,KAAK,CAAC;YACnB,CAAC;YAEM,8BAAe,GAAtB;gBACC,OAAO,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YAEM,+BAAgB,GAAvB;gBACC,OAAO,IAAI,CAAC,aAAa,CAAC;YAC3B,CAAC;YAEM,8BAAe,GAAtB,UAAuB,SAAgB;gBACtC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;gBAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAC7B,CAAC;YAEM,+BAAgB,GAAvB,UAAwB,SAAgB;gBACvC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;gBAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAC7B,CAAC;YAEO,mBAAI,GAAZ,UAAa,KAAY,EAAE,aAAqB;gBAC/C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,EAAE;oBAClD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,aAAa,EAAE;wBAClB,IAAI,CAAC,aAAa,CAAC,IAAI,MAAA,SAAS,CAAC,MAAA,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBACpE,IAAI,CAAC,aAAa,CAAC,IAAI,MAAA,SAAS,CAAC,MAAA,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;qBACvE;oBACD,OAAO,IAAI,CAAC;iBACZ;qBAAM,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE;oBAC3D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,IAAI,aAAa,EAAE;wBAClB,IAAI,CAAC,aAAa,CAAC,IAAI,MAAA,SAAS,CAAC,MAAA,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBACrE,IAAI,CAAC,aAAa,CAAC,IAAI,MAAA,SAAS,CAAC,MAAA,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;qBACvE;oBACD,OAAO,IAAI,CAAC;iBACZ;gBACD,OAAO,KAAK,CAAC;YACd,CAAC;YAgBF,WAAC;QAAD,CAhGA,AAgGC,CAhGyB,eAAe,GAgGxC;QAhGY,UAAI,OAgGhB,CAAA;IACF,CAAC,EArGa,KAAK,GAAL,SAAK,KAAL,SAAK,QAqGlB;AAAD,CAAC,EArGS,GAAG,KAAH,GAAG,QAqGZ;ACrGD,IAAU,GAAG,CA2DZ;AA3DD,WAAU,GAAG;IAAC,IAAA,KAAK,CA2DlB;IA3Da,WAAA,KAAK;QAElB;YAA+B,6BAAe;YAsB7C,mBAAY,SAAgB,EAAE,WAAe,EAAE,MAAc;gBAA7D,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAE7B;gBADA,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;YACtB,CAAC;YAYM,yBAAK,GAAZ;gBACC,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YACrE,CAAC;YAEM,4BAAQ,GAAf;gBACC,OAAO,qBAAqB,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;YAC7E,CAAC;YAnCa,gBAAM,GAAU,QAAQ,CAAC;YACzB,aAAG,GAAU,KAAK,CAAC;YACnB,cAAI,GAAU,MAAM,CAAC;YA8CpC,gBAAC;SAxDD,AAwDC,CAxD8B,GAAG,CAAC,KAAK,CAAC,KAAK,GAwD7C;QAxDY,eAAS,YAwDrB,CAAA;IACF,CAAC,EA3Da,KAAK,GAAL,SAAK,KAAL,SAAK,QA2DlB;AAAD,CAAC,EA3DS,GAAG,KAAH,GAAG,QA2DZ;AC3DD,IAAU,GAAG,CA6DZ;AA7DD,WAAU,GAAG;IAAC,IAAA,IAAI,CA6DjB;IA7Da,WAAA,IAAI;QAEjB;YAQC,qBAAY,SAAgB,EAAE,MAAmB,EAAE,SAAoB;gBAAzC,uBAAA,EAAA,YAAmB;gBAAE,0BAAA,EAAA,aAAoB;gBACtE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;gBACrC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;YAC5B,CAAC;YAYM,4BAAM,GAAb,UAAc,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACzC,IAAI,aAAa,EAAE;oBAClB,IAAM,CAAC,GAAU,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1C,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;wBACxD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;qBACzB;yBAAM;wBACN,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;qBAC9B;iBACD;qBAAM;oBACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;iBACzB;gBAED,OAAO,IAAI,CAAC,KAAK,CAAC;YACnB,CAAC;YAEM,2BAAK,GAAZ;gBACC,IAAM,CAAC,GAAe,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC/E,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACvB,OAAO,CAAC,CAAC;YACV,CAAC;YAeF,kBAAC;QAAD,CA1DA,AA0DC,IAAA;QA1DY,gBAAW,cA0DvB,CAAA;IACF,CAAC,EA7Da,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA6DjB;AAAD,CAAC,EA7DS,GAAG,KAAH,GAAG,QA6DZ;AC7DD,IAAU,GAAG,CAoEZ;AApED,WAAU,GAAG;IAAC,IAAA,IAAI,CAoEjB;IApEa,WAAA,IAAI;QAEjB;YAQC,qBAAY,SAAgB,EAAE,MAAmB,EAAE,QAAqB;gBAA1C,uBAAA,EAAA,YAAmB;gBAAE,yBAAA,EAAA,cAAqB;gBACvE,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;gBACrC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC1B,CAAC;YAYM,4BAAM,GAAb,UAAc,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACzC,IAAI,aAAa,EAAE;oBAClB,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;oBAC7D,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC;oBACnC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC;oBAC/B,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC;iBAC5B;qBAAM;oBACN,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;oBACtB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;oBAClB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;iBACzB;gBAED,OAAO,IAAI,CAAC,KAAK,CAAC;YACnB,CAAC;YAEM,2BAAK,GAAZ;gBACC,IAAM,CAAC,GAAe,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC9E,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACnC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC3B,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACvB,OAAO,CAAC,CAAC;YACV,CAAC;YAkBF,kBAAC;QAAD,CAjEA,AAiEC,IAAA;QAjEY,gBAAW,cAiEvB,CAAA;IACF,CAAC,EApEa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAoEjB;AAAD,CAAC,EApES,GAAG,KAAH,GAAG,QAoEZ;ACpED,IAAU,GAAG,CAkDZ;AAlDD,WAAU,GAAG;IAAC,IAAA,IAAI,CAkDjB;IAlDa,WAAA,IAAI;QAEjB;YAQC;gBACC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC7B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAC9B,CAAC;YAYM,2BAAG,GAAV,UAAW,CAAQ;gBAClB,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC;gBAE9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBAEzB,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAiBF,oBAAC;QAAD,CA/CA,AA+CC,IAAA;QA/CY,kBAAa,gBA+CzB,CAAA;IACF,CAAC,EAlDa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAkDjB;AAAD,CAAC,EAlDS,GAAG,KAAH,GAAG,QAkDZ;AClDD,IAAU,GAAG,CAwFZ;AAxFD,WAAU,GAAG;IAAC,IAAA,IAAI,CAwFjB;IAxFa,WAAA,IAAI;QAEjB;YAQC,6BAAY,QAAe;gBAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC7B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC7B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YAClB,CAAC;YAYM,iCAAG,GAAV,UAAW,CAAQ;gBAClB,IAAI,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;oBACnC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;oBAE7B,IAAM,MAAM,GAAU,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;oBAC1C,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC;oBAEtB,IAAM,MAAM,GAAU,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;oBACzC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC;oBAEtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAEzB;qBAAM;oBACN,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBACjC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;oBACjB,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC;oBAE3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;iBACrC;gBAiBD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBAEzB,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAqBF,0BAAC;QAAD,CArFA,AAqFC,IAAA;QArFY,wBAAmB,sBAqF/B,CAAA;IACF,CAAC,EAxFa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAwFjB;AAAD,CAAC,EAxFS,GAAG,KAAH,GAAG,QAwFZ;ACxFD,IAAU,GAAG,CAuFZ;AAvFD,WAAU,GAAG;IAAC,IAAA,IAAI,CAuFjB;IAvFa,WAAA,IAAI;QAEjB;YAQC,kBAAY,cAAyB;gBAAzB,+BAAA,EAAA,kBAAyB;gBACpC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;gBAC5D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC;gBAC7C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC7B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YAClB,CAAC;YAYM,sBAAG,GAAV,UAAW,CAAQ;gBAClB,IAAI,IAAI,CAAC,eAAe,GAAG,CAAC,EAAE;oBAC7B,IAAI,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,EAAE;wBACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC;wBAEnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACpB,IAAM,MAAM,GAAU,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;wBAC1C,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE;4BACzB,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gCACpB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;6BAChB;yBACD;6BAAM;4BACN,IAAI,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC;4BAChC,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gCAC5C,IAAM,CAAC,GAAU,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gCAChC,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oCACpB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;iCAChB;6BACD;yBACD;qBAED;yBAAM;wBACN,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACpB,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;4BACpB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;yBAChB;qBACD;iBACD;qBAAM;oBACN,EAAE,IAAI,CAAC,MAAM,CAAC;oBACd,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;wBACpB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;qBAChB;iBACD;gBAED,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBAEzB,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAqBF,eAAC;QAAD,CApFA,AAoFC,IAAA;QApFY,aAAQ,WAoFpB,CAAA;IACF,CAAC,EAvFa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAuFjB;AAAD,CAAC,EAvFS,GAAG,KAAH,GAAG,QAuFZ;ACvFD,IAAU,GAAG,CAmFZ;AAnFD,WAAU,GAAG;IAAC,IAAA,IAAI,CAmFjB;IAnFa,WAAA,IAAI;QAEjB;YAQC,kBAAY,KAAgB,EAAE,QAAmB,EAAE,MAAqB;gBAA5D,sBAAA,EAAA,SAAgB;gBAAE,yBAAA,EAAA,YAAmB;gBAAE,uBAAA,EAAA,aAAqB;gBACvE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC7B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;YACpC,CAAC;YAYM,2BAAQ,GAAf,UAAgB,MAAqB;gBAArB,uBAAA,EAAA,aAAqB;gBACpC,OAAO,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;YAC3D,CAAC;YAEM,2BAAQ,GAAf,UAAgB,KAAY,EAAE,MAAqB;gBAArB,uBAAA,EAAA,aAAqB;gBAClD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;YACvD,CAAC;YAEM,8BAAW,GAAlB,UAAmB,MAAqB;gBAArB,uBAAA,EAAA,aAAqB;gBACvC,OAAO,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;YACjE,CAAC;YAEM,8BAAW,GAAlB,UAAmB,QAAe,EAAE,MAAqB;gBAArB,uBAAA,EAAA,aAAqB;gBACxD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;YAChE,CAAC;YAEM,yBAAM,GAAb;gBACC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC;YAC7B,CAAC;YAEM,yBAAM,GAAb,UAAc,MAAiB;gBAAjB,uBAAA,EAAA,UAAiB;gBAC9B,OAAO,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtC,CAAC;YAEM,yBAAM,GAAb,UAAc,MAAiB;gBAAjB,uBAAA,EAAA,UAAiB;gBAC9B,OAAO,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtC,CAAC;YAEM,yBAAM,GAAb,UAAc,MAAiB;gBAAjB,uBAAA,EAAA,UAAiB;gBAC9B,OAAO,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtC,CAAC;YAEM,+BAAY,GAAnB,UAAoB,MAAiB;gBAAjB,uBAAA,EAAA,UAAiB;gBACpC,OAAO,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;YAChD,CAAC;YAEM,4BAAS,GAAhB,UAAiB,MAAiB,EAAE,EAAgC;gBAAnD,uBAAA,EAAA,UAAiB;gBAAE,mBAAA,EAAA,SAAgC;gBACnE,IAAI,EAAE,IAAI,IAAI,EAAE;oBACf,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;oBAC3B,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;iBAC3B;qBAAM;oBACN,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC;iBAC1D;YACF,CAAC;YAcF,eAAC;QAAD,CAhFA,AAgFC,IAAA;QAhFY,aAAQ,WAgFpB,CAAA;IACF,CAAC,EAnFa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAmFjB;AAAD,CAAC,EAnFS,GAAG,KAAH,GAAG,QAmFZ;ACnFD,IAAU,GAAG,CA0GZ;AA1GD,WAAU,GAAG;IAAC,IAAA,IAAI,CA0GjB;IA1Ga,WAAA,IAAI;QAEjB,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QACnD,IAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QAE5B;YAA0C,wCAAe;YAaxD,8BAAY,SAAoB,EAAE,SAAsB;gBAA5C,0BAAA,EAAA,aAAoB;gBAAE,0BAAA,EAAA,eAAsB;gBAAxD,YACC,iBAAO,SASP;gBA2CO,mBAAa,GAAG;oBACvB,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC,qBAAqB,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;oBAClE,IAAI,KAAI,CAAC,eAAe,GAAG,CAAC,EAAE;wBAC7B,IAAM,WAAW,GAAU,IAAI,CAAC,GAAG,EAAE,CAAC;wBACtC,IAAM,WAAW,GAAU,WAAW,GAAG,KAAI,CAAC,cAAc,CAAC;wBAC7D,IAAI,WAAW,IAAI,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,iBAAiB,EAAE;4BAE1D,KAAI,CAAC,cAAc,GAAG,WAAW,CAAC;4BAClC,KAAI,CAAC,aAAa,CAAC,IAAI,KAAA,yBAAyB,CAAC,KAAA,yBAAyB,CAAC,IAAI,EAAE,KAAI,CAAC,CAAC,CAAC;yBACxF;qBACD;yBAAM;wBACN,KAAI,CAAC,aAAa,CAAC,IAAI,KAAA,yBAAyB,CAAC,KAAA,yBAAyB,CAAC,IAAI,EAAE,KAAI,CAAC,CAAC,CAAC;qBACxF;gBACF,CAAC,CAAC;gBA/DD,KAAI,CAAC,eAAe,GAAG,SAAS,CAAC;gBACjC,KAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,KAAI,CAAC,eAAe,CAAC;gBAE5C,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC3B,KAAI,CAAC,iBAAiB,GAAG,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,SAAS,CAAC;gBAExD,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;;YACxB,CAAC;YAYM,oCAAK,GAAZ;gBACC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBACjC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACnE,CAAC;YAEM,mCAAI,GAAX;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC7C,CAAC;YAEM,2CAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,iDAAkB,GAAzB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEO,0CAAW,GAAnB,UAAoB,QAAiB;gBACpC,OAAO,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;YAC/C,CAAC;YAEO,4CAAa,GAArB,UAAsB,SAAgB;gBACrC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACjC,CAAC;YAoCF,2BAAC;QAAD,CApGA,AAoGC,CApGyC,eAAe,GAoGxD;QApGY,yBAAoB,uBAoGhC,CAAA;IACF,CAAC,EA1Ga,IAAI,GAAJ,QAAI,KAAJ,QAAI,QA0GjB;AAAD,CAAC,EA1GS,GAAG,KAAH,GAAG,QA0GZ;AC1GD,IAAU,GAAG,CAwDZ;AAxDD,WAAU,GAAG;IAAC,IAAA,IAAI,CAwDjB;IAxDa,WAAA,IAAI;QAEjB,IAAO,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;QAE/B;YAA+C,6CAAK;YAoBnD,mCAAY,SAAgB,EAAE,WAAsB;gBAAtB,4BAAA,EAAA,kBAAsB;uBACnD,kBAAM,SAAS,EAAE,WAAW,CAAC;YAC9B,CAAC;YAYM,yCAAK,GAAZ;gBACC,OAAO,IAAI,yBAAyB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;YACxE,CAAC;YAEM,4CAAQ,GAAf;gBACC,OAAO,qCAAqC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YAC/D,CAAC;YAhCa,8BAAI,GAAU,MAAM,CAAC;YA2CpC,gCAAC;SAnDD,AAmDC,CAnD8C,KAAK,GAmDnD;QAnDY,8BAAyB,4BAmDrC,CAAA;IACF,CAAC,EAxDa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAwDjB;AAAD,CAAC,EAxDS,GAAG,KAAH,GAAG,QAwDZ;ACxDD,IAAU,GAAG,CAiIZ;AAjID,WAAU,GAAG;IAAC,IAAA,IAAI,CAiIjB;IAjIa,WAAA,IAAI;QAEjB,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QACnD,IAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QAE5B;YAA2B,yBAAe;YAQzC,eAAY,QAAsB,EAAE,WAAsB;gBAA9C,yBAAA,EAAA,eAAsB;gBAAE,4BAAA,EAAA,eAAsB;gBAA1D,YACC,iBAAO,SAMP;gBA0DO,kBAAY,GAAG;oBACtB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;oBAC7B,EAAE,KAAI,CAAC,YAAY,CAAC;oBACpB,IAAI,WAAW,GAAW,KAAK,CAAC;oBAChC,IAAI,KAAI,CAAC,WAAW,GAAG,CAAC,IAAI,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,WAAW,EAAE;wBAClE,WAAW,GAAG,IAAI,CAAC;wBACnB,KAAI,CAAC,IAAI,EAAE,CAAC;qBACZ;yBAAM,IAAI,KAAI,CAAC,SAAS,IAAI,KAAI,CAAC,QAAQ,EAAE;wBAC3C,KAAI,CAAC,aAAa,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;qBAClC;oBACD,KAAI,CAAC,QAAQ,CAAC,KAAA,UAAU,CAAC,IAAI,CAAC,CAAC;oBAC/B,IAAI,WAAW,EAAE;wBAChB,KAAI,CAAC,QAAQ,CAAC,KAAA,UAAU,CAAC,QAAQ,CAAC,CAAC;qBACnC;gBACF,CAAC,CAAC;gBA7ED,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACzB,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,KAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBACd,KAAI,CAAC,KAAK,EAAE,CAAC;;YACd,CAAC;YAYM,qBAAK,GAAZ;gBACC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3E,CAAC;YAEM,oBAAI,GAAX;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC9C,IAAI,CAAC,YAAY,EAAE,CAAC;YACrB,CAAC;YAEM,qBAAK,GAAZ;gBACC,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YACrB,CAAC;YAEM,uBAAO,GAAd;gBACC,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAMO,6BAAa,GAArB,UAAsB,QAAe;gBACpC,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1B,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAClE,CAAC;YAEO,4BAAY,GAApB;gBACC,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE;oBACnB,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACxB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;iBACd;YACF,CAAC;YAEO,wBAAQ,GAAhB,UAAiB,SAAgB;gBAChC,IAAI,CAAC,aAAa,CAAC,IAAI,KAAA,UAAU,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;YAC/G,CAAC;YA4BM,4BAAY,GAAnB,cAAgC,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAGjD,2BAAW,GAAlB,cAA8B,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC9C,2BAAW,GAAlB,UAAmB,QAAe,IAAS,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC;YAG/D,8BAAc,GAArB,cAAiC,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAEhE,2BAAW,GAAlB,cAA8B,OAAO,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YAEtE,+BAAe,GAAtB,cAAkC,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAGtD,8BAAc,GAArB,cAAiC,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACpD,8BAAc,GAArB,UAAsB,KAAY,IAAS,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC;YAG/D,4BAAY,GAAnB,cAA+B,OAAO,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAM9E,YAAC;QAAD,CA3HA,AA2HC,CA3H0B,eAAe,GA2HzC;QA3HY,UAAK,QA2HjB,CAAA;IACF,CAAC,EAjIa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAiIjB;AAAD,CAAC,EAjIS,GAAG,KAAH,GAAG,QAiIZ;ACjID,IAAU,GAAG,CAgEZ;AAhED,WAAU,GAAG;IAAC,IAAA,IAAI,CAgEjB;IAhEa,WAAA,IAAI;QAEjB,IAAO,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;QAE/B;YAAgC,8BAAK;YAqBpC,oBAAY,SAAgB,EAAE,WAAsB,EAAE,YAAuB,EAAE,WAAsB,EAAE,SAAoB;gBAA7F,4BAAA,EAAA,kBAAsB;gBAAE,6BAAA,EAAA,gBAAuB;gBAAE,4BAAA,EAAA,eAAsB;gBAAE,0BAAA,EAAA,aAAoB;gBAA3H,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAI7B;gBAHA,KAAI,CAAC,YAAY,GAAG,YAAY,CAAC;gBACjC,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;YAC5B,CAAC;YAYM,0BAAK,GAAZ;gBACC,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAC9G,CAAC;YAEM,6BAAQ,GAAf;gBACC,OAAO,sBAAsB,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,mBAAmB,GAAG,IAAI,CAAC,YAAY,GAAG,gBAAgB,GAAG,IAAI,CAAC,WAAW,GAAG,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC;YAClK,CAAC;YApCa,eAAI,GAAU,MAAM,CAAC;YACrB,mBAAQ,GAAU,UAAU,CAAC;YAkD5C,iBAAC;SA3DD,AA2DC,CA3D+B,KAAK,GA2DpC;QA3DY,eAAU,aA2DtB,CAAA;IACF,CAAC,EAhEa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAgEjB;AAAD,CAAC,EAhES,GAAG,KAAH,GAAG,QAgEZ;AChED,IAAU,GAAG,CAwPZ;AAxPD,WAAU,GAAG;IAAC,IAAA,EAAE,CAwPf;IAxPa,WAAA,EAAE;QAEf,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QAInD;YAAgC,8BAAe;YAQ9C,oBAAY,gBAA2B;gBAA3B,iCAAA,EAAA,oBAA2B;gBAAvC,YACC,iBAAO,SAmBP;gBA6HO,6BAAuB,GAAG,UAAC,KAAe,EAAE,OAAW,EAAE,IAAkB;oBAAlB,qBAAA,EAAA,WAAkB;oBAClF,EAAE,KAAI,CAAC,kBAAkB,CAAC;oBAC1B,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;oBACxB,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC5B,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;oBACxB,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;wBACvB,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;qBAClC;oBAED,KAAI,CAAC,aAAa,CAAC,IAAI,GAAA,sBAAsB,CAAC,GAAA,sBAAsB,CAAC,OAAO,EAAE,KAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;oBACpG,KAAI,CAAC,IAAI,EAAE,CAAC;gBACb,CAAC,CAAC;gBAEM,0BAAoB,GAAG,UAAC,KAAe,EAAE,IAAe;oBAAf,qBAAA,EAAA,WAAe;oBAC/D,EAAE,KAAI,CAAC,kBAAkB,CAAC;oBAC1B,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;oBACxB,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC5B,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE;wBACxB,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;qBAC1B;oBAED,KAAI,CAAC,aAAa,CAAC,IAAI,GAAA,oBAAoB,CAAC,GAAA,oBAAoB,CAAC,KAAK,EAAE,KAAI,EAAE,IAAI,CAAC,CAAC,CAAC;oBACrF,KAAI,CAAC,IAAI,EAAE,CAAC;gBACb,CAAC,CAAC;gBArKD,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBAExB,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC;gBACtB,KAAI,CAAC,UAAU,GAAG,CAAC,CAAC;gBAEpB,KAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;gBAC5B,KAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;gBAEzC,KAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBACzB,KAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;gBAE5B,KAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,KAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBAEvB,KAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBAEzB,KAAK,CAAC,kCAAkC,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC;;YACnE,CAAC;YAYM,4BAAO,GAAd,UAAe,GAAU,EAAE,IAAW,EAAE,EAAc;gBAAd,mBAAA,EAAA,OAAc;gBACrD,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACzC,CAAC;YAEO,6BAAQ,GAAhB,UAAiB,IAAW,EAAE,GAAU,EAAE,KAAS,EAAE,EAAc;gBAAd,mBAAA,EAAA,OAAc;gBAClE,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;oBAAE,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBAE7D,IAAM,KAAK,GAAa,IAAI,GAAA,SAAS,EAAE,CAAC;gBACxC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;gBAClB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;gBAChB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;gBAEpB,IAAI,EAAE,IAAI,EAAE,EAAE;oBACb,KAAK,CAAC,EAAE,GAAG,EAAE,CAAC;iBACd;qBAAM;oBACN,KAAK,CAAC,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;oBACjC,EAAE,UAAU,CAAC,EAAE,CAAC;iBAChB;gBAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAChC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;gBACxC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBACrC,OAAO,KAAK,CAAC,EAAE,CAAC;YACjB,CAAC;YAEM,yBAAI,GAAX;gBACC,IAAI,IAAI,CAAC,UAAU;oBAAE,OAAO;gBAC5B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,IAAI,EAAE,CAAC;YACb,CAAC;YAEO,yBAAI,GAAZ;gBAAA,iBA2EC;gBA1EA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;gBAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;gBAE7C,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC;gBACrD,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,EAAE;oBAC3B,IAAI,CAAC,aAAa,CAAC,IAAI,GAAA,uBAAuB,CAAC,GAAA,uBAAuB,CAAC,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;iBACnI;qBAAM;oBACN,IAAI,CAAC,aAAa,CAAC,IAAI,GAAA,uBAAuB,CAAC,GAAA,uBAAuB,CAAC,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;iBACtI;;oBAGA,IAAI,OAAK,iBAAiB,GAAG,CAAC,GAAG,OAAK,UAAU,EAAE;wBAEjD,EAAE,OAAK,kBAAkB,CAAC;wBAE1B,EAAE,OAAK,iBAAiB,CAAC;wBACzB,IAAM,OAAK,GAAa,OAAK,cAAc,CAAC,OAAK,iBAAiB,CAAC,CAAC;wBACpE,OAAK,CAAC,SAAS,GAAG,IAAI,CAAC;wBACvB,OAAK,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC7B,KAAK,CAAC,0BAA0B,GAAG,IAAI,GAAG,OAAK,CAAC,GAAG,GAAG,UAAU,GAAG,OAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;wBAEtF,IAAM,OAAO,GAAgB,OAAK,cAAc,CAAC,OAAK,CAAC,IAAI,CAAC,CAAC;wBAC7D,IAAI,OAAO,EAAE;4BACZ,OAAO,CAAC,IAAI,CAAC,OAAK,CAAC,GAAG,EAAE,UAAC,OAAW,EAAE,IAAe;gCAAf,qBAAA,EAAA,WAAe;gCACpD,KAAI,CAAC,uBAAuB,CAAC,OAAK,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;4BACpD,CAAC,EAAC,UAAC,IAAe;gCAAf,qBAAA,EAAA,WAAe;gCACjB,KAAI,CAAC,oBAAoB,CAAC,OAAK,EAAE,IAAI,CAAC,CAAC;4BACxC,CAAC,CAAC,CAAC;yBACH;6BAAM;4BACN,KAAK,CAAC,sCAAsC,GAAG,OAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;4BAClE,EAAE,OAAK,kBAAkB,CAAC;yBAC1B;qBAGD;yBAAM;wBAEN,OAAK,UAAU,GAAG,KAAK,CAAC;wBACxB,OAAK,cAAc,GAAG,EAAE,CAAC;wBACzB,OAAK,iBAAiB,GAAG,CAAC,CAAC,CAAC;wBAC5B,OAAK,aAAa,CAAC,IAAI,GAAA,uBAAuB,CAAC,GAAA,uBAAuB,CAAC,QAAQ,UAAQ,QAAQ,EAAE,OAAK,YAAY,EAAE,OAAK,UAAU,CAAC,CAAC,CAAC;;qBAEtI;;;gBA/BF,OAAO,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,gBAAgB;;;;iBAgCrD;YAgCF,CAAC;YAEM,+BAAU,GAAjB,UAAkB,OAAoB;gBACrC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC;YAClD,CAAC;YA2BM,sCAAiB,GAAxB,UAAyB,OAAc;gBACtC,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YACvC,CAAC;YAEM,kCAAa,GAApB,UAAqB,GAAU;gBAC9B,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC/B,CAAC;YAEM,8BAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,UAAU,CAAC;YACxB,CAAC;YAEM,oCAAe,GAAtB;gBACC,OAAO,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YAEM,kCAAa,GAApB;gBACC,OAAO,IAAI,CAAC,UAAU,CAAC;YACxB,CAAC;YAEM,oCAAe,GAAtB,UAAgC,GAAU;gBACzC,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;YACvC,CAAC;YAEM,wCAAmB,GAA1B,UAAoC,SAAgB;gBACnD,OAAO,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC;YACjD,CAAC;YAEM,0CAAqB,GAA5B;gBACC,OAAO,IAAI,CAAC,kBAAkB,CAAC;YAChC,CAAC;YAEM,wCAAmB,GAA1B;gBACC,OAAO,IAAI,CAAC,gBAAgB,CAAC;YAC9B,CAAC;YA4Bc,aAAE,GAAU,CAAC,CAAC;YAC9B,iBAAC;SAjPD,AAiPC,CAjP+B,eAAe,GAiP9C;QAjPY,aAAU,aAiPtB,CAAA;IACF,CAAC,EAxPa,EAAE,GAAF,MAAE,KAAF,MAAE,QAwPf;AAAD,CAAC,EAxPS,GAAG,KAAH,GAAG,QAwPZ;ACxPD,IAAU,GAAG,CA+DZ;AA/DD,WAAU,GAAG;IAAC,IAAA,EAAE,CA+Df;IA/Da,WAAA,EAAE;QAEf;YAA6C,2CAAe;YAsB3D,iCAAY,SAAgB,EAAE,WAAsB,EAAE,QAAmB,EAAE,WAAsB,EAAE,UAAqB;gBAA1F,4BAAA,EAAA,kBAAsB;gBAAE,yBAAA,EAAA,YAAmB;gBAAE,4BAAA,EAAA,eAAsB;gBAAE,2BAAA,EAAA,cAAqB;gBAAxH,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAI7B;gBAHA,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACzB,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;YAC9B,CAAC;YAYM,uCAAK,GAAZ;gBACC,OAAO,IAAI,uBAAuB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACxH,CAAC;YAEM,0CAAQ,GAAf;gBACC,OAAO,mCAAmC,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,eAAe,GAAG,IAAI,CAAC,QAAQ,GAAG,kBAAkB,GAAG,IAAI,CAAC,WAAW,GAAG,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC;YAC7K,CAAC;YArCM,6BAAK,GAAU,OAAO,CAAC;YACvB,gCAAQ,GAAU,UAAU,CAAC;YAC7B,gCAAQ,GAAU,UAAU,CAAC;YAkDrC,8BAAC;SA5DD,AA4DC,CA5D4C,GAAG,CAAC,KAAK,CAAC,KAAK,GA4D3D;QA5DY,0BAAuB,0BA4DnC,CAAA;IACF,CAAC,EA/Da,EAAE,GAAF,MAAE,KAAF,MAAE,QA+Df;AAAD,CAAC,EA/DS,GAAG,KAAH,GAAG,QA+DZ;AC/DD,IAAU,GAAG,CA2DZ;AA3DD,WAAU,GAAG;IAAC,IAAA,EAAE,CA2Df;IA3Da,WAAA,EAAE;QAEf;YAA4C,0CAAe;YAoB1D,gCAAY,SAAgB,EAAE,WAAsB,EAAE,OAAW,EAAE,IAAe;gBAApD,4BAAA,EAAA,kBAAsB;gBAAe,qBAAA,EAAA,WAAe;gBAAlF,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAG7B;gBAFA,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBACvB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;YAClB,CAAC;YAYM,sCAAK,GAAZ;gBACC,OAAO,IAAI,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9F,CAAC;YAEM,yCAAQ,GAAf;gBACC,OAAO,kCAAkC,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;YACtF,CAAC;YAlCM,8BAAO,GAAU,SAAS,CAAC;YAgDnC,6BAAC;SAxDD,AAwDC,CAxD2C,GAAG,CAAC,KAAK,CAAC,KAAK,GAwD1D;QAxDY,yBAAsB,yBAwDlC,CAAA;IACF,CAAC,EA3Da,EAAE,GAAF,MAAE,KAAF,MAAE,QA2Df;AAAD,CAAC,EA3DS,GAAG,KAAH,GAAG,QA2DZ;AC3DD,IAAU,GAAG,CAyDZ;AAzDD,WAAU,GAAG;IAAC,IAAA,EAAE,CAyDf;IAzDa,WAAA,EAAE;QAEf;YAA0C,wCAAe;YAoBxD,8BAAY,SAAgB,EAAE,WAAsB,EAAE,IAAe;gBAAvC,4BAAA,EAAA,kBAAsB;gBAAE,qBAAA,EAAA,WAAe;gBAArE,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAE7B;gBADA,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;YAClB,CAAC;YAYM,oCAAK,GAAZ;gBACC,OAAO,IAAI,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9E,CAAC;YAEM,uCAAQ,GAAf;gBACC,OAAO,gCAAgC,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;YACpF,CAAC;YAjCM,0BAAK,GAAU,OAAO,CAAC;YA8C/B,2BAAC;SAtDD,AAsDC,CAtDyC,GAAG,CAAC,KAAK,CAAC,KAAK,GAsDxD;QAtDY,uBAAoB,uBAsDhC,CAAA;IACF,CAAC,EAzDa,EAAE,GAAF,MAAE,KAAF,MAAE,QAyDf;AAAD,CAAC,EAzDS,GAAG,KAAH,GAAG,QAyDZ;ACzDD,IAAU,GAAG,CA2CZ;AA3CD,WAAU,GAAG;IAAC,IAAA,EAAE,CA2Cf;IA3Ca,WAAA,EAAE;QAEf;YAQC;gBACC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC7B,CAAC;YA6BF,gBAAC;QAAD,CAxCA,AAwCC,IAAA;QAxCY,YAAS,YAwCrB,CAAA;IACF,CAAC,EA3Ca,EAAE,GAAF,MAAE,KAAF,MAAE,QA2Cf;AAAD,CAAC,EA3CS,GAAG,KAAH,GAAG,QA2CZ;AC3CD,IAAU,GAAG,CA2JZ;AA3JD,WAAU,GAAG;IAAC,IAAA,KAAK,CA2JlB;IA3Ja,WAAA,KAAK;QAElB,IAAO,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;QAC1B,IAAO,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAEhC;YAQC,mBAAmB,OAAoB,EAAE,WAAqB,EAAE,QAAoB,EAAE,YAAuB;gBAA7C,yBAAA,EAAA,aAAoB;gBAAE,6BAAA,EAAA,gBAAuB;gBAE5G,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBACvB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;gBAEjC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBAEzB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAElB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;gBAC1C,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBAEnC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAChB,IAAI,CAAC,WAAW,EAAE,CAAC;gBAEnB,IAAI,QAAQ,IAAI,EAAE,EAAE;oBACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACpB;YACF,CAAC;YAYM,wBAAI,GAAX,UAAY,GAAU;gBAAtB,iBAoBC;gBAnBA,IAAM,OAAO,GAAkB,IAAI,cAAc,EAAE,CAAC;gBACpD,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC;gBACrC,OAAO,CAAC,kBAAkB,GAAG;oBAC5B,IAAI,OAAO,CAAC,UAAU,IAAI,CAAC,EAAE;wBAC5B,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,OAAO,CAAC,MAAM,IAAI,GAAG,EAAE;4BACjD,KAAI,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAC,MAAkB;gCACjE,KAAK,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;gCAC1C,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gCACxB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gCACrB,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;4BACtC,CAAC,EAAE,UAAC,KAAW;gCACd,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;gCACzC,KAAK,CAAC,KAAK,CAAC,CAAC;4BACd,CAAC,CAAC,CAAC;yBACH;qBACD;gBACF,CAAC,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;gBAC/B,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAClB,CAAC;YAEM,wBAAI,GAAX,UAAY,IAAoB,EAAE,SAAwB;gBAA9C,qBAAA,EAAA,YAAoB;gBAAE,0BAAA,EAAA,gBAAwB;gBACzD,IAAI,CAAC,IAAI,CAAC,WAAW;oBAAE,OAAO;gBAC9B,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU;oBAAE,OAAO;gBAC1C,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;gBACpD,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACrC,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACvC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC;YAEM,wBAAI,GAAX;gBACC,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;oBACvB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;iBACvB;YACF,CAAC;YAEM,6BAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAEM,6BAAS,GAAhB,UAAiB,MAAa;gBAC7B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3B,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;oBAAE,OAAO;gBAClC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,WAAW,EAAE,CAAC;YACpB,CAAC;YAEM,0BAAM,GAAb,UAAc,EAAS,EAAE,QAAsB,EAAE,UAA0B;gBAA3E,iBAQC;gBARwB,yBAAA,EAAA,eAAsB;gBAAE,2BAAA,EAAA,iBAA0B;gBAC1E,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE;oBAC3F,KAAI,CAAC,WAAW,EAAE,CAAC;gBACpB,CAAC,EAAE;oBACF,IAAI,UAAU;wBAAE,UAAU,EAAE,CAAC;gBAC9B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC5B,CAAC;YAEM,0BAAM,GAAb,UAAc,QAAsB;gBAAtB,yBAAA,EAAA,eAAsB;gBACnC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;YAC1B,CAAC;YAEM,2BAAO,GAAd,UAAe,QAAsB,EAAE,cAA6B;gBAApE,iBAMC;gBANc,yBAAA,EAAA,eAAsB;gBAAE,+BAAA,EAAA,qBAA6B;gBACnE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,EAAE;oBACxB,IAAI,cAAc,EAAE;wBACnB,KAAI,CAAC,IAAI,EAAE,CAAC;qBACZ;gBACF,CAAC,CAAC,CAAC;YACJ,CAAC;YAEO,+BAAW,GAAnB;gBACC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;YAC5D,CAAC;YAEM,kCAAc,GAArB;gBACC,OAAO,IAAI,CAAC,WAAW,CAAC;YACzB,CAAC;YAEM,+BAAW,GAAlB;gBACC,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAEM,kCAAc,GAArB;gBACC,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;YACjC,CAAC;YAqBF,gBAAC;QAAD,CArJA,AAqJC,IAAA;QArJY,eAAS,YAqJrB,CAAA;IACF,CAAC,EA3Ja,KAAK,GAAL,SAAK,KAAL,SAAK,QA2JlB;AAAD,CAAC,EA3JS,GAAG,KAAH,GAAG,QA2JZ;AC3JD,IAAU,GAAG,CAsFZ;AAtFD,WAAU,GAAG;IAAC,IAAA,KAAK,CAsFlB;IAtFa,WAAA,KAAK;QAElB,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QAGnD;YAAiC,+BAAe;YAY/C;gBAAA,YACC,iBAAO,SAYP;gBAVA,IAAM,YAAY,GAAO,MAAM,CAAC,cAAc,CAAC,IAAI,MAAM,CAAC,oBAAoB,CAAC,IAAI,IAAI,CAAC;gBACxF,KAAI,CAAC,WAAW,GAAG,YAAY,IAAI,IAAI,CAAC;gBACxC,IAAI,KAAI,CAAC,WAAW,EAAE;oBACrB,KAAI,CAAC,OAAO,GAAG,IAAI,YAAY,EAAE,CAAC;oBAClC,KAAI,CAAC,SAAS,GAAG,EAAE,CAAC;oBAEpB,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;oBAChD,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;oBACtD,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC;iBACtB;;YACF,CAAC;YAYM,yBAAG,GAAV,UAAW,GAAU,EAAE,YAAuB,EAAE,EAAc;gBAAvC,6BAAA,EAAA,gBAAuB;gBAAE,mBAAA,EAAA,OAAc;gBAC7D,IAAI,CAAC,IAAI,CAAC,WAAW;oBAAE,OAAO,KAAK,CAAC;gBACpC,IAAI,EAAE,IAAI,EAAE;oBAAE,EAAE,GAAG,GAAG,CAAC;gBACvB,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;oBAAE,OAAO,KAAK,CAAC;gBACrC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,IAAI,MAAA,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;gBACzF,OAAO,IAAI,CAAC;YACb,CAAC;YAEM,6BAAO,GAAd,UAAe,EAAS;gBACvB,IAAI,CAAC,IAAI,CAAC,WAAW;oBAAE,OAAO;gBAC9B,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC;YAEM,qCAAe,GAAtB;gBACC,IAAI,CAAC,IAAI,CAAC,WAAW;oBAAE,OAAO,CAAC,CAAC;gBAChC,OAAO,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YAEM,qCAAe,GAAtB,UAAuB,MAAa;gBACnC,IAAI,CAAC,IAAI,CAAC,WAAW;oBAAE,OAAO;gBAC9B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;gBAC3B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YACpD,CAAC;YAYa,uBAAW,GAAzB,cAA0C,OAAO,WAAW,CAAC,QAAQ,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC;YACvG,oBAAQ,GAAe,IAAI,CAAC;YAQ5C,kBAAC;SAhFD,AAgFC,CAhFgC,eAAe,GAgF/C;QAhFY,iBAAW,cAgFvB,CAAA;IACF,CAAC,EAtFa,KAAK,GAAL,SAAK,KAAL,SAAK,QAsFlB;AAAD,CAAC,EAtFS,GAAG,KAAH,GAAG,QAsFZ;ACtFD,IAAU,GAAG,CAiHZ;AAjHD,WAAU,GAAG;IAAC,IAAA,KAAK,CAiHlB;IAjHa,WAAA,KAAK;QAElB;YAQC,4BAAmB,iBAA4B;gBAA/C,iBAaC;gBAbkB,kCAAA,EAAA,qBAA4B;gBA2EvC,iBAAY,GAAG;oBACtB,IAAI,EAAE,KAAI,CAAC,SAAS,IAAI,KAAI,CAAC,SAAS;wBAAE,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;oBAC3D,KAAI,CAAC,WAAW,EAAE,CAAC;gBACpB,CAAC,CAAC;gBA7ED,IAAI,CAAC,WAAW,GAAG,MAAA,WAAW,CAAC,WAAW,EAAE,CAAC;gBAE7C,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBAEjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAEhB,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;gBAC3C,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YACrB,CAAC;YAYM,gCAAG,GAAV,UAAW,GAAU,EAAE,YAAuB;gBAAvB,6BAAA,EAAA,gBAAuB;gBAC7C,IAAM,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;gBACtC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,YAAY,EAAE,EAAE,CAAC,CAAC;gBAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;YACtC,CAAC;YAEM,iCAAI,GAAX;gBACC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,IAAI,CAAC,WAAW,EAAE,CAAC;YACpB,CAAC;YAEM,iCAAI,GAAX;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,IAAI,CAAC,WAAW,EAAE,CAAC;YACpB,CAAC;YAEM,sCAAS,GAAhB,UAAiB,MAAa;gBAC7B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBAErB,IAAI,IAAI,CAAC,IAAI,EAAE;oBACd,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACjC;YACF,CAAC;YAEO,wCAAW,GAAnB;gBACC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACjC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAE5B,IAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;gBAC3E,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;YACjE,CAAC;YAEO,wCAAW,GAAnB;gBACC,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,EAAE;oBACzB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBACpC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;iBACpB;gBAED,IAAI,IAAI,CAAC,IAAI,EAAE;oBACd,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;oBACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBACjB;YACF,CAAC;YA6BF,yBAAC;QAAD,CA9GA,AA8GC,IAAA;QA9GY,wBAAkB,qBA8G9B,CAAA;IACF,CAAC,EAjHa,KAAK,GAAL,SAAK,KAAL,SAAK,QAiHlB;AAAD,CAAC,EAjHS,GAAG,KAAH,GAAG,QAiHZ;ACjHD,IAAU,GAAG,CAkHZ;AAlHD,WAAU,GAAG;IAAC,IAAA,KAAK,CAkHlB;IAlHa,WAAA,KAAK;QAElB,IAAO,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;QAC1B,IAAO,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAEhC;YAQC,uBAAmB,WAAyB,EAAE,WAAwB;gBAAtE,iBAcC;gBAdkB,4BAAA,EAAA,kBAAyB;gBAAE,4BAAA,EAAA,iBAAwB;gBA0D9D,iBAAY,GAAG;oBACtB,IAAM,QAAQ,GAAG,KAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC;oBACpF,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;oBAClC,IAAI,IAAI,GAAG,KAAI,CAAC,SAAS,IAAI,QAAQ,GAAG,IAAI,EAAE;wBAC7C,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wBACtB,KAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;wBAEnC,IAAI,EAAE,KAAI,CAAC,SAAS,IAAI,KAAI,CAAC,SAAS,EAAE;4BACvC,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;yBACnB;wBACD,IAAM,MAAM,GAAG,KAAI,CAAC,OAAO,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;wBAC5C,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;wBACxD,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;qBACnD;gBACF,CAAC,CAAC;gBAvED,IAAI,CAAC,WAAW,GAAG,MAAA,WAAW,CAAC,WAAW,EAAE,CAAC;gBAE7C,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC;gBAEjC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAElB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YACjB,CAAC;YAYM,2BAAG,GAAV,UAAW,GAAU,EAAE,YAAuB;gBAAvB,6BAAA,EAAA,gBAAuB;gBAC7C,IAAM,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;gBACtC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,YAAY,EAAE,EAAE,CAAC,CAAC;gBAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;YACtC,CAAC;YAEM,4BAAI,GAAX,UAAY,WAA0B;gBAA1B,4BAAA,EAAA,kBAA0B;gBACrC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;gBACxD,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;gBACnE,IAAI,CAAC,YAAY,EAAE,CAAC;YACrB,CAAC;YAEM,4BAAI,GAAX;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACvC,CAAC;YAEM,gCAAQ,GAAf,UAAgB,UAAiB;gBAChC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;YACpG,CAAC;YAEM,iCAAS,GAAhB,UAAiB,MAAa;gBAC7B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACtB,CAAC;YA4CF,oBAAC;QAAD,CA5GA,AA4GC,IAAA;QA5GY,mBAAa,gBA4GzB,CAAA;IACF,CAAC,EAlHa,KAAK,GAAL,SAAK,KAAL,SAAK,QAkHlB;AAAD,CAAC,EAlHS,GAAG,KAAH,GAAG,QAkHZ;AClHD,IAAU,GAAG,CAwQZ;AAxQD,WAAU,GAAG;IAAC,IAAA,IAAI,CAwQjB;IAxQa,WAAA,MAAI;QAEjB,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QACnD,IAAO,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;QAEjC;YAA4C,wBAAe;YAQ1D,cAAY,IAAa,EAAE,EAAgB;gBAA/B,qBAAA,EAAA,WAAa;gBAAE,mBAAA,EAAA,SAAgB;gBAA3C,YACC,iBAAO,SAkBP;gBAjBA,KAAI,CAAC,EAAE,GAAG,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACnD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,KAAI,CAAC,IAAI,GAAG,EAAE,CAAC;gBACf,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC7B,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBAEtB,IAAI,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,EAAE,CAAC,EAAE;oBAC5B,MAAM,CAAC,IAAI,CAAC,YAAY,GAAG,KAAI,CAAC,EAAE,GAAG,iBAAiB,CAAC,CAAC;iBACxD;gBACD,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC;gBAC/B,EAAE,IAAI,CAAC,SAAS,CAAC;;YAClB,CAAC;YAYM,yBAAU,GAAjB;gBACC,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,aAAa;oBAAE,OAAO;gBACtD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAM3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;gBAClC,IAAI,IAAI,CAAC,cAAc,EAAE;oBACxB,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,EAAE,sBAAsB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAClE,IAAI,IAAI,CAAC,gBAAgB,EAAE;wBAC1B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;qBACjB;oBACD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;iBAC1B;qBAAM;oBAEN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBACjB;YACF,CAAC;YAEM,oBAAK,GAAZ;gBACC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC9C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,EAAE,2CAA2C,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAChG,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,CAAC;YAEM,uBAAQ,GAAf;gBACC,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,aAAa;oBAAE,OAAO;gBACxD,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAE3B,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAC/B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;YAChC,CAAC;YAEM,mBAAI,GAAX,UAAY,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACvC,IAAI,IAAI,CAAC,OAAO;oBAAE,OAAO;gBACzB,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,CAAC;YAC9C,CAAC;YAEM,mBAAI,GAAX,UAAY,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACvC,IAAI,CAAC,IAAI,CAAC,OAAO;oBAAE,OAAO;gBAC1B,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,CAAC;YAC9C,CAAC;YAEM,6BAAc,GAArB,UAAsB,aAA4B;gBAAlD,iBA+BC;gBA/BqB,8BAAA,EAAA,oBAA4B;gBACjD,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;gBAC5C,OAAO,CAAC,UAAU,CACjB,IAAI,GAAG,CAAC,IAAI,CAAC;oBACZ,IAAI,KAAI,CAAC,OAAO;wBAAE,OAAO;oBACzB,UAAU,CAAC,KAAI,CAAC,IAAI,IAAI,KAAI,EAAE,uDAAuD,EAAE,KAAI,CAAC,cAAc,IAAI,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;oBACnI,SAAS,CAAC,KAAI,CAAC,IAAI,IAAI,KAAI,EAAE,kDAAkD,EAAE,KAAI,CAAC,UAAU,IAAG,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;oBACpH,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;oBAEtB,IAAI,KAAI,CAAC,WAAW,EAAE;wBACrB,KAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;wBAC7B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;qBACxB;oBACD,IAAI,KAAI,CAAC,WAAW,EAAE;wBACrB,KAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;wBAC7B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;qBACxB;oBAED,KAAI,CAAC,WAAW,GAAG,OAAO,CAAC;oBAC3B,OAAO,CAAC,aAAa,CACpB,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,IAAI,EAAE,aAAa,CAAC,EACvC,IAAI,GAAG,CAAC,IAAI,CAAC;wBACZ,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACxB,CAAC,CAAC,CACF,CAAC;gBACH,CAAC,CAAC,CACF,CAAC;gBACF,OAAO,OAAO,CAAC;YAChB,CAAC;YAEM,6BAAc,GAArB,UAAsB,aAA4B;gBAAlD,iBAiCC;gBAjCqB,8BAAA,EAAA,oBAA4B;gBACjD,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;gBAC5C,OAAO,CAAC,UAAU,CACjB,IAAI,GAAG,CAAC,IAAI,CAAC;oBACZ,IAAI,CAAC,KAAI,CAAC,OAAO;wBAAE,OAAO;oBAC1B,IAAI,CAAC,KAAI,CAAC,cAAc,EAAE;wBACzB,UAAU,CAAC,KAAI,CAAC,IAAI,IAAI,KAAI,EAAE,uDAAuD,EAAE,KAAI,CAAC,cAAc,IAAI,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;wBACnI,SAAS,CAAC,KAAI,CAAC,IAAI,IAAI,KAAI,EAAE,kDAAkD,EAAE,KAAI,CAAC,UAAU,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;qBACrH;oBACD,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBAErB,IAAI,KAAI,CAAC,WAAW,EAAE;wBACrB,KAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;wBAC7B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;qBACxB;oBACD,IAAI,KAAI,CAAC,WAAW,EAAE;wBACrB,KAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;wBAC7B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;qBACxB;oBAED,KAAI,CAAC,WAAW,GAAG,OAAO,CAAC;oBAC3B,OAAO,CAAC,aAAa,CACpB,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,IAAI,EAAE,aAAa,CAAC,EACvC,IAAI,GAAG,CAAC,IAAI,CAAC;wBACZ,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACvB,CAAC,CAAC,CACF,CAAC;gBACH,CAAC,CAAC,CACF,CAAC;gBACF,OAAO,OAAO,CAAC;YAChB,CAAC;YAEM,gCAAiB,GAAxB;gBACC,OAAO,IAAI,CAAC,cAAc,CAAC;YAC5B,CAAC;YAEM,+BAAgB,GAAvB;gBACC,OAAO,IAAI,CAAC,aAAa,CAAC;YAC3B,CAAC;YAEM,4BAAa,GAApB;gBACC,OAAO,IAAI,CAAC,UAAU,CAAC;YACxB,CAAC;YAEM,2BAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,2BAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,yBAAU,GAAjB;gBACC,OAAO,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC;YAEM,0BAAW,GAAlB;gBACC,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAEM,0BAAW,GAAlB;gBACC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;YACtB,CAAC;YAEM,oBAAK,GAAZ;gBACC,OAAO,IAAI,CAAC,EAAE,CAAC;YAChB,CAAC;YAEM,sBAAO,GAAd;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEM,sBAAO,GAAd;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEM,sBAAO,GAAd,UAAe,KAAY;gBAC1B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YACnB,CAAC;YAEM,kCAAmB,GAA1B;gBACC,OAAO,IAAI,CAAC,gBAAgB,CAAC;YAC9B,CAAC;YAEM,kCAAmB,GAA1B,UAA2B,KAAa;gBACvC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC/B,CAAC;YAgBa,gBAAW,GAAzB,UAA0B,EAAS;gBAClC,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC;YA0Bc,cAAS,GAAU,CAAC,CAAC;YACrB,cAAS,GAAmB,EAAE,CAAC;YAC/C,WAAC;SAlQD,AAkQC,CAlQ2C,eAAe,GAkQ1D;QAlQqB,WAAI,OAkQzB,CAAA;IACF,CAAC,EAxQa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAwQjB;AAAD,CAAC,EAxQS,GAAG,KAAH,GAAG,QAwQZ;ACxQD,IAAU,GAAG,CAwRZ;AAxRD,WAAU,GAAG;IAAC,IAAA,IAAI,CAwRjB;IAxRa,WAAA,IAAI;QAEjB;YAQC,wBAAY,MAAc,EAAE,OAA0B,EAAE,oBAAmC,EAAE,uBAAsC,EAAE,wBAAuC;gBAA5K,iBAcC;gBAd2B,wBAAA,EAAA,cAA0B;gBAAE,qCAAA,EAAA,2BAAmC;gBAAE,wCAAA,EAAA,8BAAsC;gBAAE,yCAAA,EAAA,+BAAuC;gBAkMpK,qBAAgB,GAAG,UAAC,KAAgB;oBAC3C,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,IAAI,EAAE,CAAC;oBACZ,KAAI,CAAC,gBAAgB,EAAE,CAAC;gBACzB,CAAC,CAAC;gBAEM,oBAAe,GAAG,UAAC,KAAgB;oBAC1C,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,GAAG,EAAE,CAAC;oBACX,KAAI,CAAC,gBAAgB,EAAE,CAAC;gBACzB,CAAC,CAAC;gBAEM,qBAAgB,GAAG,UAAC,KAAgB;oBAC3C,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,IAAI,EAAE,CAAC;gBACb,CAAC,CAAC;gBAEM,mBAAc,GAAG,UAAC,KAAgB;oBACzC,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC;gBAEM,iBAAY,GAAG,UAAC,KAAgB;oBACvC,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,KAAK,EAAE,CAAC;gBACd,CAAC,CAAC;gBAKM,sBAAiB,GAAG,UAAC,KAAgB;oBAC5C,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,IAAI,EAAE,CAAC;gBACb,CAAC,CAAC;gBAEM,oBAAe,GAAG,UAAC,KAAgB;oBAC1C,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,EAAE,EAAE,CAAC;oBACV,KAAI,CAAC,KAAK,EAAE,CAAC;gBACd,CAAC,CAAC;gBAEM,uBAAkB,GAAG,UAAC,KAAgB;oBAC7C,IAAI,KAAI,CAAC,uBAAuB;wBAAE,KAAK,CAAC,cAAc,EAAE,CAAC;oBACzD,IAAI,KAAI,CAAC,wBAAwB;wBAAE,KAAK,CAAC,eAAe,EAAE,CAAC;oBAC3D,KAAI,CAAC,EAAE,EAAE,CAAC;gBACX,CAAC,CAAC;gBArPD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;gBACjD,IAAI,CAAC,uBAAuB,GAAG,uBAAuB,CAAC;gBACvD,IAAI,CAAC,wBAAwB,GAAG,wBAAwB,CAAC;gBACzD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;gBAE7B,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YAC1B,CAAC;YAYM,6BAAI,GAAX,UAAY,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACvC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,IAAI,IAAI,CAAC,MAAM;wBAAE,OAAO;oBACxB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;iBAC1C;YACF,CAAC;YAEM,4BAAG,GAAV,UAAW,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACtC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;YAChC,CAAC;YAEO,6BAAI,GAAZ,UAAa,YAAoB,EAAE,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBAC9D,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,YAAY,EAAE;oBACpC,IAAI,CAAC,IAAI,CAAC,MAAM;wBAAE,OAAO;oBACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;iBACzC;YACF,CAAC;YAEM,6BAAI,GAAX,UAAY,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACvC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,IAAI,IAAI,CAAC,MAAM;wBAAE,OAAO;oBACxB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;iBAC1C;YACF,CAAC;YAEM,2BAAE,GAAT,UAAU,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACrC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;YAC/B,CAAC;YAEO,4BAAG,GAAX,UAAY,YAAoB,EAAE,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBAC7D,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,YAAY,EAAE;oBACpC,IAAI,CAAC,IAAI,CAAC,MAAM;wBAAE,OAAO;oBACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;iBACxC;YACF,CAAC;YAEM,8BAAK,GAAZ,UAAa,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACxC,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;iBAC3C;YACF,CAAC;YAEO,2BAAE,GAAV;gBACC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI;oBAAE,OAAO;gBAEjC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAClE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBAChE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAClE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC9D,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAE1D,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACpE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBAChE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;YACvE,CAAC;YAEO,4BAAG,GAAX;gBACC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI;oBAAE,OAAO;gBAEjC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACrE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBACnE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACrE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;gBACjE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAE7D,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACvE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;gBACnE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC1E,CAAC;YAEM,qCAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,qCAAY,GAAnB,UAAoB,KAAa,EAAE,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBAC9D,IAAI,IAAI,CAAC,SAAS,IAAI,KAAK,EAAE;oBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,IAAI,IAAI,CAAC,SAAS,EAAE;wBACnB,IAAI,IAAI,CAAC,cAAc,EAAE;4BACxB,IAAI,CAAC,IAAI,EAAE,CAAC;yBACZ;wBACD,IAAI,IAAI,CAAC,cAAc,EAAE;4BACxB,IAAI,CAAC,IAAI,EAAE,CAAC;yBACZ;qBACD;yBAAM;wBACN,IAAI,IAAI,CAAC,MAAM,EAAE;4BAChB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACjB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;yBAC3B;wBACD,IAAI,IAAI,CAAC,MAAM,EAAE;4BAChB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BAChB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;yBAC3B;qBACD;oBACD,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;iBACnE;YACF,CAAC;YAEM,kCAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAEM,kCAAS,GAAhB;gBACC,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAEM,mCAAU,GAAjB;gBACC,OAAO,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC;YAEM,mCAAU,GAAjB,UAAkB,OAAmB;gBACpC,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;oBAC7B,IAAI,CAAC,GAAG,EAAE,CAAC;oBACX,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBACvB,IAAI,CAAC,EAAE,EAAE,CAAC;iBACV;YACF,CAAC;YAEM,qCAAY,GAAnB;gBACC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YAEM,mDAA0B,GAAjC;gBACC,OAAO,IAAI,CAAC,uBAAuB,CAAC;YACrC,CAAC;YAEM,mDAA0B,GAAjC,UAAkC,OAAe;gBAChD,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC;YACxC,CAAC;YAEM,oDAA2B,GAAlC;gBACC,OAAO,IAAI,CAAC,wBAAwB,CAAC;YACtC,CAAC;YAEM,oDAA2B,GAAlC,UAAmC,OAAe;gBACjD,IAAI,CAAC,wBAAwB,GAAG,OAAO,CAAC;YACzC,CAAC;YAEM,gDAAuB,GAA9B;gBACC,OAAO,IAAI,CAAC,oBAAoB,CAAC;YAClC,CAAC;YAEM,gDAAuB,GAA9B,UAA+B,OAAe;gBAC7C,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC;YACrC,CAAC;YAEO,yCAAgB,GAAxB;gBACC,IAAI,IAAI,CAAC,oBAAoB,EAAE;oBAC9B,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;wBAClE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;wBACpD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;qBACtC;yBAAM;wBACN,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,MAAM,CAAC;qBAC7F;iBACD;YACF,CAAC;YAgFF,qBAAC;QAAD,CArRA,AAqRC,IAAA;QArRY,mBAAc,iBAqR1B,CAAA;IACF,CAAC,EAxRa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAwRjB;AAAD,CAAC,EAxRS,GAAG,KAAH,GAAG,QAwRZ;ACxRD,IAAU,GAAG,CAqDZ;AArDD,WAAU,GAAG;IAAC,IAAA,IAAI,CAqDjB;IArDa,WAAA,IAAI;QAEjB;YAQC,2BAAY,MAAiB;gBAC5B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACtB,CAAC;YAYM,kCAAM,GAAb,UAAc,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBACzC,IAAI,IAAI,CAAC,UAAU;oBAAE,OAAO;gBAC5B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;YAClE,CAAC;YAEM,oCAAQ,GAAf,UAAgB,aAA4B;gBAA5B,8BAAA,EAAA,oBAA4B;gBAC3C,IAAI,CAAC,IAAI,CAAC,UAAU;oBAAE,OAAO;gBAC7B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;YAClE,CAAC;YAEM,yCAAa,GAApB;gBACC,OAAO,IAAI,CAAC,UAAU,CAAC;YACxB,CAAC;YAcF,wBAAC;QAAD,CAlDA,AAkDC,IAAA;QAlDY,sBAAiB,oBAkD7B,CAAA;IACF,CAAC,EArDa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAqDjB;AAAD,CAAC,EArDS,GAAG,KAAH,GAAG,QAqDZ;ACrDD,IAAU,GAAG,CAkNZ;AAlND,WAAU,GAAG;IAAC,IAAA,OAAO,CAkNpB;IAlNa,WAAA,OAAO;QAEpB;YA8MC;YAAuB,CAAC;YAtMT,qBAAU,GAAzB;gBACC,IAAI,IAAI,CAAC,aAAa;oBAAE,OAAO;gBAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE1B,IAAM,CAAC,GAAU,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;gBAG1D,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;uBACpE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;uBACvB,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;uBACzD,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;uBACzD,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;uBACzB,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;uBACvB,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;gBAEhC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;uBACpE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;uBACzB,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;uBACvB,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;uBACzD,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;uBACzD,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;gBAElC,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAGlD,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC7F,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBAGzE,IAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE;oBACzD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBACjB;qBAAM,IAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE;oBAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;iBACnB;qBAAM,IAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;oBACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACrB;qBAAM,IAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;oBACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACrB;qBAAM,IAAG,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE;oBACrC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;iBACtB;qBAAM,IAAG,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE;oBACnC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;iBACpB;qBAAM;oBACN,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;iBAC7B;gBAGD,IAAI,CAAC,cAAc,GAAG,CAAC,OAAO,MAAM,CAAC,YAAY,CAAC,KAAK,WAAW,CAAC;gBACnE,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;gBAGrC,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;gBAChD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;YAC3C,CAAC;YAKa,uBAAY,GAA1B;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEa,sBAAW,GAAzB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAEa,sBAAW,GAAzB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAKa,mBAAQ,GAAtB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,KAAK,CAAC;YACnB,CAAC;YAEa,uBAAY,GAA1B;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAKa,kBAAO,GAArB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEa,oBAAS,GAAvB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAEa,sBAAW,GAAzB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAEa,sBAAW,GAAzB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAEa,uBAAY,GAA1B;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEa,qBAAU,GAAxB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC;YAEa,8BAAmB,GAAjC;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,gBAAgB,CAAC;YAC9B,CAAC;YAKa,4BAAiB,GAA/B;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,cAAc,CAAC;YAC5B,CAAC;YAEa,+BAAoB,GAAlC;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,iBAAiB,CAAC;YAC/B,CAAC;YAKa,sBAAW,GAAzB;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAEa,8BAAmB,GAAjC;gBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,IAAI,CAAC,gBAAgB,CAAC;YAC9B,CAAC;YAEa,iBAAM,GAApB;gBACC,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE;oBACnB,IAAM,GAAG,GAAe,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACtD,GAAG,CAAC,YAAY,CAAC,OAAO,EAAE,8DAA8D,CAAC,CAAC;oBAC1F,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;oBAC/B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,YAAY,CAAC;oBAC5B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;iBAC/B;gBACD,OAAO,IAAI,CAAC,GAAG,CAAC;YACjB,CAAC;YAYc,oBAAS,GAAW,KAAK,CAAC;YAC1B,mBAAQ,GAAW,KAAK,CAAC;YACzB,mBAAQ,GAAW,KAAK,CAAC;YAEzB,gBAAK,GAAW,KAAK,CAAC;YACtB,oBAAS,GAAW,KAAK,CAAC;YAE1B,eAAI,GAAW,KAAK,CAAC;YACrB,iBAAM,GAAW,KAAK,CAAC;YACvB,mBAAQ,GAAW,KAAK,CAAC;YACzB,mBAAQ,GAAW,KAAK,CAAC;YACzB,oBAAS,GAAW,KAAK,CAAC;YAC1B,kBAAO,GAAW,KAAK,CAAC;YACxB,2BAAgB,GAAW,KAAK,CAAC;YAEjC,yBAAc,GAAW,KAAK,CAAC;YAC/B,4BAAiB,GAAW,KAAK,CAAC;YAElC,mBAAQ,GAAW,KAAK,CAAC;YACzB,2BAAgB,GAAU,CAAC,CAAC;YAC5B,cAAG,GAAU,CAAC,CAAC,CAAC;YAEhB,wBAAa,GAAW,KAAK,CAAC;YAO9C,iBAAC;SA/MD,AA+MC,IAAA;QA/MY,kBAAU,aA+MtB,CAAA;IACF,CAAC,EAlNa,OAAO,GAAP,WAAO,KAAP,WAAO,QAkNpB;AAAD,CAAC,EAlNS,GAAG,KAAH,GAAG,QAkNZ;AClND,IAAU,GAAG,CA4HZ;AA5HD,WAAU,GAAG;IAAC,IAAA,OAAO,CA4HpB;IA5Ha,WAAA,OAAO;QAEpB,IAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QAE5B;YAsHC;YAAuB,CAAC;YAvGV,iBAAI,GAAlB,UAAmB,GAAU,EAAE,KAAS,EAAE,SAAqB;gBAArB,0BAAA,EAAA,aAAoB,CAAC;gBAC9D,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;oBAAE,OAAO,KAAK,CAAC;gBAC9C,IAAM,MAAM,GAAsC,EAAE,KAAK,EAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;gBACxG,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;gBAClD,OAAO,IAAI,CAAC;YACb,CAAC;YAQa,yBAAY,GAA1B,UAA2B,GAAU,EAAE,KAAS,EAAE,YAAwB;gBAAxB,6BAAA,EAAA,gBAAuB,CAAC;gBACzE,IAAM,SAAS,GAAU,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3E,OAAO,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;YACjD,CAAC;YAOa,iBAAI,GAAlB,UAAmB,GAAU,EAAE,YAAuB;gBAAvB,6BAAA,EAAA,mBAAuB;gBACrD,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;oBAAE,OAAO,YAAY,CAAC;gBACrD,IAAM,MAAM,GAAsC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBACxF,IAAI,MAAM,EAAE;oBAEX,IAAI,MAAM,CAAC,SAAS,GAAG,CAAC,EAAE;wBAEzB,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,SAAS,EAAE;4BAElC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;yBAChC;6BAAM;4BAEN,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;4BAC7B,OAAO,YAAY,CAAC;yBACpB;qBACD;yBAAM;wBAEN,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAChC;iBACD;qBAAM;oBAEN,OAAO,YAAY,CAAC;iBACpB;YACF,CAAC;YAMa,mBAAM,GAApB,UAAqB,GAAU;gBAC9B,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;oBAAE,OAAO;gBACxC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAC9B,CAAC;YAMa,wBAAW,GAAzB;gBACC,IAAI,YAAY,CAAC,YAAY,IAAI,IAAI,EAAE;oBACtC,IAAI;wBACH,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;wBAC/C,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;wBACrC,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC;qBACjC;oBAAC,OAAO,KAAK,EAAE;wBACf,YAAY,CAAC,YAAY,GAAG,KAAK,CAAC;qBAClC;iBACD;gBACD,OAAO,YAAY,CAAC,YAAY,CAAC;YAClC,CAAC;YAWa,2BAAc,GAA5B,UAA6B,KAAgB,EAAE,KAAgB,EAAE,OAAkB,EAAE,OAAkB,EAAE,YAAuB;gBAAnG,sBAAA,EAAA,SAAgB;gBAAE,sBAAA,EAAA,SAAgB;gBAAE,wBAAA,EAAA,WAAkB;gBAAE,wBAAA,EAAA,WAAkB;gBAAE,6BAAA,EAAA,gBAAuB;gBAC/H,OAAO,YAAY,GAAG,CAAC,OAAO,GAAG,CAAC,OAAO,GAAG,CAAC,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;YACrF,CAAC;YAYc,yBAAY,GAAW,IAAI,CAAC;YAO5C,mBAAC;SAvHD,AAuHC,IAAA;QAvHY,oBAAY,eAuHxB,CAAA;IACF,CAAC,EA5Ha,OAAO,GAAP,WAAO,KAAP,WAAO,QA4HpB;AAAD,CAAC,EA5HS,GAAG,KAAH,GAAG,QA4HZ;AC5HD,IAAU,GAAG,CAkPZ;AAlPD,WAAU,GAAG;IAAC,IAAA,OAAO,CAkPpB;IAlPa,WAAA,OAAO;QAGpB,IAAY,OA+HX;QA/HD,WAAY,OAAO;YAClB,+CAAa,CAAA;YACb,mCAAO,CAAA;YACP,wCAAU,CAAA;YACV,wCAAU,CAAA;YACV,sCAAS,CAAA;YACT,oCAAQ,CAAA;YACR,kDAAe,CAAA;YACf,8CAAa,CAAA;YACb,0CAAW,CAAA;YACX,wCAAU,CAAA;YACV,0CAAW,CAAA;YACX,8CAAa,CAAA;YACb,oCAAQ,CAAA;YACR,sCAAS,CAAA;YAET,gDAAc,CAAA;YACd,4CAAY,CAAA;YACZ,kDAAe,CAAA;YACf,gDAAc,CAAA;YAEd,0CAAW,CAAA;YACX,0CAAW,CAAA;YAEX,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YACT,sCAAS,CAAA;YAET,oDAAkB,CAAA;YAClB,4DAAsB,CAAA;YACtB,0CAAa,CAAA;YACb,gDAAgB,CAAA;YAChB,sCAAgB,CAAA;YAChB,kDAAiB,CAAA;YACjB,oDAAkB,CAAA;YAClB,wCAAY,CAAA;YACZ,oCAAW,CAAA;YACX,gDAAgB,CAAA;YAChB,sCAAW,CAAA;YACX,4CAAc,CAAA;YACd,gDAAgB,CAAA;YAEhB,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YACN,gCAAM,CAAA;YAEN,wDAAkB,CAAA;YAClB,0DAAmB,CAAA;YACnB,gDAAc,CAAA;YAEd,4CAAY,CAAA;YACZ,4CAAY,CAAA;YACZ,4CAAY,CAAA;YACZ,4CAAY,CAAA;YACZ,6CAAa,CAAA;YACb,6CAAa,CAAA;YACb,6CAAa,CAAA;YACb,6CAAa,CAAA;YACb,6CAAa,CAAA;YACb,6CAAa,CAAA;YAEb,+CAAc,CAAA;YACd,qCAAS,CAAA;YACT,+CAAc,CAAA;YACd,uDAAkB,CAAA;YAClB,2CAAY,CAAA;YAEZ,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,mCAAQ,CAAA;YACR,qCAAS,CAAA;YACT,qCAAS,CAAA;YACT,qCAAS,CAAA;YAET,6CAAa,CAAA;YACb,mDAAgB,CAAA;YAEhB,iDAAe,CAAA;YACf,2CAAY,CAAA;YACZ,yCAAW,CAAA;YACX,uCAAU,CAAA;YACV,2CAAY,CAAA;YACZ,mDAAiB,CAAA;YACjB,+CAAiB,CAAA;YACjB,uDAAkB,CAAA;YAClB,yCAAW,CAAA;YACX,qDAAmB,CAAA;YAEnB,qDAAiB,CAAA;YACjB,yDAAmB,CAAA;YACnB,yCAAW,CAAA;QACZ,CAAC,EA/HW,OAAO,GAAP,eAAO,KAAP,eAAO,QA+HlB;QAMD;YAwGC;YAAuB,CAAC;YAhGT,qBAAU,GAAzB;gBACC,IAAI,IAAI,CAAC,aAAa;oBAAE,OAAO;gBAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE1B,IAAI,CAAC,eAAe,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;YACxD,CAAC;YAEa,gBAAK,GAAnB;gBACC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAK,CAAC,oBAAoB,CAAC,CAAC;gBAE5B,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;gBAC9D,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC3D,CAAC;YAGa,eAAI,GAAlB;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAK,CAAC,mBAAmB,CAAC,CAAC;gBAE3B,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;gBACjE,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC9D,CAAC;YAEa,2BAAgB,GAA9B,UAA+B,SAAgB,EAAE,QAAwC;gBACxF,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAC5D,CAAC;YAEa,8BAAmB,GAAjC,UAAkC,SAAgB,EAAE,QAAwC;gBAC3F,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAC/D,CAAC;YAoCa,uBAAY,GAA1B,cAAuC,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAGjD,6BAAkB,GAAhC,cAA6C,OAAO,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC;YAGjE,0BAAe,GAA7B,UAA8B,OAAc,IAAY,OAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YAI/F,sCAA2B,GAAzC,cAAsD,OAAO,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;YAC/E,sCAA2B,GAAzC,UAA0C,OAAe,IAAS,IAAI,CAAC,wBAAwB,GAAG,OAAO,CAAC,CAAC,CAAC;YAzC7F,+BAAoB,GAAG,UAAC,KAAmB;gBACzD,IAAM,OAAO,GAAU,KAAK,CAAC,OAAO,CAAC;gBACrC,IAAI,UAAU,CAAC,qBAAqB,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE;oBACtD,UAAU,CAAC,qBAAqB,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;oBACjD,EAAE,UAAU,CAAC,eAAe,CAAC;oBAC7B,UAAU,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,QAAA,eAAe,CAAC,QAAA,eAAe,CAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;iBAC3G;qBAAM,IAAI,UAAU,CAAC,wBAAwB,EAAE;oBAC/C,UAAU,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,QAAA,eAAe,CAAC,QAAA,eAAe,CAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;iBAC3G;YACF,CAAC,CAAC;YAEa,6BAAkB,GAAG,UAAC,KAAmB;gBACvD,IAAM,OAAO,GAAU,KAAK,CAAC,OAAO,CAAC;gBACrC,IAAI,UAAU,CAAC,qBAAqB,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE;oBACtD,OAAO,UAAU,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;oBACjD,EAAE,UAAU,CAAC,eAAe,CAAC;oBAC7B,UAAU,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,QAAA,eAAe,CAAC,QAAA,eAAe,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;iBACzG;YACF,CAAC,CAAC;YAaa,oBAAS,GAAW,KAAK,CAAC;YAG1B,0BAAe,GAAU,CAAC,CAAC;YAG3B,gCAAqB,GAAsB,EAAE,CAAC;YAK9C,mCAAwB,GAAW,KAAK,CAAC;YAEzC,wBAAa,GAAW,KAAK,CAAC;YAC9B,wBAAa,GAAW,KAAK,CAAC;YAC9B,0BAAe,GAA6B,IAAI,CAAC;YAOjE,iBAAC;SAzGD,AAyGC,IAAA;QAzGY,kBAAU,aAyGtB,CAAA;IACF,CAAC,EAlPa,OAAO,GAAP,WAAO,KAAP,WAAO,QAkPpB;AAAD,CAAC,EAlPS,GAAG,KAAH,GAAG,QAkPZ;AClPD,IAAU,GAAG,CAoEZ;AApED,WAAU,GAAG;IAAC,IAAA,OAAO,CAoEpB;IApEa,WAAA,OAAO;QAEpB;YAAqC,mCAAe;YAqBnD,yBAAY,SAAgB,EAAE,WAAsB,EAAE,aAAkC;gBAA1D,4BAAA,EAAA,kBAAsB;gBAAE,8BAAA,EAAA,oBAAkC;gBAAxF,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAO7B;gBANA,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC;gBAClC,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC;gBAC1C,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC;gBACxC,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC;gBAC1C,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;;YAC7C,CAAC;YAYM,+BAAK,GAAZ;gBACC,OAAO,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAClF,CAAC;YAEM,kCAAQ,GAAf;gBACC,OAAO,2BAA2B,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,UAAU,GAAG,IAAI,CAAC,GAAG,GAAG,cAAc,GAAG,IAAI,CAAC,OAAO,GAAG,aAAa,GAAG,IAAI,CAAC,MAAM,GAAG,cAAc,GAAG,IAAI,CAAC,OAAO,GAAG,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC7M,CAAC;YAvCM,sBAAM,GAAU,OAAO,CAAC;YACxB,wBAAQ,GAAU,SAAS,CAAC;YAwDpC,sBAAC;SAjED,AAiEC,CAjEoC,GAAG,CAAC,KAAK,CAAC,KAAK,GAiEnD;QAjEY,uBAAe,kBAiE3B,CAAA;IACF,CAAC,EApEa,OAAO,GAAP,WAAO,KAAP,WAAO,QAoEpB;AAAD,CAAC,EApES,GAAG,KAAH,GAAG,QAoEZ;ACpED,IAAU,GAAG,CAyIZ;AAzID,WAAU,GAAG;IAAC,IAAA,OAAO,CAyIpB;IAzIa,WAAA,OAAO;QAEpB;YAqIC;YAAuB,CAAC;YA7HT,wBAAU,GAAzB;gBACC,IAAI,IAAI,CAAC,aAAa;oBAAE,OAAO;gBAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE1B,IAAI,CAAC,eAAe,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;YACxD,CAAC;YAEa,mBAAK,GAAnB,UAAoB,MAAoB;gBAApB,uBAAA,EAAA,aAAoB;gBACvC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAK,CAAC,uBAAuB,CAAC,CAAC;gBAE/B,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC;gBAE/B,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACjE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBAC5E,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACjE,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAEa,kBAAI,GAAlB;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAK,CAAC,sBAAsB,CAAC,CAAC;gBAE9B,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACpE,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBAC/E,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;YACrE,CAAC;YAEa,mBAAK,GAAnB;gBACC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;gBAC1C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;gBAE5C,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC;gBACxH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;YACxD,CAAC;YAEa,8BAAgB,GAA9B,UAA+B,SAAgB,EAAE,QAA2C;gBAC3F,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAC5D,CAAC;YAEa,iCAAmB,GAAjC,UAAkC,SAAgB,EAAE,QAA2C;gBAC9F,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAC/D,CAAC;YAEa,kCAAoB,GAAlC,UAAmC,CAAQ;gBAC1C,OAAO,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;YAC3B,CAAC;YAAA,CAAC;YAEY,uCAAyB,GAAvC,UAAwC,CAAQ;gBAC/C,OAAO,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;YACzD,CAAC;YAEc,oBAAM,GAArB,UAAsB,KAAW;gBAChC,aAAa,CAAC,KAAK,EAAE,CAAC;gBACtB,aAAa,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,QAAA,kBAAkB,CAAC,QAAA,kBAAkB,CAAC,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,aAAa,CAAC,SAAS,EAAE,aAAa,CAAC,YAAY,EAAE,aAAa,CAAC,WAAW,EAAE,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC;YAClO,CAAC;YAAA,CAAC;YAiCY,0BAAY,GAA1B,cAAuC,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAGjD,uBAAS,GAAvB,cAAmC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAG1C,0BAAY,GAA1B,cAAsC,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAGhD,6BAAe,GAA7B,cAAyC,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAGtD,4BAAc,GAA5B,cAAwC,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YAGpD,6BAAe,GAA7B,cAAyC,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAGtD,0CAA4B,GAA1C,cAAuD,OAAO,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC;YACjF,0CAA4B,GAA1C,UAA2C,KAAa,IAAS,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC,CAAC,CAAC;YA9C3F,iCAAmB,GAAG,UAAC,KAAW;gBAChD,IAAI,CAAC,QAAA,UAAU,CAAC,YAAY,EAAE,IAAI,aAAa,CAAC,yBAAyB;oBAAE,OAAO;gBAClF,KAAK,CAAC,yCAAyC,CAAC,CAAC;gBACjD,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC7B,CAAC,CAAC;YAEa,4CAA8B,GAAG,UAAC,KAAW;gBAC3D,IAAI,QAAA,UAAU,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,yBAAyB;oBAAE,OAAO;gBAClF,KAAK,CAAC,oDAAoD,CAAC,CAAC;gBAC5D,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC7B,CAAC,CAAC;YAEa,iCAAmB,GAAG,UAAC,KAAW;gBAChD,aAAa,CAAC,KAAK,EAAE,CAAC;gBACtB,aAAa,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,QAAA,kBAAkB,CAAC,QAAA,kBAAkB,CAAC,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,aAAa,CAAC,SAAS,EAAE,aAAa,CAAC,YAAY,EAAE,aAAa,CAAC,WAAW,EAAE,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC;YAClO,CAAC,CAAC;YAaa,uBAAS,GAAW,KAAK,CAAC;YAG1B,oBAAM,GAAU,IAAI,CAAC;YASrB,yBAAW,GAAU,CAAC,CAAC;YAGvB,0BAAY,GAAU,CAAC,CAAC;YAIxB,uCAAyB,GAAW,IAAI,CAAC;YAEzC,2BAAa,GAAW,KAAK,CAAC;YAC9B,6BAAe,GAA6B,IAAI,CAAC;YAOjE,oBAAC;SAtID,AAsIC,IAAA;QAtIY,qBAAa,gBAsIzB,CAAA;IACF,CAAC,EAzIa,OAAO,GAAP,WAAO,KAAP,WAAO,QAyIpB;AAAD,CAAC,EAzIS,GAAG,KAAH,GAAG,QAyIZ;ACzID,IAAU,GAAG,CAkEZ;AAlED,WAAU,GAAG;IAAC,IAAA,OAAO,CAkEpB;IAlEa,WAAA,OAAO;QAEpB;YAAwC,sCAAe;YAqBtD,4BAAY,SAAgB,EAAE,WAAsB,EAAE,aAA0B,EAAE,SAAoB,EAAE,YAAuB,EAAE,WAAsB,EAAE,YAAuB;gBAAlJ,4BAAA,EAAA,kBAAsB;gBAAE,8BAAA,EAAA,oBAA0B;gBAAE,0BAAA,EAAA,aAAoB;gBAAE,6BAAA,EAAA,gBAAuB;gBAAE,4BAAA,EAAA,eAAsB;gBAAE,6BAAA,EAAA,gBAAuB;gBAAhL,YACC,kBAAM,SAAS,EAAE,WAAW,CAAC,SAM7B;gBALA,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACnC,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC3B,KAAI,CAAC,YAAY,GAAG,YAAY,CAAC;gBACjC,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,KAAI,CAAC,YAAY,GAAG,YAAY,CAAC;;YAClC,CAAC;YAYM,kCAAK,GAAZ;gBACC,OAAO,IAAI,kBAAkB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAC7J,CAAC;YAEM,qCAAQ,GAAf;gBACC,OAAO,8BAA8B,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,gBAAgB,GAAG,IAAI,CAAC,SAAS,GAAG,mBAAmB,GAAG,IAAI,CAAC,YAAY,GAAG,kBAAkB,GAAG,IAAI,CAAC,WAAW,GAAG,mBAAmB,GAAG,IAAI,CAAC,YAAY,CAAC;YACxN,CAAC;YAtCM,yBAAM,GAAU,QAAQ,CAAC;YACzB,yBAAM,GAAU,QAAQ,CAAC;YAsDjC,yBAAC;SA/DD,AA+DC,CA/DuC,GAAG,CAAC,KAAK,CAAC,KAAK,GA+DtD;QA/DY,0BAAkB,qBA+D9B,CAAA;IACF,CAAC,EAlEa,OAAO,GAAP,WAAO,KAAP,WAAO,QAkEpB;AAAD,CAAC,EAlES,GAAG,KAAH,GAAG,QAkEZ;AClED,IAAU,GAAG,CA8CZ;AA9CD,WAAU,GAAG;IAAC,IAAA,OAAO,CA8CpB;IA9Ca,WAAA,OAAO;QAEpB;YAA+C,6CAAe;YAc7D,mCAAY,SAAgB,EAAE,MAAa,EAAE,mBAA0B,EAAE,gBAAuB;gBAAhG,YACC,kBAAM,SAAS,EAAE,MAAM,CAAC,SAIxB;gBAFA,KAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;gBAC/C,KAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;;YAC1C,CAAC;YAjBa,gCAAM,GAAU,kCAAkC,CAAC;YAyClE,gCAAC;SA3CD,AA2CC,CA3C8C,GAAG,CAAC,KAAK,CAAC,KAAK,GA2C7D;QA3CY,iCAAyB,4BA2CrC,CAAA;IACF,CAAC,EA9Ca,OAAO,GAAP,WAAO,KAAP,WAAO,QA8CpB;AAAD,CAAC,EA9CS,GAAG,KAAH,GAAG,QA8CZ;AC9CD,IAAU,GAAG,CA4KZ;AA5KD,WAAU,GAAG;IAAC,IAAA,OAAO,CA4KpB;IA5Ka,WAAA,OAAO;QAEpB,IAAO,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,IAAO,aAAa,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;QACjD,IAAO,kBAAkB,GAAG,GAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC;QAC3D,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QAEnD;YAA0C,wCAAe;YAQxD,8BAAY,SAAsB;gBAAtB,0BAAA,EAAA,eAAsB;gBAAlC,YACC,iBAAO,SAWP;gBAkHO,yBAAmB,GAAG,UAAC,KAAwB;oBACtD,KAAI,CAAC,oBAAoB,EAAE,CAAC;oBAC5B,KAAI,CAAC,KAAK,EAAE,CAAC;gBACd,CAAC,CAAC;gBAEM,yBAAmB,GAAG,UAAC,KAAwB;oBACtD,KAAI,CAAC,uBAAuB,EAAE,CAAC;oBAC/B,KAAI,CAAC,oBAAoB,EAAE,CAAC;oBAC5B,KAAI,CAAC,KAAK,EAAE,CAAC;gBACd,CAAC,CAAC;gBApID,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,KAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAC;gBAChC,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAE9B,KAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;gBAC9B,KAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;;YAC5B,CAAC;YAYM,oCAAK,GAAZ;gBACC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,aAAa,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACpF,aAAa,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACpF,aAAa,CAAC,KAAK,EAAE,CAAC;gBAEtB,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAC/B,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAEM,mCAAI,GAAX;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,aAAa,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACvF,aAAa,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACvF,aAAa,CAAC,IAAI,EAAE,CAAC;YACtB,CAAC;YAEM,2CAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,8CAAe,GAAtB;gBACC,OAAO,IAAI,CAAC,mBAAmB,CAAC;YACjC,CAAC;YAEM,2CAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,gBAAgB,CAAC;YAC9B,CAAC;YAEM,kDAAmB,GAA1B;gBACC,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;YACvC,CAAC;YAEM,kDAAmB,GAA1B,UAA2B,SAAkB;gBAC5C,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC;gBAC3C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAc,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/D,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,IAAI,CAAC,KAAK,EAAE,CAAC;iBACb;YACF,CAAC;YAEM,2CAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,cAAc,CAAC;YAC5B,CAAC;YAEM,2CAAY,GAAnB,UAAoB,KAAY;gBAC/B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAC/B,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,IAAI,CAAC,KAAK,EAAE,CAAC;iBACb;YACF,CAAC;YAEO,oCAAK,GAAb;gBACC,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,EAAE;oBAChC,MAAM,CAAC,IAAI,CAAC,6CAA6C,CAAC,CAAC;oBAC3D,OAAO;iBACP;gBAED,IAAI,mBAAmB,GAAG,CAAC,CAAC,CAAC;gBAC7B,IAAI,8BAA8B,GAAG,CAAC,CAAC,CAAC;gBACxC,IAAI,eAAe,GAAU,MAAM,CAAC,SAAS,CAAC;gBAC9C,IAAM,oBAAoB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBAC1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,oBAAoB,EAAE,EAAE,CAAC,EAAE;oBAC9C,IAAM,uBAAuB,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;oBAC/E,IAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBAC5E,IAAI,QAAQ,GAAG,eAAe,EAAE;wBAC/B,eAAe,GAAG,QAAQ,CAAC;wBAC3B,mBAAmB,GAAG,CAAC,CAAC;wBACxB,8BAA8B,GAAG,uBAAuB,CAAC;qBACzD;iBACD;gBAED,IAAI,mBAAmB,IAAI,CAAC,EAAE;oBAC7B,IAAI,YAAY,GAAG,CAAC,CAAC,CAAC;oBACtB,IAAI,8BAA8B,GAAG,IAAI,CAAC,iBAAiB,EAAE;wBAC5D,YAAY,GAAG,mBAAmB,CAAC;qBACnC;yBAAM;wBACN,YAAY,GAAG,mBAAmB,GAAG,CAAC,CAAC;qBACvC;oBAED,IAAI,IAAI,CAAC,mBAAmB,IAAI,YAAY,EAAE;wBAC7C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC;wBACjD,IAAI,CAAC,mBAAmB,GAAG,YAAY,CAAC;wBACxC,IAAI,CAAC,aAAa,CAAC,IAAI,QAAA,yBAAyB,CAAC,QAAA,yBAAyB,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;qBAC3I;iBACD;YACF,CAAC;YAEO,sDAAuB,GAA/B;gBACC,IAAI,CAAC,iBAAiB,GAAG,aAAa,CAAC,eAAe,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC;YAChF,CAAC;YAEO,mDAAoB,GAA5B;gBACC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,YAAY,EAAE,CAAC;YACpD,CAAC;YAgCF,2BAAC;QAAD,CApKA,AAoKC,CApKyC,eAAe,GAoKxD;QApKY,4BAAoB,uBAoKhC,CAAA;IACF,CAAC,EA5Ka,OAAO,GAAP,WAAO,KAAP,WAAO,QA4KpB;AAAD,CAAC,EA5KS,GAAG,KAAH,GAAG,QA4KZ;AC5KD,IAAU,GAAG,CAwHZ;AAxHD,WAAU,GAAG;IAAC,IAAA,OAAO,CAwHpB;IAxHa,WAAA,OAAO;QAEpB,IAAO,aAAa,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;QACjD,IAAO,kBAAkB,GAAG,GAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC;QAC3D,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;QAEnD;YAAwC,sCAAe;YAQtD;gBAAA,YACC,iBAAO,SAOP;gBA4EO,yBAAmB,GAAG,UAAC,KAAwB;oBACtD,KAAI,CAAC,KAAK,EAAE,CAAC;gBACd,CAAC,CAAC;gBAnFD,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,KAAI,CAAC,eAAe,GAAG,CAAC,CAAC;gBAEzB,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;gBACvB,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;;YACrB,CAAC;YAYM,kCAAK,GAAZ;gBACC,IAAI,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,aAAa,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACpF,aAAa,CAAC,KAAK,EAAE,CAAC;gBAEtB,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;YAEM,iCAAI,GAAX;gBACC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,OAAO;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,aAAa,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACvF,aAAa,CAAC,IAAI,EAAE,CAAC;YACtB,CAAC;YAEM,2CAAc,GAArB,UAAsB,WAAoB;gBACzC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC;gBACxC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC/C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAc,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1D,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,IAAI,CAAC,KAAK,EAAE,CAAC;iBACb;YACF,CAAC;YAEM,yCAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,4CAAe,GAAtB;gBACC,OAAO,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YAEM,yCAAY,GAAnB;gBACC,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAEM,2CAAc,GAArB;gBACC,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAClC,CAAC;YAEM,+CAAkB,GAAzB;gBACC,OAAO,IAAI,CAAC,eAAe,CAAC;YAC7B,CAAC;YAEO,kCAAK,GAAb;gBACC,IAAM,WAAW,GAAG,aAAa,CAAC,cAAc,EAAE,CAAC;gBACnD,IAAI,KAAK,CAAC;gBACV,KAAK,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,eAAe,EAAE,EAAE,KAAK,EAAE;oBACtD,IAAI,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;wBAC3C,MAAM;qBACN;iBACD;gBAED,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK;oBAAE,OAAO;gBACvC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;gBACnC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,KAAK,CAAC,qCAAqC,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,kBAAkB,EAAE,WAAW,CAAC,CAAC;gBAEvH,IAAI,CAAC,aAAa,CAAC,IAAI,QAAA,uBAAuB,CAAC,QAAA,uBAAuB,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAC1H,CAAC;YAuBF,yBAAC;QAAD,CAjHA,AAiHC,CAjHuC,eAAe,GAiHtD;QAjHY,0BAAkB,qBAiH9B,CAAA;IACF,CAAC,EAxHa,OAAO,GAAP,WAAO,KAAP,WAAO,QAwHpB;AAAD,CAAC,EAxHS,GAAG,KAAH,GAAG,QAwHZ;ACxHD,IAAU,GAAG,CA8CZ;AA9CD,WAAU,GAAG;IAAC,IAAA,OAAO,CA8CpB;IA9Ca,WAAA,OAAO;QAEpB;YAA6C,2CAAe;YAc3D,iCAAY,SAAgB,EAAE,MAAa,EAAE,YAAmB,EAAE,SAAgB;gBAAlF,YACC,kBAAM,SAAS,EAAE,MAAM,CAAC,SAIxB;gBAFA,KAAI,CAAC,YAAY,GAAG,YAAY,CAAC;gBACjC,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;YAC5B,CAAC;YAjBa,8BAAM,GAAU,gCAAgC,CAAC;YAyChE,8BAAC;SA3CD,AA2CC,CA3C4C,GAAG,CAAC,KAAK,CAAC,KAAK,GA2C3D;QA3CY,+BAAuB,0BA2CnC,CAAA;IACF,CAAC,EA9Ca,OAAO,GAAP,WAAO,KAAP,WAAO,QA8CpB;AAAD,CAAC,EA9CS,GAAG,KAAH,GAAG,QA8CZ;AC9CD,IAAU,GAAG,CAyVZ;AAzVD,WAAU,GAAG;IAEZ,IAAO,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;IACjC,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;IAEnD;QAA2B,yBAAe;QAQzC,eAAY,IAAW;YAAvB,YACC,iBAAO,SAaP;YAZA,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;YAC/B,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,KAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACrB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;QACvB,CAAC;QAYM,wBAAQ,GAAf,UAAgB,KAAW;YAC1B,IAAI,KAAK,EAAE;gBACV,IAAM,SAAS,GAAU,KAAK,CAAC,IAAI,CAAC;gBACpC,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;oBACnC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,gDAAgD,GAAG,SAAS,GAAG,0BAA0B,CAAC,CAAC;iBACjI;qBAAM;oBACN,EAAE,IAAI,CAAC,WAAW,CAAC;oBACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;oBACvC,OAAO,KAAK,CAAC;iBACb;aACD;iBAAM;gBACN,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,iDAAiD,CAAC,CAAC;aACzF;YACD,OAAO,IAAI,CAAC;QACb,CAAC;QAEM,2BAAW,GAAlB,UAAmB,KAAW;YAC7B,IAAI,KAAK,EAAE;gBACV,IAAM,SAAS,GAAU,KAAK,CAAC,IAAI,CAAC;gBACpC,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;oBACnC,EAAE,IAAI,CAAC,WAAW,CAAC;oBACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;oBACpB,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;oBACtC,OAAO,KAAK,CAAC;iBACb;qBAAM;oBACN,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,mDAAmD,GAAG,SAAS,GAAG,sBAAsB,CAAC,CAAC;iBAChI;aACD;iBAAM;gBACN,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,oDAAoD,CAAC,CAAC;aAC5F;YACD,OAAO,IAAI,CAAC;QACb,CAAC;QAEM,2BAAW,GAAlB,UAAmB,QAAgB;YAClC,IAAM,aAAa,GAAW,EAAE,CAAC;YACjC,IAAM,CAAC,GAAU,QAAQ,CAAC,MAAM,CAAC;YACjC,IAAI,CAAO,CAAC;YACZ,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBAClC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,EAAE;oBACN,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACtB;aACD;YACD,OAAO,aAAa,CAAC;QACtB,CAAC;QAEM,8BAAc,GAArB,UAAsB,QAAgB;YACrC,IAAM,eAAe,GAAW,EAAE,CAAC;YACnC,IAAM,CAAC,GAAU,QAAQ,CAAC,MAAM,CAAC;YACjC,IAAI,CAAO,CAAC;YACZ,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBAClC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,EAAE;oBACN,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACxB;aACD;YACD,OAAO,eAAe,CAAC;QACxB,CAAC;QAEM,iCAAiB,GAAxB;YACC,IAAM,QAAQ,GAAW,EAAE,CAAC;YAC5B,IAAI,KAAW,CAAC;YAChB,KAAK,IAAI,MAAI,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,MAAI,CAAC,CAAC;gBAClC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;gBACpB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrB;YACD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACrB,OAAO,QAAQ,CAAC;QACjB,CAAC;QAEM,wBAAQ,GAAf,UAAgB,KAAkB;YACjC,IAAI,KAAK,EAAE;gBACV,OAAO,IAAI,CAAC,cAAc,CAAC,OAAO,KAAK,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;aAClF;iBAAM;gBACN,OAAO,KAAK,CAAC;aACb;QACF,CAAC;QAEM,uBAAO,GAAd;YACC,OAAO,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;QAEM,wBAAQ,GAAf;YACC,OAAO,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;QAEM,4BAAY,GAAnB;YACC,OAAO,IAAI,CAAC,SAAS,CAAC;QACvB,CAAC;QAEM,yBAAS,GAAhB;YACC,OAAO,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC;QAEM,8BAAc,GAArB,UAAsB,IAAW;YAChC,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAClC,CAAC;QAEM,8BAAc,GAArB;YACC,OAAO,IAAI,CAAC,WAAW,CAAC;QACzB,CAAC;QAEM,0BAAU,GAAjB;YACC,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;aAChC;iBAAM;gBACN,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,yEAAyE,CAAC,CAAC;aACjH;YACD,OAAO,IAAI,CAAC;QACb,CAAC;QAEM,uBAAO,GAAd;YACC,IAAM,OAAO,GAAgB,IAAI,CAAC,UAAU,EAAE,CAAC;YAC/C,IAAI,OAAO,EAAE;gBACZ,IAAM,KAAK,GAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAI,KAAK,GAAS,IAAI,CAAC;gBACvB,OAAO,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE;oBAC5B,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;iBAC1B;gBACD,OAAO,OAAO,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;aAC1C;iBAAM;gBACN,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,sEAAsE,CAAC,CAAC;aAC9G;YACD,OAAO,IAAI,CAAC;QACb,CAAC;QAEM,yBAAS,GAAhB,UAAiB,IAAW;YAC3B,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;QAMM,qBAAK,GAAZ,UAAa,YAA8B;YAA3C,iBAiBC;YAhBA,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,OAAO,CAAC;YAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,CACxC;gBACC,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,IAAI,EAAE,KAAI,CAAC,CAAC,CAAC;gBAC1D,IAAM,CAAC,GAAe,OAAM,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,KAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,UAAU,EAAE,CAAC;gBAC5F,IAAI,CAAC;oBAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,EACD;gBACC,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC;gBAC5B,KAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;gBAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,aAAa,EAAE,KAAI,CAAC,CAAC,CAAC;YACpE,CAAC,CACD,CAAC;YACF,OAAO,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAEM,uBAAO,GAAd,UAAe,YAA8B;YAA7C,iBAiBC;YAhBA,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,SAAS,CAAC;YAClC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,CACxC;gBACC,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,MAAM,EAAE,KAAI,CAAC,CAAC,CAAC;gBAC5D,IAAM,CAAC,GAAe,OAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,YAAY,EAAE,CAAC;gBAClG,IAAI,CAAC;oBAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,EACD;gBACC,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC;gBAC5B,KAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;gBAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,KAAI,CAAC,CAAC,CAAC;YACtE,CAAC,CACD,CAAC;YACF,OAAO,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAEM,uBAAO,GAAd,UAAe,YAA8B;YAA7C,iBAiBC;YAhBA,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,QAAQ,CAAC;YACjC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,CACxC;gBACC,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,MAAM,EAAE,KAAI,CAAC,CAAC,CAAC;gBAC5D,IAAM,CAAC,GAAe,OAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,YAAY,EAAE,CAAC;gBAClG,IAAI,CAAC;oBAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,EACD;gBACC,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC;gBAC5B,KAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;gBAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,KAAI,CAAC,CAAC,CAAC;YACtE,CAAC,CACD,CAAC;YACF,OAAO,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAEM,sBAAM,GAAb,UAAc,YAA8B;YAA5C,iBAiBC;YAhBA,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,OAAO,CAAC;YAChC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,CACxC;gBACC,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,KAAK,EAAE,KAAI,CAAC,CAAC,CAAC;gBAC3D,IAAM,CAAC,GAAe,OAAM,CAAC,KAAI,CAAC,OAAO,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,KAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,WAAW,EAAE,CAAC;gBAC/F,IAAI,CAAC;oBAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,EACD;gBACC,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC;gBAC5B,KAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;gBAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,cAAc,EAAE,KAAI,CAAC,CAAC,CAAC;YACrE,CAAC,CACD,CAAC;YACF,OAAO,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAEM,uBAAO,GAAd,UAAe,YAA8B;YAA7C,iBAiBC;YAhBA,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,SAAS,CAAC;YAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,CACxC;gBACC,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,MAAM,EAAE,KAAI,CAAC,CAAC,CAAC;gBAC5D,IAAM,CAAC,GAAe,OAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,YAAY,EAAE,CAAC;gBAClG,IAAI,CAAC;oBAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,EACD;gBACC,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC;gBAC5B,KAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;gBAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,KAAI,CAAC,CAAC,CAAC;YACtE,CAAC,CACD,CAAC;YACF,OAAO,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAEM,wBAAQ,GAAf,UAAgB,YAA8B;YAA9C,iBAiBC;YAhBA,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,UAAU,CAAC;YACnC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAM,OAAO,GAAc,IAAI,GAAG,CAAC,MAAM,CACxC;gBACC,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,OAAO,EAAE,KAAI,CAAC,CAAC,CAAC;gBAC7D,IAAM,CAAC,GAAe,OAAM,CAAC,KAAI,CAAC,SAAS,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,KAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,EAAE,CAAC;gBACrG,IAAI,CAAC;oBAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,EACD;gBACC,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC;gBAC5B,KAAI,CAAC,KAAK,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;gBAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,IAAA,UAAU,CAAC,IAAA,UAAU,CAAC,gBAAgB,EAAE,KAAI,CAAC,CAAC,CAAC;YACvE,CAAC,CACD,CAAC;YACF,OAAO,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAMS,0BAAU,GAApB;YACC,OAAO,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAES,4BAAY,GAAtB;YACC,OAAO,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAES,4BAAY,GAAtB;YACC,OAAO,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAES,2BAAW,GAArB;YACC,OAAO,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAES,4BAAY,GAAtB;YACC,OAAO,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAES,6BAAa,GAAvB;YACC,OAAO,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QA4BF,YAAC;IAAD,CAnVA,AAmVC,CAnV0B,eAAe,GAmVzC;IAnVY,SAAK,QAmVjB,CAAA;AACF,CAAC,EAzVS,GAAG,KAAH,GAAG,QAyVZ;ACzVD,IAAU,GAAG,CAoEZ;AApED,WAAU,GAAG;IAEZ,IAAO,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;IAE/B;QAAgC,8BAAK;QAgCpC,oBAAY,SAAgB,EAAE,WAAsB;YAAtB,4BAAA,EAAA,kBAAsB;mBACnD,kBAAM,SAAS,EAAE,WAAW,CAAC;QAC9B,CAAC;QAYM,0BAAK,GAAZ;YACC,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QACzD,CAAC;QAEM,6BAAQ,GAAf;YACC,OAAO,sBAAsB,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;QAChD,CAAC;QA5Ca,eAAI,GAAU,MAAM,CAAC;QACrB,iBAAM,GAAU,QAAQ,CAAC;QACzB,iBAAM,GAAU,QAAQ,CAAC;QACzB,gBAAK,GAAU,OAAO,CAAC;QACvB,iBAAM,GAAU,QAAQ,CAAC;QACzB,kBAAO,GAAU,SAAS,CAAC;QAE3B,wBAAa,GAAU,cAAc,CAAC;QACtC,0BAAe,GAAU,gBAAgB,CAAC;QAC1C,0BAAe,GAAU,gBAAgB,CAAC;QAC1C,yBAAc,GAAU,eAAe,CAAC;QACxC,0BAAe,GAAU,gBAAgB,CAAC;QAC1C,2BAAgB,GAAU,iBAAiB,CAAC;QA2C3D,iBAAC;KA/DD,AA+DC,CA/D+B,KAAK,GA+DpC;IA/DY,cAAU,aA+DtB,CAAA;AACF,CAAC,EApES,GAAG,KAAH,GAAG,QAoEZ;ACpED,IAAU,GAAG,CAgeZ;AAheD,WAAU,GAAG;IAEZ,IAAO,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;IACjC,IAAO,WAAW,GAAG,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC;IAC3C,IAAO,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC;IAEnD;QAAkC,gCAAe;QAQhD,sBAAY,IAAgB;YAAhB,qBAAA,EAAA,SAAgB;YAA5B,YACC,iBAAO,SAWP;YAuYO,8BAAwB,GAAG,UAAC,KAAgB;gBACnD,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAA,UAAU,CAAC,aAAa,EAAE,KAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC/F,KAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,OAAO,CAAC;gBACpC,EAAE,KAAI,CAAC,UAAU,CAAC;gBAClB,KAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC,CAAC;YAEM,gCAA0B,GAAG,UAAC,KAAgB;gBACrD,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,KAAI,CAAC,0BAA0B,CAAC,CAAC;gBACnG,KAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,SAAS,CAAC;gBACtC,EAAE,KAAI,CAAC,UAAU,CAAC;gBAClB,KAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC,CAAC;YAEM,gCAA0B,GAAG,UAAC,KAAgB;gBACrD,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,KAAI,CAAC,0BAA0B,CAAC,CAAC;gBACnG,KAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,QAAQ,CAAC;gBACrC,EAAE,KAAI,CAAC,UAAU,CAAC;gBAClB,KAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC,CAAC;YAEM,+BAAyB,GAAG,UAAC,KAAgB;gBACpD,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAA,UAAU,CAAC,cAAc,EAAE,KAAI,CAAC,yBAAyB,CAAC,CAAC;gBACjG,KAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,OAAO,CAAC;gBACpC,EAAE,KAAI,CAAC,UAAU,CAAC;gBAClB,KAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC,CAAC;YAEM,gCAA0B,GAAG,UAAC,KAAgB;gBACrD,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,KAAI,CAAC,0BAA0B,CAAC,CAAC;gBACnG,KAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,SAAS,CAAC;gBACtC,EAAE,KAAI,CAAC,UAAU,CAAC;gBAClB,KAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC,CAAC;YAEM,iCAA2B,GAAG,UAAC,KAAgB;gBACtD,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAA,UAAU,CAAC,gBAAgB,EAAE,KAAI,CAAC,2BAA2B,CAAC,CAAC;gBACrG,KAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,UAAU,CAAC;gBACvC,EAAE,KAAI,CAAC,UAAU,CAAC;gBAClB,KAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC,CAAC;YAzbD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,IAAI,GAAG,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,CAAC;YACrC,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAEzB,KAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;YACxB,KAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;YACnC,KAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YACrB,KAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YACrB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;;QAC1B,CAAC;QAYM,4BAAK,GAAZ;YACC,MAAM,CAAC,OAAO,CAAC,iCAAiC,CAAC,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC;QAEM,2BAAI,GAAX,UAAY,IAAW;YACtB,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAG9B,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,IAAI,IAAI,EAAE;gBACxE,OAAO;aACP;YAGD,IAAI,YAAY,GAAmB,EAAE,CAAC;YACtC,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,EAAE;gBAC7B,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,CAAC;aACxF;iBAAM;gBAEN,YAAY,GAAG,CAAC,IAAI,IAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;aAC3C;YAGD,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC5B,IAAM,oBAAoB,GAAW,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC;gBAE/D,IAAI,CAAC,oBAAoB,EAAE;oBAC1B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;oBACvB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;oBACpB,EAAE,IAAI,CAAC,UAAU,CAAC;oBAClB,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC;iBAC9B;qBAAM;oBACN,MAAM,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;oBACzC,MAAM,CAAC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;oBACzD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/F,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAClC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBACnC;gBAED,IAAI,CAAC,YAAY,GAAG,IAAI,IAAA,iBAAiB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;gBAE9J,IAAI,CAAC,oBAAoB,EAAE;oBAC1B,IAAI,CAAC,aAAa,CAAC,IAAI,IAAA,iBAAiB,CAAC,IAAA,iBAAiB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC;iBAClF;gBAED,IAAI,CAAC,UAAU,EAAE,CAAC;aAClB;QACF,CAAC;QAEM,kCAAW,GAAlB,UAAmB,IAAW;YAE7B,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;gBACnB,IAAI,IAAI,CAAC,YAAY,EAAE;oBACtB,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC;iBAChD;qBAAM;oBACN,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;iBAClB;aACD;YAGD,IAAM,KAAK,GAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvC,IAAM,UAAU,GAAY,EAAE,CAAC;YAC/B,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBAC7C,IAAM,MAAI,GAAU,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,MAAI,IAAI,EAAE;oBAAE,SAAS;gBACzB,IAAI,MAAI,IAAI,GAAG;oBAAE,SAAS;gBAC1B,IAAI,MAAI,IAAI,IAAI,EAAE;oBACjB,UAAU,CAAC,GAAG,EAAE,CAAC;oBACjB,SAAS;iBACT;gBACD,UAAU,CAAC,IAAI,CAAC,MAAI,CAAC,CAAC;aACtB;YAED,OAAO,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;QAEM,iCAAU,GAAjB,UAAkB,IAAW,EAAE,WAA2B;YAA3B,4BAAA,EAAA,mBAA2B;YACzD,IAAI,OAAO,GAAW,KAAK,CAAC;YAC5B,IAAM,KAAK,GAAY,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACtD,IAAM,CAAC,GAAU,KAAK,CAAC,MAAM,CAAC;YAC9B,IAAI,KAAK,GAAS,IAAI,CAAC,IAAI,CAAC;YAC5B,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBAClC,IAAM,MAAI,GAAU,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;oBACf,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAI,CAAC,EAAE;wBACzB,MAAM,CAAC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,GAAG,4CAA4C,GAAG,IAAI,GAAG,sBAAsB,CAAC,CAAC;qBAC3H;yBAAM;wBACN,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAA,KAAK,CAAC,MAAI,CAAC,CAAC,CAAC;wBACxC,OAAO,GAAG,IAAI,CAAC;qBACf;iBACD;qBAAM;oBACN,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAI,CAAC,EAAE;wBACzB,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC,MAAI,CAAC,CAAC;qBACnC;yBAAM;wBACN,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAA,KAAK,CAAC,MAAI,CAAC,CAAC,CAAC;qBACxC;iBACD;aACD;YACD,OAAO,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;QAC/B,CAAC;QAEM,8BAAO,GAAd;YACC,OAAO,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;QAEM,8BAAO,GAAd;YACC,OAAO,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;QAEM,qCAAc,GAArB,UAAsB,IAAW;YAChC,IAAM,KAAK,GAAY,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACtD,IAAM,CAAC,GAAU,KAAK,CAAC,MAAM,CAAC;YAC9B,IAAI,KAAK,GAAS,IAAI,CAAC,IAAI,CAAC;YAC5B,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBAClC,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aACvC;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAEM,0CAAmB,GAA1B,UAA2B,IAAW;YACrC,OAAO,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/D,CAAC;QAEM,2CAAoB,GAA3B,UAA4B,KAAc;YACzC,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QACzB,CAAC;QAEM,0CAAmB,GAA1B,UAA2B,KAAc;YACxC,OAAO,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzF,CAAC;QAEO,sCAAe,GAAvB,UAAwB,aAAoB,EAAE,eAAsB;YACnE,IAAI,aAAa,IAAI,eAAe,EAAE;gBACrC,MAAM,CAAC,IAAI,CAAC,uEAAuE,GAAG,aAAa,GAAG,IAAI,CAAC,CAAC;gBAC5G,OAAO,EAAE,CAAC;aACV;YAED,MAAM,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;YAEzC,IAAM,SAAS,GAAmB;gBACjC,IAAI,IAAA,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC,CAAC;aACpG,CAAC;YAEF,IAAM,cAAc,GAAY,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC;YACxE,IAAM,gBAAgB,GAAY,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,CAAC;YAE5E,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC3B,MAAM,CAAC,OAAO,CAAC,yBAAyB,GAAG,aAAa,GAAG,IAAI,CAAC,CAAC;YACjE,MAAM,CAAC,OAAO,CAAC,yBAAyB,GAAG,eAAe,GAAG,IAAI,CAAC,CAAC;YAEnE,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YAC5B,MAAM,CAAC,OAAO,CAAC,kBAAkB,GAAG,cAAc,CAAC,MAAM,GAAG,WAAW,GAAG,cAAc,GAAG,IAAI,CAAC,CAAC;YACjG,MAAM,CAAC,OAAO,CAAC,sBAAsB,GAAG,gBAAgB,CAAC,MAAM,GAAG,OAAO,GAAG,gBAAgB,GAAG,IAAI,CAAC,CAAC;YAGrG,IAAI,YAAY,GAAU,CAAC,CAAC;YAC5B,IAAI,YAAY,GAAY,EAAE,CAAC;YAC/B,IAAI,WAAkB,CAAC;YACvB,IAAI,eAAe,IAAI,GAAG,EAAE;gBAC3B,YAAY,GAAG,CAAC,CAAC,CAAC;gBAClB,YAAY,GAAG,EAAE,CAAC;gBAClB,WAAW,GAAG,GAAG,CAAC;aAClB;iBAAM;gBACN,OAAO,IAAI,EAAE;oBACZ,IAAI,cAAc,CAAC,YAAY,CAAC,IAAI,gBAAgB,CAAC,YAAY,CAAC,EAAE;wBACnE,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC;wBAChD,EAAE,YAAY,CAAC;qBACf;yBAAM;wBACN,EAAE,YAAY,CAAC;wBACf,MAAM;qBACN;iBACD;gBACD,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;aACrD;YAED,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAC9B,MAAM,CAAC,OAAO,CAAC,qBAAqB,GAAG,WAAW,CAAC,CAAC;YACpD,MAAM,CAAC,OAAO,CAAC,qBAAqB,GAAG,YAAY,CAAC,CAAC;YACrD,MAAM,CAAC,OAAO,CAAC,gBAAgB,GAAG,YAAY,CAAC,MAAM,GAAG,QAAQ,GAAG,YAAY,GAAG,IAAI,CAAC,CAAC;YAGxF;gBACC,IAAM,KAAK,GAAY,cAAc,CAAC,MAAM,EAAE,CAAC;gBAC/C,IAAI,QAAQ,GAAU,aAAa,CAAC;gBACpC,KAAK,IAAI,CAAC,GAAU,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBACzE,KAAK,CAAC,GAAG,EAAE,CAAC;oBACZ,IAAM,IAAI,GAAU,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;oBACpD,IAAI,IAAI,IAAI,QAAQ,EAAE;wBACrB,IAAM,KAAK,GAAU,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;wBACtD,SAAS,CAAC,IAAI,CAAC,IAAI,IAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;wBAC/C,QAAQ,GAAG,IAAI,CAAC;qBAChB;iBACD;aACD;YAED,IAAI,WAAW,IAAI,eAAe,IAAI,YAAY,GAAG,CAAC,EAAE;gBAEvD,IAAM,IAAI,GAAkB,YAAY,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,IAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxI,SAAS,CAAC,IAAI,CAAC,IAAI,IAAA,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;aAC7D;iBAAM;gBAGN,IAAM,KAAK,GAAY,YAAY,CAAC,MAAM,EAAE,CAAC;gBAC7C,IAAM,IAAI,GAAiB,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAC3D,IAAI,QAAQ,GAAU,IAAI,CAAC,OAAO,EAAE,CAAC;gBACrC,IAAI,SAAS,GAAU,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACvC,KAAK,IAAI,CAAC,GAAU,YAAY,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;oBACvE,IAAM,MAAI,GAAU,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBACxC,KAAK,CAAC,IAAI,CAAC,MAAI,CAAC,CAAC;oBACjB,IAAM,IAAI,GAAU,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;oBACpD,IAAI,IAAI,IAAI,QAAQ,EAAE;wBACrB,IAAM,KAAK,GAAU,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;wBACtD,SAAS,CAAC,IAAI,CAAC,IAAI,IAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;wBAC/C,SAAS,GAAG,KAAK,CAAC;wBAClB,QAAQ,GAAG,IAAI,CAAC;qBAChB;iBACD;aACD;YAGD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YAE7B,IAAI,MAAM,CAAC,KAAK,IAAI,WAAW,CAAC,OAAO,EAAE;gBACxC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;aAC9B;YAED,OAAO,SAAS,CAAC;QAClB,CAAC;QAEO,mCAAY,GAApB,UAAqB,SAAyB;YAC7C,IAAM,CAAC,GAAU,SAAS,CAAC,MAAM,CAAC;YAClC,IAAI,IAAI,GAAiB,IAAI,CAAC;YAC9B,IAAI,KAAmB,CAAC;YACxB,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBAClC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,GAAG,CAAC,EAAE;oBACV,IAAM,CAAC,GAAU,KAAK,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACpD,KAAK,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;oBACxG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;iBAC7B;gBACD,IAAI,GAAG,KAAK,CAAC;aACb;QACF,CAAC;QAEO,oCAAa,GAArB,UAAsB,SAAyB;YAC9C,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAChC,IAAM,CAAC,GAAU,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBAClC,MAAM,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;aACtD;YACD,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACpB,CAAC;QAMO,iCAAU,GAAlB;YACC,KAAK,CAAC,cAAc,GAAG,GAAG,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAIhE,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;gBAChD,MAAM,CAAC,OAAO,CAAC,qCAAqC,CAAC,CAAC;gBACtD,IAAM,aAAa,GAAU,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;gBAC/D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC/C,IAAI,CAAC,aAAa,CAAC,IAAI,IAAA,iBAAiB,CAAC,IAAA,iBAAiB,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC,CAAC;gBACrF,IAAI,aAAa,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE;oBACvD,IAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;oBACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;iBACzB;gBACD,OAAO;aACP;YAED,IAAI,IAAI,CAAC,YAAY,EAAE;gBACtB,IAAM,eAAe,GAAiB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACzE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,CAAC;gBAGnE,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,EAAE;oBACzD,KAAK,CAAC,iBAAiB,CAAC,CAAC;oBAGzB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,IAAA,UAAU,CAAC,QAAQ,EAAE;wBACpG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,cAAc,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;wBAC9F,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC5C,OAAO;qBACP;oBAGD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,SAAS,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,eAAe,CAAC,KAAK,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;wBACtJ,EAAE,IAAI,CAAC,aAAa,CAAC;wBACrB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;wBAChG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC7C,OAAO;qBAEP;yBAAM;wBAEN,EAAE,IAAI,CAAC,aAAa,CAAC;wBACrB,IAAI,CAAC,UAAU,EAAE,CAAC;wBAClB,OAAO;qBACP;iBACD;gBAGD,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7E,KAAK,CAAC,eAAe,CAAC,CAAC;oBAGvB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,eAAe,CAAC,OAAO,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;wBACzJ,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,aAAa,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;wBAC5F,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC3C,OAAO;qBACP;oBAGD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,SAAS,IAAI,eAAe,CAAC,OAAO,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;wBACjG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;wBAChG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC7C,OAAO;qBACP;oBAGD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,SAAS,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,eAAe,CAAC,KAAK,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;wBACtJ,EAAE,IAAI,CAAC,aAAa,CAAC;wBACrB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;wBAChG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC7C,OAAO;qBACP;oBAGD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,UAAU,IAAI,eAAe,CAAC,KAAK,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;wBACjG,EAAE,IAAI,CAAC,aAAa,CAAC;wBACrB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,gBAAgB,EAAE,IAAI,CAAC,2BAA2B,CAAC,CAAC;wBAClG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC9C,OAAO;qBACP;iBACD;gBAGD,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;oBACpD,KAAK,CAAC,mBAAmB,CAAC,CAAC;oBAG3B,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,eAAe,CAAC,OAAO,EAAE,IAAI,IAAA,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;wBACzJ,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,aAAa,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;wBAC5F,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC3C,OAAO;qBACP;oBAGD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAA,UAAU,CAAC,QAAQ,EAAE;wBAC1C,EAAE,IAAI,CAAC,aAAa,CAAC;wBACrB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;wBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;wBAChG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBAC7C,OAAO;qBACP;iBACD;aAED;iBAAM;gBACN,KAAK,CAAC,YAAY,CAAC,CAAC;gBAGpB,IAAI,CAAC,SAAS,GAAG,IAAA,UAAU,CAAC,MAAM,CAAC;gBACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC9B,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;gBACvF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAA,UAAU,CAAC,aAAa,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC5F,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3C;QACF,CAAC;QAgEF,mBAAC;IAAD,CAzdA,AAydC,CAzdiC,eAAe,GAydhD;IAzdY,gBAAY,eAydxB,CAAA;AACF,CAAC,EAheS,GAAG,KAAH,GAAG,QAgeZ;ACheD,IAAU,GAAG,CAyDZ;AAzDD,WAAU,GAAG;IAEZ,IAAO,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;IAE/B;QAAuC,qCAAK;QAqB3C,2BAAY,SAAgB,EAAE,WAAsB;YAAtB,4BAAA,EAAA,kBAAsB;mBACnD,kBAAM,SAAS,EAAE,WAAW,CAAC;QAC9B,CAAC;QAYM,iCAAK,GAAZ;YACC,OAAO,IAAI,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAChE,CAAC;QAEM,oCAAQ,GAAf;YACC,OAAO,6BAA6B,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;QACvD,CAAC;QAjCa,gCAAc,GAAU,eAAe,CAAC;QACxC,mCAAiB,GAAU,kBAAkB,CAAC;QA2C7D,wBAAC;KApDD,AAoDC,CApDsC,KAAK,GAoD3C;IApDY,qBAAiB,oBAoD7B,CAAA;AACF,CAAC,EAzDS,GAAG,KAAH,GAAG,QAyDZ;ACzDD,IAAU,GAAG,CAuDZ;AAvDD,WAAU,GAAG;IAEZ;QAQC,2BAAY,UAAiB,EAAE,aAAoB,EAAE,eAAsB;YAC1E,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACnC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,CAAC;QAYM,yCAAa,GAApB;YACC,OAAO,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAEM,4CAAgB,GAAvB;YACC,OAAO,IAAI,CAAC,aAAa,CAAC;QAC3B,CAAC;QAEM,8CAAkB,GAAzB;YACC,OAAO,IAAI,CAAC,eAAe,CAAC;QAC7B,CAAC;QAiBF,wBAAC;IAAD,CApDA,AAoDC,IAAA;IApDY,qBAAiB,oBAoD7B,CAAA;AACF,CAAC,EAvDS,GAAG,KAAH,GAAG,QAuDZ;ACvDD,IAAU,GAAG,CA+BZ;AA/BD,WAAU,GAAG;IAEZ,IAAY,UAQX;IARD,WAAY,UAAU;QACrB,+CAAM,CAAA;QACN,iDAAO,CAAA;QACP,qDAAS,CAAA;QACT,mDAAQ,CAAA;QACR,iDAAO,CAAA;QACP,qDAAS,CAAA;QACT,uDAAU,CAAA;IACX,CAAC,EARW,UAAU,GAAV,cAAU,KAAV,cAAU,QAQrB;IAED,SAAgB,mBAAmB,CAAC,KAAgB;QACnD,QAAQ,KAAK,EAAE;YACd,KAAK,UAAU,CAAC,MAAM;gBACrB,OAAO,QAAQ,CAAC;YACjB,KAAK,UAAU,CAAC,OAAO;gBACtB,OAAO,SAAS,CAAC;YAClB,KAAK,UAAU,CAAC,SAAS;gBACxB,OAAO,WAAW,CAAC;YACpB,KAAK,UAAU,CAAC,QAAQ;gBACvB,OAAO,UAAU,CAAC;YACnB,KAAK,UAAU,CAAC,OAAO;gBACtB,OAAO,SAAS,CAAC;YAClB,KAAK,UAAU,CAAC,SAAS;gBACxB,OAAO,WAAW,CAAC;YACpB,KAAK,UAAU,CAAC,UAAU;gBACzB,OAAO,YAAY,CAAC;SACrB;QACD,OAAO,EAAE,CAAC;IACX,CAAC;IAlBe,uBAAmB,sBAkBlC,CAAA;AACF,CAAC,EA/BS,GAAG,KAAH,GAAG,QA+BZ;AC/BD,IAAU,GAAG,CAsBZ;AAtBD,WAAU,GAAG;IAAC,IAAA,IAAI,CAsBjB;IAtBa,WAAA,IAAI;QAEjB,IAAY,SAKX;QALD,WAAY,SAAS;YACpB,6CAAM,CAAA;YACN,+CAAO,CAAA;YACP,6CAAM,CAAA;YACN,+CAAO,CAAA;QACR,CAAC,EALW,SAAS,GAAT,cAAS,KAAT,cAAS,QAKpB;QAED,SAAgB,kBAAkB,CAAC,SAAmB;YACrD,QAAQ,SAAS,EAAE;gBAClB,KAAK,SAAS,CAAC,MAAM;oBACpB,OAAO,QAAQ,CAAC;gBACjB,KAAK,SAAS,CAAC,OAAO;oBACrB,OAAO,SAAS,CAAC;gBAClB,KAAK,SAAS,CAAC,MAAM;oBACpB,OAAO,QAAQ,CAAC;gBACjB,KAAK,SAAS,CAAC,OAAO;oBACrB,OAAO,SAAS,CAAC;aAClB;YACD,OAAO,EAAE,CAAC;QACX,CAAC;QAZe,uBAAkB,qBAYjC,CAAA;IACF,CAAC,EAtBa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAsBjB;AAAD,CAAC,EAtBS,GAAG,KAAH,GAAG,QAsBZ;ACtBD,IAAU,GAAG,CAyCZ;AAzCD,WAAU,GAAG;IAAC,IAAA,IAAI,CAyCjB;IAzCa,WAAA,IAAI;QAEjB;YAA+B,6BAAK;YAQnC,mBAAY,OAAoB;gBAAhC,YACC,kBAAM,EAAE,CAAC,SAET;gBADA,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;YACxB,CAAC;YAYM,8BAAU,GAAjB;gBACC,OAAO,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC;YAaF,gBAAC;QAAD,CAtCA,AAsCC,CAtC8B,IAAA,KAAK,GAsCnC;QAtCY,cAAS,YAsCrB,CAAA;IACF,CAAC,EAzCa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAyCjB;AAAD,CAAC,EAzCS,GAAG,KAAH,GAAG,QAyCZ;ACzCD,IAAU,GAAG,CAsEZ;AAtED,WAAU,GAAG;IAAC,IAAA,IAAI,CAsEjB;IAtEa,WAAA,IAAI;QAEjB;YAQC,kBAAY,IAAW,EAAE,KAAY;gBACpC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,IAAI,GAAG,KAAA,SAAS,CAAC,MAAM,CAAC;gBAC7B,IAAI,CAAC,EAAE,GAAG,KAAA,SAAS,CAAC,MAAM,CAAC;YAC5B,CAAC;YAYM,0BAAO,GAAd;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEM,2BAAQ,GAAf;gBACC,OAAO,IAAI,CAAC,KAAK,CAAC;YACnB,CAAC;YAEM,0BAAO,GAAd;gBACC,OAAO,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YAEM,wBAAK,GAAZ;gBACC,OAAO,IAAI,CAAC,EAAE,CAAC;YAChB,CAAC;YAEM,2BAAQ,GAAf,UAAgB,IAAc;gBAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAClB,CAAC;YAEM,yBAAM,GAAb,UAAc,EAAY;gBACzB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;YACd,CAAC;YAEM,2BAAQ,GAAf;gBACC,OAAO,sBAAsB,GAAG,IAAI,CAAC,IAAI,GAAG,cAAc,GAAG,IAAI,CAAC,KAAK,GAAG,WAAW,GAAG,KAAA,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,GAAG,KAAA,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACjK,CAAC;YAgBF,eAAC;QAAD,CAnEA,AAmEC,IAAA;QAnEY,aAAQ,WAmEpB,CAAA;IACF,CAAC,EAtEa,IAAI,GAAJ,QAAI,KAAJ,QAAI,QAsEjB;AAAD,CAAC,EAtES,GAAG,KAAH,GAAG,QAsEZ;AC+BD,IAAU,GAAG,CAiBZ;AAjBD,WAAU,GAAG;IAGZ,SAAgB,UAAU;QACzB,OAAO,OAAO,CAAC;IAChB,CAAC;IAFe,cAAU,aAEzB,CAAA;IAGD,IAAM,KAAK,GAAU,aAAa,CAAC;IACnC,IAAM,KAAK,GAAY,OAAO,CAAC,KAAK,CAAC;IACrC,KAAK,CAAC,uDAAuD,EAAE,KAAK,CAAC,CAAC;IACtE,KAAK,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;IAChC,KAAK,CAAC,cAAc,GAAG,UAAU,EAAE,EAAE,KAAK,CAAC,CAAC;IAC5C,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;IACxC,KAAK,CAAC,6CAA6C,EAAE,KAAK,CAAC,CAAC;IAC5D,KAAK,CAAC,uDAAuD,EAAE,KAAK,CAAC,CAAC;IACtE,KAAK,CAAC,EAAE,CAAC,CAAC;AACX,CAAC,EAjBS,GAAG,KAAH,GAAG,QAiBZ","file":"index.js","sourcesContent":["/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\texport class Time {\n\n\t\t/**\n\t\t * ()\n\t\t * @returns {number} UNIX\n\t\t */\n\t\tpublic static now():number {\n\t\t\treturn (window.performance || Date).now();\n\t\t}\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.math {\n\n\texport type EasingFunction = (t:number)=>number;\n\n\texport class Easing {\n\n\t\tpublic static linear(t:number):number {\n\t\t\treturn t;\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInQuad(t:number):number {\n\t\t\treturn (t /= 1) * t;\n\t\t}\n\n\t\tpublic static easeOutQuad(t:number):number {\n\t\t\treturn -(t /= 1) * (t - 2);\n\t\t}\n\n\t\tpublic static easeInOutQuad(t:number):number {\n\t\t\tif ((t /= 0.5) < 1) return 0.5 * t * t;\n\t\t\treturn -0.5 * ((--t) * (t - 2) - 1);\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInCubic(t:number):number {\n\t\t\treturn (t /= 1) * t * t;\n\t\t}\n\n\t\tpublic static easeOutCubic(t:number):number {\n\t\t\treturn (t = t - 1) * t * t + 1;\n\t\t}\n\n\t\tpublic static easeInOutCubic(t:number):number {\n\t\t\tif ((t /= 0.5) < 1) return 0.5 * t * t * t;\n\t\t\treturn 0.5 * ((t -= 2) * t * t + 2);\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInQuart(t:number):number {\n\t\t\treturn (t /= 1) * t * t * t;\n\t\t}\n\n\t\tpublic static easeOutQuart(t:number):number {\n\t\t\treturn -((t = t - 1) * t * t * t - 1);\n\t\t}\n\n\t\tpublic static easeInOutQuart(t:number):number {\n\t\t\tif ((t /= 0.5) < 1) return 0.5 * t * t * t * t;\n\t\t\treturn -0.5 * ((t -= 2) * t * t * t - 2);\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInQuint(t:number):number {\n\t\t\treturn (t /= 1) * t * t * t * t;\n\t\t}\n\n\t\tpublic static easeOutQuint(t:number):number {\n\t\t\treturn ((t = t - 1) * t * t * t * t + 1);\n\t\t}\n\n\t\tpublic static easeInOutQuint(t:number):number {\n\t\t\tif ((t /= 0.5) < 1) return 0.5 * t * t * t * t * t;\n\t\t\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInSine(t:number):number {\n\t\t\treturn -Math.cos(t * (Math.PI / 2)) + 1;\n\t\t}\n\n\t\tpublic static easeOutSine(t:number):number {\n\t\t\treturn Math.sin(t * (Math.PI / 2));\n\t\t}\n\n\t\tpublic static easeInOutSine(t:number):number {\n\t\t\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInExpo(t:number):number {\n\t\t\tif (t == 0) return 0;\n\t\t\treturn Math.pow(2, 10 * (t - 1));\n\t\t}\n\n\t\tpublic static easeOutExpo(t:number):number {\n\t\t\tif (t == 1) return 1;\n\t\t\treturn -Math.pow(2, -10 * t) + 1;\n\t\t}\n\n\t\tpublic static easeInOutExpo(t:number):number {\n\t\t\tif (t == 0) return 0;\n\t\t\tif (t == 1) return 1;\n\t\t\tif ((t /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (t - 1));\n\t\t\treturn 0.5 * (-Math.pow(2, -10 * --t) + 2);\n\t\t}\n\n\n\n\n\n\t\tpublic static easeInCirc(t:number):number {\n\t\t\treturn -(Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t}\n\n\t\tpublic static easeOutCirc(t:number):number {\n\t\t\treturn Math.sqrt(1 - (t = t - 1) * t);\n\t\t}\n\n\t\tpublic static easeInOutCirc(t:number):number {\n\t\t\tif ((t /= 0.5) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\t\t\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t}\n\n\n\n\n\n\t\tpublic static createEaseInElastic(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (t:number) {\n\t\t\t\tlet p:number = 0;\n\t\t\t\tlet a:number = 1;\n\t\t\t\tif (t == 0) return 0;\n\t\t\t\tif ((t /= 1) == 1) return 1;\n\t\t\t\tif (p == 0) p = 0.3;\n\t\t\t\tif (a < 1) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else {\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\t}\n\t\t\t\treturn -a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p);\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseOutElastic(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (t:number) {\n\t\t\t\tlet p:number = 0;\n\t\t\t\tlet a:number = 1;\n\t\t\t\tif (t == 0) return 0;\n\t\t\t\tif ((t /= 1) == 1) return 1;\n\t\t\t\tif (p == 0) p = 0.3;\n\t\t\t\tif (a < 1) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else {\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\t}\n\t\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1;\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseInOutElastic(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (t:number) {\n\t\t\t\tlet p:number = 0;\n\t\t\t\tlet a:number = 1;\n\t\t\t\tif (t == 0) return 0;\n\t\t\t\tif ((t /= 0.5) == 2) return 1;\n\t\t\t\tif (p == 0) p = 0.3 * 1.5;\n\t\t\t\tif (a < 1) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else {\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\t}\n\t\t\t\tif (t < 1) return -0.5 * a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p);\n\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t\t}\n\t\t}\n\n\t\tpublic static easeInElastic(t:number):number {\n\t\t\treturn Easing.defaultEaseInElastic(t);\n\t\t}\n\n\t\tpublic static easeOutElastic(t:number):number {\n\t\t\treturn Easing.defaultEaseOutElastic(t);\n\t\t}\n\n\t\tpublic static easeInOutElastic(t:number):number {\n\t\t\treturn Easing.defaultEaseInOutElastic(t);\n\t\t}\n\n\t\tprivate static defaultEaseInElastic:EasingFunction = Easing.createEaseInElastic();\n\t\tprivate static defaultEaseOutElastic:EasingFunction = Easing.createEaseOutElastic();\n\t\tprivate static defaultEaseInOutElastic:EasingFunction = Easing.createEaseInOutElastic();\n\n\n\n\n\n\t\tpublic static createEaseInBack(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (t:number) {\n\t\t\t\treturn (t /= 1) * t * ((s + 1) * t - s);\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseOutBack(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (t:number) {\n\t\t\t\treturn (t = t - 1) * t * ((s + 1) * t + s) + 1;\n\t\t\t}\n\t\t}\n\n\t\tpublic static createEaseInOutBack(s:number = 1.70158):EasingFunction {\n\t\t\treturn function (t:number) {\n\t\t\t\tif ((t /= 0.5) < 1) return 0.5 * t * t * (((s *= 1.525) + 1) * t - s);\n\t\t\t\treturn 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n\t\t\t}\n\t\t}\n\n\t\tpublic static easeInBack(t:number):number {\n\t\t\treturn Easing.defaultEaseInElastic(t);\n\t\t}\n\n\t\tpublic static easeOutBack(t:number):number {\n\t\t\treturn Easing.defaultEaseOutBack(t);\n\t\t}\n\n\t\tpublic static easeInOutBack(t:number):number {\n\t\t\treturn Easing.defaultEaseInOutBack(t);\n\t\t}\n\n\t\tprivate static defaultEaseInBack:EasingFunction = Easing.createEaseInBack();\n\t\tprivate static defaultEaseOutBack:EasingFunction = Easing.createEaseOutBack();\n\t\tprivate static defaultEaseInOutBack:EasingFunction = Easing.createEaseInOutBack();\n\n\n\n\n\n\t\tpublic static easeInBounce(t:number):number {\n\t\t\treturn 1 - Easing.easeOutBounce(1 - t);\n\t\t}\n\n\t\tpublic static easeOutBounce(t:number):number {\n\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * t * t;\n\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\n\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\n\t\t\t}\n\t\t}\n\n\t\tpublic static easeInOutBounce(t:number):number {\n\t\t\tif (t < 0.5) return Easing.easeInBounce(t * 2) * 0.5;\n\t\t\treturn Easing.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\n\t\t}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.browser {\n\n\timport Hash = alm.util.Hash;\n\n\texport class QueryString {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(url:string = '') {\n\t\t\tthis.set(url);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(url:string = ''):void {\n\t\t\t// normalize url\n\t\t\tlet search:string = '';\n\t\t\tif (url != '') {\n\t\t\t\tconst index:number = url.indexOf('?');\n\t\t\t\tif (index != -1) {\n\t\t\t\t\tsearch = url.substring(index);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsearch = location.search;\n\t\t\t}\n\t\t\t// parse query\n\t\t\tthis.hash = {};\n\t\t\tconst pairs:string[] = search.substring(1).split('&');\n\t\t\tlet pair:string[];\n\t\t\tfor(let i:number = 0; pairs[i]; ++i) {\n\t\t\t\tpair = pairs[i].split('=');\n\t\t\t\tthis.hash[pair[0]] = pair[1];\n\t\t\t}\n\t\t}\n\n\t\t// 'abc' -> 'abc'\n\t\tpublic getString(key:string, defaultValue:string):string {\n\t\t\tconst value:string = this.hash[key];\n\t\t\treturn value === undefined ? defaultValue : value;\n\t\t}\n\n\t\t// '123' -> 123\n\t\tpublic getInt(key:string, defaultValue:number):number {\n\t\t\tconst value:number = parseInt(this.hash[key]);\n\t\t\treturn isNaN(value) ? defaultValue : value;\n\t\t}\n\n\t\t// '1.23' -> 1.23\n\t\tpublic getFloat(key:string, defaultValue:number):number {\n\t\t\tconst value:number = parseFloat(this.hash[key]);\n\t\t\treturn isNaN(value) ? defaultValue : value;\n\t\t}\n\n\t\t// '0' -> false, otherwise true\n\t\tpublic getBool(key:string, defaultValue:boolean):boolean {\n\t\t\tconst value:string = this.hash[key];\n\t\t\treturn value === undefined ? defaultValue : (<any>value == true);\n\t\t}\n\n\t\tpublic getHash():Hash<string> {\n\t\t\treturn this.hash;\n\t\t}\n\n\t\tpublic setHash(hash:Hash<string>):void {\n\t\t\tthis.hash = hash;\n\t\t}\n\n\t\tpublic setParam(key:string, value:any):void {\n\t\t\tthis.hash[key] = value;\n\t\t}\n\n\t\tpublic removeParam(key:string):void {\n\t\t\tdelete this.hash[key];\n\t\t}\n\n\t\tpublic hasParam(key:string):boolean {\n\t\t\treturn this.hash[key] !== undefined;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate hash:Hash<string>;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.debug {\n\n\timport QueryString = alm.browser.QueryString;\n\n\texport enum LoggerLevel {\n\t\tVerbose = 0,\n\t\tInfo = 1,\n\t\tWarn = 2,\n\t\tError = 3,\n\t\tSilent = 4,\n\t}\n\n\n\n\n\n\texport interface ILogging {\n\n\t\tverbose(prefix:string, messages:any[]):void;\n\t\tinfo(prefix:string, messages:any[]):void;\n\t\twarn(prefix:string, messages:any[]):void;\n\t\terror(prefix:string, messages:any[]):void;\n\t}\n\n\n\n\n\n\texport class NullLogging implements ILogging {\n\n\t\tpublic verbose(prefix:string, messages:any[]):void {\n\t\t}\n\n\t\tpublic info(prefix:string, messages:any[]):void {\n\t\t}\n\n\t\tpublic warn(prefix:string, messages:any[]):void {\n\t\t}\n\n\t\tpublic error(prefix:string, messages:any[]):void {\n\t\t}\n\t}\n\n\n\n\n\n\texport class ConsoleLogging implements ILogging {\n\n\t\tpublic verbose(prefix:string, messages:any[]):void {\n\t\t\tconsole.debug.apply(console, Array.prototype.slice.call([prefix].concat(messages)));\n\t\t}\n\n\t\tpublic info(prefix:string, messages:any[]):void {\n\t\t\tconsole.log.apply(console, Array.prototype.slice.call([prefix].concat(messages)));\n\t\t}\n\n\t\tpublic warn(prefix:string, messages:any[]):void {\n\t\t\tconsole.warn.apply(console, Array.prototype.slice.call([prefix].concat(messages)));\n\t\t}\n\n\t\tpublic error(prefix:string, messages:any[]):void {\n\t\t\tconsole.error.apply(console, Array.prototype.slice.call([prefix].concat(messages)));\n\t\t}\n\t}\n\n\n\n\n\n\texport class DOMLogging implements ILogging {\n\n\t\tconstructor(dom:HTMLElement, html:boolean) {\n\t\t\tthis.dom = dom;\n\t\t\tthis.html = html;\n\t\t}\n\n\t\tpublic verbose(prefix:string, messages:any[]):void {\n\t\t\tthis.print(prefix, messages);\n\t\t}\n\n\t\tpublic info(prefix:string, messages:any[]):void {\n\t\t\tthis.print(prefix, messages);\n\t\t}\n\n\t\tpublic warn(prefix:string, messages:any[]):void {\n\t\t\tthis.print(prefix, messages);\n\t\t}\n\n\t\tpublic error(prefix:string, messages:any[]):void {\n\t\t\tthis.print(prefix, messages);\n\t\t}\n\n\t\tprivate print(prefix:string, messages:any[]):void {\n\t\t\tconst line:string = prefix + messages.join(', ');\n\t\t\tif (this.html) {\n\t\t\t\tthis.dom.innerHTML = line + '<br>\\n' + this.dom.innerHTML;\n\t\t\t} else {\n\t\t\t\tthis.dom.innerText = line + '\\n' + this.dom.innerText;\n\t\t\t}\n\t\t}\n\n\t\tprivate dom:HTMLElement;\n\t\tprivate html:boolean;\n\t}\n\n\n\n\n\n\texport class ParallelLogging implements ILogging {\n\n\t\tconstructor(loggers:ILogging[]) {\n\t\t\tthis.loggers = loggers;\n\t\t}\n\n\t\tpublic verbose(prefix:string, messages:any[]):void {\n\t\t\tconst n:number = this.loggers.length;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tthis.loggers[i].verbose(prefix, messages);\n\t\t\t}\n\t\t}\n\n\t\tpublic info(prefix:string, messages:any[]):void {\n\t\t\tconst n:number = this.loggers.length;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tthis.loggers[i].info(prefix, messages);\n\t\t\t}\n\t\t}\n\n\t\tpublic warn(prefix:string, messages:any[]):void {\n\t\t\tconst n:number = this.loggers.length;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tthis.loggers[i].warn(prefix, messages);\n\t\t\t}\n\t\t}\n\n\t\tpublic error(prefix:string, messages:any[]):void {\n\t\t\tconst n:number = this.loggers.length;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tthis.loggers[i].error(prefix, messages);\n\t\t\t}\n\t\t}\n\n\t\tprivate loggers:ILogging[];\n\t}\n\n\n\n\n\n\texport class Logger {\n\n\t\tpublic static level:number = LoggerLevel.Verbose;\n\t\tpublic static logger:ILogging = new ConsoleLogging();\n\t\tprivate static namespace:string = '';\n\n\t\tpublic static setLevelByQuery(key:string):void {\n\t\t\tconst level:number = new QueryString().getInt(key, LoggerLevel.Silent);\n\t\t\tLogger.level = isNaN(level) ? LoggerLevel.Silent : level;\n\t\t}\n\n\t\tpublic static setNamespace(namespace:string):void {\n\t\t\tLogger.namespace = namespace != '' ? (namespace + '#') : '';\n\t\t}\n\n\t\tpublic static verbose(...messages:any[]):void {\n\t\t\tif (Logger.level <= LoggerLevel.Verbose) {\n\t\t\t\tLogger.logger.verbose('[' + Logger.namespace + 'Verbose] ', messages);\n\t\t\t}\n\t\t}\n\n\t\tpublic static info(...messages:any[]):void {\n\t\t\tif (Logger.level <= LoggerLevel.Info) {\n\t\t\t\tLogger.logger.info('[' + Logger.namespace + 'Info   ] ', messages);\n\t\t\t}\n\t\t}\n\n\t\tpublic static warn(...messages:any[]):void {\n\t\t\tif (Logger.level <= LoggerLevel.Warn) {\n\t\t\t\tLogger.logger.warn('[' + Logger.namespace + 'Warn   ] ', messages);\n\t\t\t\t//Logger.stackTrace();\n\t\t\t}\n\t\t}\n\n\t\tpublic static error(...messages:any[]):void {\n\t\t\tif (Logger.level <= LoggerLevel.Error) {\n\t\t\t\tLogger.logger.error('[' + Logger.namespace + 'Error  ] ', messages);\n\t\t\t\t//Logger.stackTrace();\n\t\t\t}\n\t\t}\n\n\t\tpublic static warnIf(target:any, message:string, condition:boolean = true):void {\n\t\t\tif (Logger.level <= LoggerLevel.Warn && condition) {\n\t\t\t\tLogger.logger.warn('[' + Logger.namespace + 'Warn   ] ', [message + ' : ' + target]);\n\t\t\t\t//Logger.stackTrace();\n\t\t\t}\n\t\t}\n\n\t\tpublic static errorIf(target:any, message: string, condition:boolean = true):void {\n\t\t\tif (Logger.level <= LoggerLevel.Error && condition) {\n\t\t\t\tLogger.logger.error('[' + Logger.namespace + 'Error  ] ', [message + ' : ' + target]);\n\t\t\t\t//Logger.stackTrace();\n\t\t\t}\n\t\t}\n\n\t\tpublic static stackTrace():void {\n\t\t\tconsole.trace();\n\t\t}\n\n\t\tprivate constructor() {}\n\t}\n}\n\nfunction trace(...messages:any[]):void {\n\talm.debug.Logger.info.apply(trace.caller, arguments);\n}\n\nfunction throwWarn(target:any, message:string, condition:boolean = true):void {\n\talm.debug.Logger.warnIf.apply(null, arguments);\n}\n\nfunction throwError(target:any, message:string, condition:boolean = true):void {\n\talm.debug.Logger.errorIf.apply(null, arguments);\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.debug {\n\n\timport Time = alm.util.Time;\n\n\texport class FpsMonitor {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tthis.reset();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic reset():void {\n\t\t\tthis.frameRate = 0;\n\t\t\tthis.frameCount = 0;\n\t\t\tthis.startTime = Time.now();\n\t\t\tthis.actualFrameRate = -1;\n\t\t\tthis.dummyFrameRate = -1;\n\t\t}\n\n\t\tpublic update():void {\n\t\t\t++this.frameCount;\n\t\t\tconst currentTime:number = Time.now();\n\t\t\tconst elapsedTime:number = currentTime - this.startTime;\n\t\t\tif (elapsedTime >= 1000) {\n\t\t\t\tthis.actualFrameRate = 1000 * this.frameCount / elapsedTime;\n\t\t\t\tthis.frameCount = 0;\n\t\t\t\tthis.startTime = currentTime;\n\t\t\t\tif (this.dummyFrameRate < 0) {\n\t\t\t\t\tthis.frameRate = this.actualFrameRate;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic setDummyFrameRate(frameRate:number):void {\n\t\t\tthis.dummyFrameRate = frameRate;\n\t\t\tthis.frameRate = this.dummyFrameRate;\n\t\t}\n\n\t\tpublic clearDummyFrameRate():void {\n\t\t\tthis.dummyFrameRate = -1;\n\t\t\tthis.frameRate = this.actualFrameRate;\n\t\t}\n\n\t\tpublic getFrameRate():number {\n\t\t\treturn this.frameRate;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate frameRate:number;\n\t\tprivate frameCount:number;\n\t\tprivate startTime:number;\n\t\tprivate actualFrameRate:number;\n\t\tprivate dummyFrameRate:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\r\n\r\nnamespace alm.event {\r\n\r\n\texport class Event<T = any> {\r\n\r\n\t\t// --------------------------------------------------\r\n\t\t//\r\n\t\t// CONSTRUCTOR\r\n\t\t//\r\n\t\t// --------------------------------------------------\r\n\r\n\t\tconstructor(type:string, target:Object, data:T = null) {\r\n\t\t\tthis.type = type;\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\r\n\t\tpublic getType():string {\r\n\t\t\treturn this.type;\r\n\t\t}\r\n\r\n\t\tpublic getTarget():Object {\r\n\t\t\treturn this.target;\r\n\t\t}\r\n\r\n\t\tpublic getData():T {\r\n\t\t\treturn this.data;\r\n\t\t}\r\n\r\n\t\tpublic setData(data:T):void {\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\t// --------------------------------------------------\r\n\t\t//\r\n\t\t// MEMBER\r\n\t\t//\r\n\t\t// --------------------------------------------------\r\n\r\n\t\tprivate type:string;\r\n\t\tprivate target:Object;\r\n\t\tprivate data:T;\r\n\t}\r\n}\r\n","/// <reference path='../../index.ts' />\n\nnamespace alm.event {\n\n\timport Logger = alm.debug.Logger;\n\texport type EventListener = (event:Event) => void;\n\n\texport class EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(target:any = null) {\n\t\t\tthis.target = target || this;\n\t\t\tthis.listeners = {};\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addEventListener(eventType:string, listener:EventListener):void {\n\t\t\tif (typeof(listener) != 'function') {\n\t\t\t\tLogger.warn('[EventDispatcher] addEventListener : listener is not function, eventType = \\'' + eventType + '\\', listener = ' + listener);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet listeners:EventListener[] = this.listeners[eventType];\n\t\t\tif (listeners) {\n\t\t\t\tconst numListeners:number = listeners.length;\n\t\t\t\tfor (let i:number = 0; i < numListeners; ++i) {\n\t\t\t\t\tif (listener == listeners[i]) return;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.listeners[eventType] = listeners = [];\n\t\t\t}\n\t\t\tlisteners.push(listener);\n\t\t}\n\n\t\tpublic removeEventListener(eventType:string, listener:EventListener):void {\n\t\t\tif (typeof(listener) != 'function') {\n\t\t\t\tLogger.warn('[EventDispatcher] removeEventListener : listener is not function, eventType = \\'' + eventType + '\\', listener = ' + listener);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet listeners:EventListener[] = this.listeners[eventType];\n\t\t\tif (listeners) {\n\t\t\t\tconst numListeners:number = listeners.length;\n\t\t\t\tfor (let i:number = 0; i < numListeners; ++i) {\n\t\t\t\t\tif (listener == listeners[i]) {\n\t\t\t\t\t\tlisteners.splice(i,  1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (listeners.length == 0) {\n\t\t\t\t\tdelete this.listeners[eventType];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic removeAllEventListener(eventType:string = null):void {\n\t\t\tif (eventType) {\n\t\t\t\tdelete this.listeners[eventType];\n\t\t\t} else {\n\t\t\t\tthis.listeners = {};\n\t\t\t}\n\t\t}\n\n\t\tpublic hasEventListener(eventType:string):boolean {\n\t\t\treturn this.listeners[eventType] != null;\n\t\t}\n\n\t\tpublic dispatchEvent(event:Event):void {\n\t\t\tlet listeners:EventListener[] = this.listeners[event.getType()];\n\t\t\tif (listeners) {\n\t\t\t\tconst numListeners:number = listeners.length;\n\t\t\t\tfor (let i:number = 0; i < numListeners; ++i) {\n\t\t\t\t\tlisteners[i].call(this.target, event);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic dispatchEventType<T = any>(eventType:string, target:Object = null, data:T = null):void {\n\t\t\tthis.dispatchEvent(new Event<T>(eventType, target, data));\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate target:any;\n\t\tprivate listeners:util.Hash<EventListener[]>;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\texport enum CommandState {\n\t\tSleeping     = 0,\n\t\tExecuting    = 1,\n\t\tInterrupting = 2,\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\timport Event = alm.event.Event;\n\n\texport class CommandEvent extends Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static COMPLETE:string = 'complete';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():CommandEvent {\n\t\t\treturn new CommandEvent(this.getType(), this.getTarget());\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[CommandEvent] type = ' + this.getType();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class Command extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(executeFunction:Function = null, interruptFunction:Function = null, destroyFunction:Function = null) {\n\t\t\tsuper();\n\n\t\t\tthis.setExecuteFunction(executeFunction);\n\t\t\tthis.setInterruptFunction(interruptFunction);\n\t\t\tthis.setDestroyFunction(destroyFunction);\n\n\t\t\tthis.state = CommandState.Sleeping;\n\t\t\tthis.self = this;\n\t\t\tthis.parent = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic execute():void {\n\t\t\tif (this.state > CommandState.Sleeping) {\n\t\t\t\tthrow new Error('[Command.execute] + Command is already executing.');\n\t\t\t}\n\t\t\tthis.state = CommandState.Executing;\n\t\t\tthis.getExecuteFunction().call(this, this);\n\t\t}\n\n\t\tpublic interrupt():void {\n\t\t\tif (this.state == CommandState.Executing) {\n\t\t\t\tthis.state = CommandState.Interrupting;\n\t\t\t\tthis.getInterruptFunction().call(this, this);\n\t\t\t}\n\t\t}\n\n\t\tpublic destroy():void {\n\t\t\tthis.state = CommandState.Sleeping;\n\t\t\tthis.getDestroyFunction().call(this, this);\n\t\t\tthis.parent = null;\n\t\t\tthis.executeFunction = null;\n\t\t\tthis.interruptFunction = null;\n\t\t\tthis.destroyFunction = null;\n\t\t}\n\n\t\tprotected notifyComplete():void {\n\t\t\tswitch (this.state) {\n\t\t\t\tcase CommandState.Sleeping:\n\t\t\t\t\tbreak;\n\t\t\t\tcase CommandState.Executing:\n\t\t\t\t\tthis.dispatchEvent(new CommandEvent(CommandEvent.COMPLETE, this));\n\t\t\t\t\tthis.destroy();\n\t\t\t\t\tbreak;\n\t\t\t\tcase CommandState.Interrupting:\n\t\t\t\t\tthis.dispatchEvent(new CommandEvent(CommandEvent.COMPLETE, this));\n\t\t\t\t\tthis.destroy();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.notifyComplete();\n\t\t}\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getExecuteFunction():Function { return this.executeFunction || this.implExecuteFunction };\n\t\tpublic setExecuteFunction(func:Function):void { this.executeFunction = func; }\n\t\tprivate executeFunction:Function;\n\n\t\tpublic getInterruptFunction():Function { return this.interruptFunction || this.implInterruptFunction };\n\t\tpublic setInterruptFunction(func:Function):void { this.interruptFunction = func; }\n\t\tprivate interruptFunction:Function;\n\n\t\tpublic getDestroyFunction():Function { return this.destroyFunction || this.implDestroyFunction };\n\t\tpublic setDestroyFunction(func:Function):void { this.destroyFunction = func; }\n\t\tprivate destroyFunction:Function;\n\n\t\tpublic getState():CommandState { return this.state; }\n\t\tprivate state:CommandState;\n\n\t\tpublic getParent():Command { return this.parent; }\n\t\tpublic setParent(parent:Command):void { this.parent = parent; }\n\t\tprivate parent:Command;\n\n\t\tpublic getSelf():Command { return this.self; }\n\t\tprivate self:Command;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\texport abstract class CommandList extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...commands:(Command|Function)[]) {\n\t\t\tsuper();\n\t\t\tthis.commands = [];\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addCommand(...commands:(Command|Function)[]):void {\n\t\t\tif (commands.length > 0) {\n\t\t\t\tthis.preProcess(commands);\n\t\t\t\tthis.commands = this.getCommands().concat(<Command[]>commands);\n\t\t\t}\n\t\t}\n\n\t\tpublic insertCommand(...commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommandAt(0, ...commands);\n\t\t}\n\n\t\tprotected insertCommandAt(index:number, ...commands:(Command|Function)[]):void {\n\t\t\tif (commands.length > 0) {\n\t\t\t\tthis.preProcess(commands);\n\t\t\t\tArray.prototype.splice.apply(this.getCommands(), (<any[]>[index, 0]).concat(commands));\n\t\t\t}\n\t\t}\n\n\t\tpublic addCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommand(...commands);\n\t\t}\n\n\t\tprotected insertCommandArrayAt(index:number, commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommandAt(index, ...commands);\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn this.commands.length;\n\t\t}\n\n\t\tpublic getCommandByIndex(index:number):Command { return this.commands[index]; }\n\t\tpublic getCommands():Command[] { return this.commands; }\n\n\t\tprivate preProcess(commands:(Command|Function)[]):void {\n\t\t\tconst numCommands:number = commands.length;\n\t\t\tlet command:Command|Function;\n\t\t\tfor (let i:number = 0; i < numCommands; ++i) {\n\t\t\t\tcommand = commands[i];\n\t\t\t\tif (typeof(command) == 'function') commands[i] = command = new Func(command);\n\t\t\t\tcommand.setParent(this);\n\t\t\t}\n\t\t}\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\t\tprotected abstract implNotifyBreak():void;\n\t\tprotected abstract implNotifyReturn():void;\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate commands:Command[];\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\texport class Break extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tconst func:Function = this.getParent()['notifyBreak'];\n\t\t\tif (func) func();\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\texport class Return extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tconst func:Function = this.getParent()['notifyReturn'];\n\t\t\tif (func) func();\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\texport class Log extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...messages:any[]) {\n\t\t\tsuper();\n\t\t\tthis.messages = messages;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tconsole.log.apply(console, Array.prototype.slice.call(this.messages));\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tthis.messages = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getMessages():any[] { return this.messages; }\n\t\tpublic setMessages(messages:any[]):void { this.messages = messages; }\n\t\tprivate messages:any[];\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\texport class Wait extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(time:number = 1000) {\n\t\t\tsuper();\n\t\t\tthis.time = time;\n\t\t\tthis.timerId = -1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.timerId = window.setTimeout(this.completeHandler, this.time);\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tthis.cancel();\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tthis.cancel();\n\t\t}\n\n\t\tprivate cancel():void {\n\t\t\tif (this.timerId != -1) {\n\t\t\t\tclearTimeout(this.timerId);\n\t\t\t\tthis.timerId = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.notifyComplete();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getTime():number { return this.time; }\n\t\tpublic setTime(time:number):void { this.time = time; }\n\t\tprivate time:number;\n\n\t\tprivate timerId:number;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\timport Event = alm.event.Event;\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class Func extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(func:Function = null, args:any[] = [], eventDispatcher:EventDispatcher = null, eventType:string = null) {\n\t\t\tsuper();\n\t\t\tthis.func = func;\n\t\t\tthis.args = args;\n\t\t\tthis.eventDispatcher = eventDispatcher;\n\t\t\tthis.eventType = eventType;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.addEventListener(this.eventType, this.completeHandler);\n\t\t\t\tthis.func(...this.args);\n\t\t\t} else {\n\t\t\t\tthis.func(...this.args);\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\n\t\t\tthis.func = null;\n\t\t\tthis.args = null;\n\t\t\tthis.eventDispatcher = null;\n\t\t\tthis.eventType = null;\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.notifyComplete();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getFunction():Function { return this.func; }\n\t\tpublic setFunction(func:Function):void { this.func = func; }\n\t\tprivate func:Function;\n\n\t\tpublic getArguments():any[] { return this.args; }\n\t\tpublic setArguments(args:any[]):void { this.args = args; }\n\t\tprivate args:any[];\n\n\t\tpublic getEventDispatcher():EventDispatcher { return this.eventDispatcher; }\n\t\tpublic setEventDispatcher(eventDispatcher:EventDispatcher):void { this.eventDispatcher = eventDispatcher; }\n\t\tprivate eventDispatcher:EventDispatcher;\n\n\t\tpublic getEventType():string { return this.eventType; }\n\t\tpublic setEventType(eventType:string):void { this.eventType = eventType; }\n\t\tprivate eventType:string;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\timport Event = alm.event.Event;\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class Listen extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventDispatcher:EventDispatcher = null, eventType:string = null) {\n\t\t\tsuper();\n\t\t\tthis.eventDispatcher = eventDispatcher;\n\t\t\tthis.eventType = eventType;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.addEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tif (this.eventDispatcher && this.eventType) {\n\t\t\t\tthis.eventDispatcher.removeEventListener(this.eventType, this.completeHandler);\n\t\t\t}\n\n\t\t\tthis.eventType = null;\n\t\t\tthis.eventDispatcher = null;\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.notifyComplete();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getEventDispatcher():EventDispatcher { return this.eventDispatcher; }\n\t\tpublic setEventDispatcher(eventDispatcher:EventDispatcher):void { this.eventDispatcher = eventDispatcher; }\n\t\tprivate eventDispatcher:EventDispatcher;\n\n\t\tpublic getEventType():string { return this.eventType; }\n\t\tpublic setEventType(eventType:string):void { this.eventType = eventType; }\n\t\tprivate eventType:string;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\timport Easing = alm.math.Easing;\n\timport EasingFunction = alm.math.EasingFunction;\n\timport Time = alm.util.Time;\n\n\texport type TweenCallbackFunction = (progressTime:number, progressValue:number) => void;\n\n\texport class Tween extends Command {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(target:Object, to:Object, from:Object = null, duration:number = 1000, easing:EasingFunction = Easing.linear, onStart:TweenCallbackFunction = null, onUpdate:TweenCallbackFunction = null, onComplete:TweenCallbackFunction = null) {\n\t\t\tsuper();\n\t\t\tthis.tweenTarget = target;\n\t\t\tthis.to = to;\n\t\t\tthis.from = from;\n\t\t\tthis.duration = duration;\n\t\t\tthis.easing = easing;\n\t\t\tthis.onStart = onStart;\n\t\t\tthis.onUpdate = onUpdate;\n\t\t\tthis.onComplete = onComplete;\n\t\t\tthis.progressTime = 0;\n\t\t\tthis.progressValue = 0;\n\t\t\tthis.startTime = 0;\n\t\t\tthis.timerId = -1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.internalFrom = {};\n\t\t\tlet value0:number;\n\t\t\tlet value1:number;\n\t\t\tfor (let key in this.to) {\n\t\t\t\tvalue1 = this.to[key];\n\t\t\t\tif (this.from && this.from[key] != null) {\n\t\t\t\t\tthis.internalFrom[key] = this.from[key];\n\t\t\t\t} else {\n\t\t\t\t\tthis.internalFrom[key] = this.tweenTarget[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.duration > 0) {\n\t\t\t\tthis.timerId = window.setInterval(this.intervalHandler, Tween.updateInterval);\n\t\t\t\tthis.startTime = Time.now();\n\t\t\t\tthis.apply(0);\n\t\t\t\tif (this.onStart) this.onStart(this.progressTime, this.progressValue);\n\t\t\t} else {\n\t\t\t\tthis.apply(0);\n\t\t\t\tif (this.onStart) this.onStart(this.progressTime, this.progressValue);\n\t\t\t\tthis.apply(1);\n\t\t\t\tif (this.onUpdate) this.onUpdate(this.progressTime, this.progressValue);\n\t\t\t\tif (this.onComplete) this.onComplete(this.progressTime, this.progressValue);\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tthis.cancel();\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tthis.cancel();\n\n\t\t\tthis.tweenTarget = null;\n\t\t\tthis.to = null;\n\t\t\tthis.from = null;\n\t\t\tthis.easing = null;\n\t\t\tthis.onStart = null;\n\t\t\tthis.onUpdate = null;\n\t\t\tthis.onComplete = null;\n\t\t\tthis.internalFrom = null;\n\t\t}\n\n\t\tprivate cancel():void {\n\t\t\tif (this.timerId != -1) {\n\t\t\t\tclearInterval(this.timerId);\n\t\t\t\tthis.timerId = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate apply(timeRatio:number):void {\n\t\t\tthis.progressTime = timeRatio;\n\t\t\tthis.progressValue = this.easing(this.progressTime);\n\t\t\tlet value0:number;\n\t\t\tfor (let key in this.to) {\n\t\t\t\tvalue0 = this.internalFrom[key];\n\t\t\t\tthis.tweenTarget[key] = value0 + (this.to[key] - value0) * this.progressValue;\n\t\t\t}\n\t\t}\n\n\t\tprivate intervalHandler = ():void => {\n\t\t\tconst elapsedTime:number = Time.now() - this.startTime;\n\t\t\tif (elapsedTime < this.duration) {\n\t\t\t\tthis.apply(elapsedTime / this.duration);\n\t\t\t\tif (this.onUpdate) this.onUpdate(this.progressTime, this.progressValue);\n\t\t\t} else {\n\t\t\t\tthis.apply(1);\n\t\t\t\tthis.cancel();\n\t\t\t\tif (this.onUpdate) this.onUpdate(this.progressTime, this.progressValue);\n\t\t\t\tif (this.onComplete) this.onComplete(this.progressTime, this.progressValue);\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getTarget():Object { return this.tweenTarget; }\n\t\tpublic setTarget(target:Object):void { this.tweenTarget = target; }\n\t\tprivate tweenTarget:Object;\n\n\t\tpublic getDuration():number { return this.duration; }\n\t\tpublic setDuration(duration:number):void { this.duration = duration; }\n\t\tprivate duration:number;\n\n\t\tpublic getTo():Object { return this.to; }\n\t\tpublic setTo(to:Object):void { this.to = to; }\n\t\tprivate to:Object;\n\n\t\tpublic getFrom():Object { return this.from; }\n\t\tpublic setFrom(from:Object):void { this.from = from; }\n\t\tprivate from:Object;\n\n\t\tpublic getEasing():EasingFunction { return this.easing; }\n\t\tpublic setEasing(easing:EasingFunction):void { this.easing = easing; }\n\t\tprivate easing:EasingFunction;\n\n\t\tpublic getOnStart():TweenCallbackFunction { return this.onStart; }\n\t\tpublic setOnStart(func:TweenCallbackFunction):void { this.onStart = func; }\n\t\tprivate onStart:TweenCallbackFunction;\n\n\t\tpublic getOnUpdate():TweenCallbackFunction { return this.onUpdate; }\n\t\tpublic setOnUpdate(func:TweenCallbackFunction):void { this.onUpdate = func; }\n\t\tprivate onUpdate:TweenCallbackFunction;\n\n\t\tpublic getOnComplete():TweenCallbackFunction { return this.onComplete; }\n\t\tpublic setOnComplete(func:TweenCallbackFunction):void { this.onComplete = func; }\n\t\tprivate onComplete:TweenCallbackFunction;\n\n\t\tpublic getProgressTime():number { return this.progressTime; }\n\t\tprivate progressTime:number;\n\n\t\tpublic getProgressValue():number { return this.progressValue; }\n\t\tprivate progressValue:number;\n\n\t\tprivate startTime:number;\n\t\tprivate timerId:number;\n\t\tprivate internalFrom:Object;\n\n\t\tpublic getUpdateInterval():number { return Tween.updateInterval; }\n\t\tpublic setUpdateInterval(milliseconds:number):void { Tween.updateInterval = milliseconds; }\n\t\tprivate static updateInterval:number = 1000 / 60;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\timport Event = alm.event.Event;\n\n\texport class Serial extends CommandList {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...commands:(Command|Function)[]) {\n\t\t\tsuper(...commands);\n\t\t\tthis.currentCommand = null;\n\t\t\tthis.position = -1;\n\t\t\tthis.isPaused = false;\n\t\t\tthis.isCompleteOnPaused = false;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addCommand(...commands:(Command|Function)[]):void {\n\t\t\tsuper.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommand(...commands:(Command|Function)[]):void {\n\t\t\tsuper.insertCommandAt(this.position + 1, ...commands);\n\t\t}\n\n\t\tpublic addCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.insertCommand(...commands);\n\t\t}\n\n\t\tprivate next():void {\n\t\t\tthis.currentCommand = this.getCommandByIndex(this.position);\n\t\t\tthis.currentCommand.addEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\tthis.currentCommand.execute();\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tthis.currentCommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\tthis.currentCommand = null;\n\t\t\tif (++this.position >= this.getLength()) {\n\t\t\t\tthis.notifyComplete();\n\t\t\t} else {\n\t\t\t\tthis.next();\n\t\t\t}\n\t\t};\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.position = 0;\n\t\t\tif (this.getLength() > 0) {\n\t\t\t\tthis.next();\n\t\t\t} else {\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tif (this.currentCommand) {\n\t\t\t\tthis.currentCommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.interrupt();\n\t\t\t\tthis.currentCommand = null;\n\t\t\t}\n\t\t\tthis.position = -1;\n\t\t\tsuper.implInterruptFunction(command);\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tif (this.currentCommand) {\n\t\t\t\tthis.currentCommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.destroy();\n\t\t\t\tthis.currentCommand = null;\n\t\t\t}\n\t\t\tthis.position = -1;\n\t\t\tthis.isPaused = false;\n\t\t\tthis.isCompleteOnPaused = false;\n\t\t\tsuper.implDestroyFunction(command);\n\t\t}\n\n\t\tprotected implNotifyBreak():void {\n\t\t\tif (this.currentCommand.getState() == CommandState.Executing) {\n\t\t\t\tthis.currentCommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.interrupt();\n\t\t\t}\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implNotifyReturn():void {\n\t\t\tif (this.currentCommand.getState() == CommandState.Executing) {\n\t\t\t\tthis.currentCommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\tthis.currentCommand.interrupt();\n\t\t\t}\n\t\t\tconst func:Function = this.getParent()['notifyReturn'];\n\t\t\tif (func) func();\n\t\t\tthis.destroy();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected getPosition():number { return this.position; }\n\t\tprivate position:number;\n\n\t\tprivate currentCommand:Command;\n\t\tprivate isPaused:boolean;\n\t\tprivate isCompleteOnPaused:boolean;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace cmd {\n\n\timport Event = alm.event.Event;\n\n\texport class Parallel extends CommandList {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(...commands:(Command|Function)[]) {\n\t\t\tsuper(...commands);\n\t\t\tthis.completeCount = 0;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addCommand(...commands:(Command|Function)[]):void {\n\t\t\tsuper.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommand(...commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic addCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tpublic insertCommandArray(commands:(Command|Function)[]):void {\n\t\t\tthis.addCommand(...commands);\n\t\t}\n\n\t\tprivate completeHandler = (event:Event):void => {\n\t\t\tif (++this.completeCount >= this.getLength()) {\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t};\n\n\t\tprotected implExecuteFunction(command:Command):void {\n\t\t\tthis.completeCount = 0;\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tcommand.addEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\t\tcommand.execute();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.notifyComplete();\n\t\t\t}\n\t\t}\n\n\t\tprotected implInterruptFunction(command:Command):void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tcommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\t\tcommand.interrupt();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsuper.implInterruptFunction(command);\n\t\t}\n\n\t\tprotected implDestroyFunction(command:Command):void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tcommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\t\tcommand.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsuper.implDestroyFunction(command);\n\t\t}\n\n\t\tprotected implNotifyBreak():void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tif (command.getState() == CommandState.Executing) {\n\t\t\t\t\t\tcommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\t\t\tcommand.interrupt();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.notifyComplete();\n\t\t}\n\n\t\tprotected implNotifyReturn():void {\n\t\t\tconst length:number = this.getLength();\n\t\t\tif (length > 0) {\n\t\t\t\tconst commands:Command[] = this.getCommands();\n\t\t\t\tlet command:Command;\n\t\t\t\tfor (let i:number = 0; i < length; ++i) {\n\t\t\t\t\tcommand = commands[i];\n\t\t\t\t\tif (command.getState() == CommandState.Executing) {\n\t\t\t\t\t\tcommand.removeEventListener(CommandEvent.COMPLETE, this.completeHandler);\n\t\t\t\t\t\tcommand.interrupt();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst func:Function = this.getParent()['notifyReturn'];\n\t\t\tif (func) func();\n\t\t\tthis.destroy();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected getCompleteCount():number { return this.completeCount; }\n\t\tprivate completeCount:number;\n\n\t\tprivate currentCommand:Command;\n\t\tprivate isPaused:boolean;\n\t\tprivate isCompleteOnPaused:boolean;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.geom {\n\n\texport class Vector2 {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(x:number = 0, y:number = 0) {\n\t\t\tthis.set(x, y);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(x:number, y:number):void {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t}\n\n\t\tpublic copyTo(point:Vector2):void {\n\t\t\tpoint.set(this.x, this.y);\n\t\t}\n\n\t\tpublic getClone():Vector2 {\n\t\t\treturn new Vector2(this.x, this.y);\n\t\t}\n\n\t\tpublic zero():void {\n\t\t\tthis.set(0, 0);\n\t\t}\n\n\t\tpublic normalize():void {\n\t\t\tconst l:number = this.getLength();\n\t\t\tthis.x /= l;\n\t\t\tthis.y /= l;\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t\t}\n\n\t\tpublic getSquareDistance(point:Vector2):number {\n\t\t\tconst dx:number = point.x - this.x;\n\t\t\tconst dy:number = point.y - this.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\t}\n\n\t\tpublic getDistance(point:Vector2):number {\n\t\t\treturn Math.sqrt(this.getSquareDistance(point));\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic x:number;\n\t\tpublic y:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.geom {\n\n\texport class Vector3 {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(x:number = 0, y:number = 0, z:number = 0) {\n\t\t\tthis.set(x, y, z);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(x:number, y:number, z:number):void {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t}\n\n\t\tpublic copyTo(point:Vector3):void {\n\t\t\tpoint.set(this.x, this.y, this.z);\n\t\t}\n\n\t\tpublic getClone():Vector3 {\n\t\t\treturn new Vector3(this.x, this.y, this.z);\n\t\t}\n\n\t\tpublic zero():void {\n\t\t\tthis.set(0, 0, 0);\n\t\t}\n\n\t\tpublic normalize():void {\n\t\t\tconst l:number = this.getLength();\n\t\t\tthis.x /= l;\n\t\t\tthis.y /= l;\n\t\t\tthis.z /= l;\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\t\t}\n\n\t\tpublic getSquareDistance(point:Vector3):number {\n\t\t\tconst dx:number = point.x - this.x;\n\t\t\tconst dy:number = point.y - this.y;\n\t\t\tconst dz:number = point.z - this.z;\n\t\t\treturn dx * dx + dy * dy + dz * dz;\n\t\t}\n\n\t\tpublic getDistance(point:Vector3):number {\n\t\t\treturn Math.sqrt(this.getSquareDistance(point));\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic x:number;\n\t\tpublic y:number;\n\t\tpublic z:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.geom {\n\n\texport class Rectangle {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(x:number = 0, y:number = 0, width:number = 0, height:number = 0) {\n\t\t\tthis.set(x, y, width, height);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(x:number, y:number, width:number, height:number):void {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tpublic copyTo(rect:Rectangle):void {\n\t\t\trect.set(this.x, this.y, this.width, this.height);\n\t\t}\n\n\t\tpublic getClone():Rectangle {\n\t\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t\t}\n\n\t\tpublic getTop():number {\n\t\t\treturn this.y;\n\t\t}\n\n\t\tpublic getBottom():number {\n\t\t\treturn this.y + this.height;\n\t\t}\n\n\t\tpublic getLeft():number {\n\t\t\treturn this.x;\n\t\t}\n\n\t\tpublic getRight():number {\n\t\t\treturn this.x + this.width;\n\t\t}\n\n\t\tpublic getTopLeft():Vector2 {\n\t\t\treturn new Vector2(this.getLeft(), this.getTop());\n\t\t}\n\n\t\tpublic getTopRight():Vector2 {\n\t\t\treturn new Vector2(this.getRight(), this.getTop());\n\t\t}\n\n\t\tpublic getBottomLeft():Vector2 {\n\t\t\treturn new Vector2(this.getLeft(), this.getBottom());\n\t\t}\n\n\t\tpublic getBottomRight():Vector2 {\n\t\t\treturn new Vector2(this.getRight(), this.getBottom());\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic x:number;\n\t\tpublic y:number;\n\t\tpublic width:number;\n\t\tpublic height:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.geom {\n\n\texport enum Align {\n\t\tTop_Left,\n\t\tTop_Center,\n\t\tTop_Right,\n\t\tMiddle_Left,\n\t\tMiddle_Center,\n\t\tMiddle_Right,\n\t\tBottom_Left,\n\t\tBottom_Center,\n\t\tBottom_Right\n\t}\n\n\texport enum ScaleMode {\n\t\tExactFit,\n\t\tShowAll,\n\t\tNoBorder,\n\t\tNoScale,\n\t}\n\n\texport class Boxer {\n\n\t\tpublic static resize(target:geom.Rectangle, bounds:geom.Rectangle, scaleMode:ScaleMode = ScaleMode.ShowAll, align:Align = Align.Middle_Center):geom.Rectangle {\n\t\t\tlet tx:number = target.x;\n\t\t\tlet ty:number = target.y;\n\t\t\tlet tw:number = target.width;\n\t\t\tlet th:number = target.height;\n\n\t\t\tconst bx:number = bounds.x;\n\t\t\tconst by:number = bounds.y;\n\t\t\tconst bw:number = bounds.width;\n\t\t\tconst bh:number = bounds.height;\n\n\t\t\tswitch (scaleMode) {\n\t\t\t\tcase ScaleMode.ShowAll:\n\t\t\t\tcase ScaleMode.NoBorder:\n\t\t\t\t\tconst ratioW:number = bw / tw;\n\t\t\t\t\tconst ratioH:number = bh / th;\n\t\t\t\t\tconst ratio:number = scaleMode == ScaleMode.ShowAll ? (ratioW < ratioH ? ratioW : ratioH) : (ratioW > ratioH ? ratioW : ratioH);\n\t\t\t\t\ttw *= ratio;\n\t\t\t\t\tth *= ratio;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ScaleMode.ExactFit:\n\t\t\t\t\treturn new geom.Rectangle(bx, by, bw, bh);\n\t\t\t}\n\n\t\t\ttx = bx + ((align == Align.Top_Left || align == Align.Middle_Left || align == Align.Bottom_Left) ? 0 :\n\t\t\t\t(align == Align.Top_Right || align == Align.Middle_Right || align == Align.Bottom_Right) ? (bw - tw) : (bw - tw) / 2);\n\t\t\tty = by + ((align == Align.Top_Left || align == Align.Top_Center || align == Align.Top_Right) ? 0 :\n\t\t\t\t(align == Align.Bottom_Left || align == Align.Bottom_Center || align == Align.Bottom_Right) ? (bh - th) : (bh - th) / 2);\n\n\t\t\treturn new geom.Rectangle(tx, ty, tw, th);\n\t\t}\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\texport class Obj {\n\n\t\tpublic static each(target:any, func:(key:string, value:any) => void):void {\n\t\t\tif (target == null) return;\n\t\t\tObject.keys(target).forEach((key:string):void => {\n\t\t\t\tfunc(key, target[key]);\n\t\t\t});\n\t\t}\n\n\t\tpublic static get(target:any, key:string, defaultValue:any):any {\n\t\t\tconst value:any = target[key];\n\t\t\treturn typeof value !== 'undefined' ? value : defaultValue;\n\t\t}\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\texport class Arr {\n\n\t\t/**\n\t\t * \n\t\t * @param {number} count \n\t\t * @param {number} init \n\t\t * @param {number} step \n\t\t * @returns {number[]} \n\t\t */\n\t\tpublic static sequence(count:number, init:number = 0, step:number = 1):number[] {\n\t\t\tconst result:number[] = new Array(count);\n\t\t\tlet v:number = init;\n\t\t\tfor (let i:number = 0; i < count; ++i) {\n\t\t\t\tresult[i] = v;\n\t\t\t\tv += step;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param list \n\t\t * @returns {T[]} \n\t\t */\n\t\tpublic static unique<T>(list:T[]):T[] {\n\t\t\treturn list.filter(function (x:T, i:number, self:T[]) {\n\t\t\t\treturn self.indexOf(x) === i;\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param list \n\t\t * @param unique true\n\t\t * @returns {T[]} \n\t\t */\n\t\tpublic static duplicated<T>(list:T[], unique:boolean = false):T[] {\n\n\t\t\tif (unique) {\n\t\t\t\treturn list.filter(function (x:T, i:number, self:T[]) {\n\t\t\t\t\treturn self.indexOf(x) !== self.lastIndexOf(x);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn list.filter(function (x:T, i:number, self:T[]) {\n\t\t\t\t\treturn (self.indexOf(x) === i) && (self.lastIndexOf(x) !== i);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * 2\n\t\t * @param {T[]} list1 1\n\t\t * @param {T[]} list2 2\n\t\t * @param {(count: number, index1: number, index2: number, element1: T, element2: T) => void} callback \n\t\t * @param callback.count \n\t\t * @param callback.index1 1\n\t\t * @param callback.index2 2\n\t\t * @param callback.element1 1\n\t\t * @param callback.element2 2\n\t\t */\n\t\tpublic static roundRobin<T>(list1:T[], list2:T[], callback:(count:number, index1:number, index2:number, element1:T, element2:T) => void):void {\n\t\t\tlet i:number, j:number, p:number = 1;\n\t\t\tconst m:number = list1.length;\n\t\t\tconst n:number = list2.length;\n\t\t\tfor (i = 0; i < m; ++i) {\n\t\t\t\tfor (j = i + 1; j < n; ++j) {\n\t\t\t\t\tcallback(p++, i, j, list1[i], list2[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\timport EasingFunction = alm.math.EasingFunction;\n\n\texport class Num {\n\n\t\t/**\n\t\t * \n\t\t * @param {number} value \n\t\t * @param {number} srcA A\n\t\t * @param {number} srcB B\n\t\t * @param {number} dstA A\n\t\t * @param {number} dstB B\n\t\t * @param {boolean} clamp true[srcA, srcB]\n\t\t * @returns {number} \n\t\t */\n\t\tpublic static map(value:number, srcA:number, srcB:number, dstA:number, dstB:number, clamp:boolean = true):number {\n\t\t\tif (srcA == srcB) return dstA;\n\t\t\tif (clamp) {\n\t\t\t\tif (srcA < srcB) {\n\t\t\t\t\tif (value < srcA) value = srcA;\n\t\t\t\t\telse if (value > srcB) value = srcB;\n\t\t\t\t} else {\n\t\t\t\t\tif (value < srcB) value = srcB;\n\t\t\t\t\telse if (value > srcA) value = srcA;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (value - srcA) * (dstB - dstA) / (srcB - srcA) + dstA;\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} value \n\t\t * @param {number} srcA A\n\t\t * @param {number} srcB B\n\t\t * @param {number} dstA A\n\t\t * @param {number} dstB B\n\t\t * @param {EasingFunction} easing \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static ease(value:number, srcA:number, srcB:number, dstA:number, dstB:number, easing:EasingFunction):number {\n\t\t\tif (srcA == srcB) return dstA;\n\t\t\tif (srcA < srcB) {\n\t\t\t\tif (value < srcA) value = srcA;\n\t\t\t\telse if (value > srcB) value = srcB;\n\t\t\t\treturn easing((value - srcA) / (srcB - srcA)) * (dstB - dstA) + dstA;\n\t\t\t} else {\n\t\t\t\tif (value < srcB) value = srcB;\n\t\t\t\telse if (value > srcA) value = srcA;\n\t\t\t\treturn easing((value - srcB) / (srcA - srcB)) * (dstB - dstA) + dstA;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} min \n\t\t * @param {number} max \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static random(min:number = 0, max:number = 1):number {\n\t\t\treturn min + (max - min) * Math.random();\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} min \n\t\t * @param {number} max \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static randomInt(min:number = 0, max:number = 1):number {\n\t\t\treturn Math.floor(Num.random(min, max));\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} value \n\t\t * @param {number} min \n\t\t * @param {number} max \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static clamp(value:number, min:number, max:number):number {\n\t\t\treturn value < min ? min : (value > max ? max : value);\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} value \n\t\t * @param {number} minAbs \n\t\t * @param {number} maxAbs \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static clampAbs(value:number, minAbs:number, maxAbs:number):number {\n\t\t\tif (value > 0) {\n\t\t\t\treturn value < minAbs ? minAbs : (value > maxAbs ? maxAbs : value);\n\t\t\t} else {\n\t\t\t\tvalue = Math.abs(value);\n\t\t\t\treturn -(value < minAbs ? minAbs : (value > maxAbs ? maxAbs : value));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * 2\n\t\t * @param {number} x1 1x\n\t\t * @param {number} y1 1y\n\t\t * @param {number} x2 2x\n\t\t * @param {number} y2 2y\n\t\t * @param {boolean} squared true2\n\t\t * @returns {number} \n\t\t */\n\t\tpublic static dist(x1:number, y1:number, x2:number, y2:number, squared:boolean = false):number {\n\t\t\tconst dx:number = x2 - x1;\n\t\t\tconst dy:number = y2 - y1;\n\t\t\treturn squared ? (dx * dx + dy * dy) : Math.sqrt(dx * dx + dy * dy);\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} radian \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static radToDeg(radian:number):number {\n\t\t\treturn radian * Num.RAD2DEG;\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} radian \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static degToRad(degree:number):number {\n\t\t\treturn degree * Num.DEG2RAD;\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param {number} from \n\t\t * @param {number} to \n\t\t * @param {boolean} radian true\n\t\t * @returns {number} \n\t\t */\n\t\tpublic static turn(from:number, to:number, radian:boolean = true):number {\n\t\t\treturn radian ? ((to - from + Num.PI3) % Num.PI2 - Math.PI) : ((to - from + 540) % 360 - 180);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONST\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static PI2:number = Math.PI * 2;\n\t\tpublic static PI3:number = Math.PI * 3;\n\t\tpublic static PI4:number = Math.PI * 4;\n\t\tpublic static PI5:number = Math.PI * 5;\n\t\tpublic static PI6:number = Math.PI * 6;\n\t\tpublic static PI_2:number = Math.PI / 2;\n\t\tpublic static PI_3:number = Math.PI / 3;\n\t\tpublic static PI_4:number = Math.PI / 4;\n\t\tpublic static PI_6:number = Math.PI / 6;\n\n\t\tprivate static RAD2DEG:number = 180 / Math.PI;\n\t\tprivate static DEG2RAD:number = Math.PI / 180;\n\n\n\n\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\texport class Str {\n\n\t\t/**\n\t\t *  h:mm:ss \n\t\t * @param {number} hours \n\t\t * @param {number} minutes \n\t\t * @param {number} seconds \n\t\t * @returns {string} h:mm:ss \n\t\t */\n\t\tpublic static toTimeString(hours:number = 0, minutes:number = 0, seconds:number = 0):string {\n\t\t\tseconds += minutes * 60 + hours * 3600;\n\t\t\tlet h:string = Math.floor(seconds / 3600).toString();\n\t\t\tlet m:string = Math.floor((seconds / 60) % 60).toString();\n\t\t\tlet s:string = ('0' + Math.floor(seconds % 60)).substr(-2, 2);\n\t\t\tif (h != '0') {\n\t\t\t\treturn h + ':' + ('0' + m).substr(-2, 2) + ':' + s;\n\t\t\t} else {\n\t\t\t\treturn m + ':' + s;\n\t\t\t}\n\t\t}\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\texport class Cmd {\n\n\t\tpublic static stop(command:cmd.Command):any {\n\t\t\tif (command) command.interrupt();\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic static sequence(execute:boolean, ...commands:(cmd.Command|Function)[]):cmd.Serial {\n\t\t\tconst c:cmd.Serial = new cmd.Serial();\n\t\t\tc.addCommand(...commands);\n\t\t\tif (execute) c.execute();\n\t\t\treturn c;\n\t\t}\n\n\t\tpublic static single(execute:boolean, command:cmd.Command):cmd.Command {\n\t\t\tif (execute && command) command.execute();\n\t\t\treturn command;\n\t\t}\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.resource {\n\n\texport class ObjectPool<T> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\t/**\n\t\t * ObjectPool class.\n\t\t * @class\n\t\t * @param {function} onRequireItem This callback function is called when new item is required.\n\t\t * @param {function} onDestroyItem This callback function is called when item is disposed.\n\t\t * @param {number} initCount Init item count.\n\t\t * @param {number} growthCount Growth item count.\n\t\t *\n\t\t * @property {number} initCount Init item count.\n\t\t * @property {number} growthCount Growth item count.\n\t\t * @property {function} onRequireItem This callback function is called when new item is required.\n\t\t * @property {function} onDestroyItem This callback function is called when item is disposed.\n\t\t * @property {Array} items Array of items.\n\t\t * @property {number} index Current index of items.\n\t\t *\n\t\t * @return void\n\t\t */\n\t\tconstructor(onRequireItem:() => T, onDestroyItem:(item:T) => void, initCount:number = 100, growthCount:number = 50) {\n\t\t\tthis.onRequireItem = onRequireItem;\n\t\t\tthis.onDestroyItem = onDestroyItem;\n\t\t\tthis.growthCount = growthCount;\n\t\t\tthis.items = new Array(initCount);\n\t\t\tfor (let i = 0; i < initCount; ++i) {\n\t\t\t\tthis.items[i] = this.onRequireItem();\n\t\t\t}\n\t\t\tthis.index = initCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\t/**\n\t\t * Get item from object pool.\n\t\t * @return {T} Item\n\t\t */\n\t\tpublic getItem():T {\n\t\t\tif (this.index > 0) {\n\t\t\t\treturn this.items[--this.index];\n\t\t\t}\n\t\t\tfor (let i = 0; i < this.growthCount; ++i) {\n\t\t\t\tthis.items.unshift(this.onRequireItem());\n\t\t\t}\n\t\t\tthis.index = this.growthCount;\n\t\t\treturn this.getItem();\n\t\t}\n\n\t\t/**\n\t\t * Return item to object pool.\n\t\t * @param {T} Item.\n\t\t * @return void\n\t\t */\n\t\tpublic returnItem(item:T):void {\n\t\t\tthis.items[this.index++] = item;\n\t\t}\n\n\t\t/**\n\t\t * Optimize object pool size.\n\t\t * @return void\n\t\t */\n\t\tpublic reduce():void {\n\t\t\tconst n = this.index;\n\t\t\tfor (let i = 0; i < n; ++i) {\n\t\t\t\tthis.onDestroyItem(this.items.shift());\n\t\t\t}\n\t\t\tthis.index = 0;\n\t\t}\n\n\t\t/**\n\t\t * Destroy object pool.\n\t\t * @return void\n\t\t */\n\t\tpublic destroy():void {\n\t\t\tconst n = this.items.length;\n\t\t\tfor (let i = 0; i < n; ++i) {\n\t\t\t\tthis.onDestroyItem(this.items[i]);\n\t\t\t}\n\t\t\tthis.index = 0;\n\t\t\tthis.items = null;\n\t\t\tthis.onRequireItem = null;\n\t\t\tthis.onDestroyItem = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate items:T[];\n\t\tprivate index:number;\n\t\tprivate growthCount:number;\n\n\t\tpublic onRequireItem:() => T;\n\t\tpublic onDestroyItem:(item:T) => void;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.state {\n\n\texport class Lottery<T = any> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(values:T[] = null) {\n\t\t\tif (values) {\n\t\t\t\tthis.set(values);\n\t\t\t} else {\n\t\t\t\tthis.initValues = this.restValues = null;\n\t\t\t\tthis.restCount = this.restValues.length;\n\t\t\t\tthis.isEmpty = true;\n\t\t\t}\n\t\t\tthis.onCheck = null;\n\t\t\tthis.isAutoResetEnabled = false;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(values:T[]):void {\n\t\t\tthis.initValues = values.concat();\n\t\t\tthis.reset();\n\t\t}\n\n\t\tpublic get():T {\n\t\t\tif (this.isEmpty && this.isAutoResetEnabled) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t\tconst index:number = Math.floor(Math.random() * this.restCount);\n\t\t\tconst value:T = this.restValues[index];\n\t\t\tlet result:boolean = true;\n\t\t\tif (this.onCheck) result = this.onCheck(value);\n\t\t\tif (result) {\n\t\t\t\tthis.restValues.splice(index, 1);\n\t\t\t\tthis.restCount = this.restValues.length;\n\t\t\t\tthis.isEmpty = this.restCount == 0;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tpublic add(value:T, reset:boolean = false):void {\n\t\t\tthis.initValues.push(value);\n\t\t\tthis.restValues.push(value);\n\t\t\tthis.restCount = this.restValues.length;\n\t\t\tthis.isEmpty = this.restCount == 0;\n\t\t\tif (reset) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\n\t\tpublic reset():void {\n\t\t\tthis.restValues = this.initValues.concat();\n\t\t\tthis.restCount = this.restValues.length;\n\t\t\tthis.isEmpty = this.restCount == 0;\n\t\t}\n\n\t\tpublic getRestCount():number {\n\t\t\treturn this.restCount;\n\t\t}\n\n\t\tpublic getIsEmply():boolean {\n\t\t\treturn this.isEmpty;\n\t\t}\n\n\t\tpublic getIsAutoResetEnabled():boolean {\n\t\t\treturn this.isAutoResetEnabled;\n\t\t}\n\n\t\tpublic setIsAutoResetEnabled(enabled:boolean):void {\n\t\t\tthis.isAutoResetEnabled = enabled;\n\t\t}\n\n\t\tpublic static createIndices(count:number):Lottery<number> {\n\t\t\tconst values:number[] = new Array(count);\n\t\t\tfor (let i:number = 0; i < count; ++i) values[i] = i;\n\t\t\treturn new Lottery<number>(values);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic onCheck:(value:T) => boolean;\n\n\t\tprivate isAutoResetEnabled:boolean;\n\t\tprivate isEmpty:boolean;\n\t\tprivate restCount:number;\n\t\tprivate restValues:T[];\n\t\tprivate initValues:T[];\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.state {\n\n\timport Hash = alm.util.Hash;\n\n\texport class Switcher<T = string> extends alm.event.EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\n\t\t\tthis.isLoopEnabled = true;\n\n\t\t\tthis.itemCount = 0;\n\t\t\tthis.itemIds = null;\n\t\t\tthis.itemIndexById = null;\n\n\t\t\tthis.onChange = null;\n\t\t\tthis.onPrev = null;\n\t\t\tthis.onNext = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic setupById(ids:T[]):void {\n\t\t\tthis.itemCount = ids.length;\n\t\t\tthis.itemIds = ids;\n\n\t\t\tthis.itemIndexById = {};\n\t\t\tfor (let i:number = 0; i < this.itemCount; ++i) {\n\t\t\t\tthis.itemIndexById[this.itemIds[i] as unknown as string] = i;\n\t\t\t}\n\n\t\t\tthis.setup();\n\t\t}\n\n\t\tpublic setupByCount(itemCount:number):void {\n\t\t\tthis.itemCount = itemCount;\n\n\t\t\tthis.itemIds = null;\n\t\t\tthis.itemIndexById = null;\n\n\t\t\tthis.setup();\n\t\t}\n\n\t\tprivate setup():void {\n\t\t\tthis.currentItemIndex = -1;\n\t\t\tthis.oldItemIndex = -1;\n\n\t\t\tthis.currentItemId = null;\n\t\t\tthis.prevItemId = null;\n\t\t}\n\n\t\tpublic gotoByIndex(itemIndex:number, useTransition:boolean = true):boolean {\n\t\t\tif (itemIndex < 0 || itemIndex >= this.itemCount) itemIndex = -1;\n\t\t\tif (itemIndex == this.currentItemIndex) return false;\n\n\t\t\tthis.oldItemIndex = this.currentItemIndex;\n\t\t\tthis.currentItemIndex = itemIndex;\n\n\t\t\tif (this.itemIds) {\n\t\t\t\tthis.prevItemId = this.oldItemIndex != -1 ? this.itemIds[this.oldItemIndex] : null;\n\t\t\t\tthis.currentItemId = this.currentItemIndex != -1 ? this.itemIds[this.currentItemIndex] : null;\n\t\t\t}\n\n\t\t\tthis.dispatchPagerEvent(SwitcherEvent.CHANGE, this.onChange, useTransition);\n\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic gotoById(itemId:string, useTransition:boolean = true):boolean {\n\t\t\tconst itemIndex:number = this.itemIndexById.hasOwnProperty(itemId) ? this.itemIndexById[itemId] : -1;\n\t\t\treturn this.gotoByIndex(itemIndex, useTransition);\n\t\t}\n\n\t\tpublic prev(useTransition:boolean = true):boolean {\n\t\t\tlet itemIndex = this.currentItemIndex - 1;\n\t\t\tif (this.isLoopEnabled && itemIndex < 0) itemIndex = this.itemCount - 1;\n\n\t\t\tconst result:boolean = this.gotoByIndex(itemIndex, useTransition);\n\t\t\tif (result) {\n\t\t\t\tthis.dispatchPagerEvent(SwitcherEvent.PREV, this.onPrev, useTransition);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tpublic next(useTransition:boolean = true):boolean {\n\t\t\tlet itemIndex = this.currentItemIndex + 1;\n\t\t\tif (this.isLoopEnabled && itemIndex >= this.itemCount) itemIndex = 0;\n\n\t\t\tconst result:boolean = this.gotoByIndex(itemIndex, useTransition);\n\t\t\tif (result) {\n\t\t\t\tthis.dispatchPagerEvent(SwitcherEvent.NEXT, this.onNext, useTransition);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tprivate dispatchPagerEvent(eventType:string, callback:(event:SwitcherEvent<T>) => void, useTransition:boolean):void {\n\t\t\tconst event:SwitcherEvent<T> = new SwitcherEvent<T>(eventType, this, this.currentItemIndex, this.oldItemIndex, this.currentItemId, this.prevItemId, useTransition);\n\t\t\tif (callback) {\n\t\t\t\tcallback(event);\n\t\t\t}\n\t\t\tthis.dispatchEvent(event);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getIsLoopEnabled():boolean { return this.isLoopEnabled; }\n\t\tpublic setIsLoopEnabled(value:boolean):void { this.isLoopEnabled = value; }\n\t\tprivate isLoopEnabled:boolean;\n\n\t\tpublic getCurrentItemIndex():number { return this.currentItemIndex; }\n\t\tprivate currentItemIndex:number;\n\n\t\tpublic getPrevItemIndex():number { return this.oldItemIndex; }\n\t\tprivate oldItemIndex:number;\n\n\t\tpublic getItemCount():number { return this.itemCount; }\n\t\tprivate itemCount:number;\n\n\t\tpublic getCurrentItemId():T { return this.currentItemId; }\n\t\tprivate currentItemId:T;\n\n\t\tpublic getPrevItemId():T { return this.prevItemId; }\n\t\tprivate prevItemId:T;\n\n\t\tpublic getItemIds():T[] { return this.itemIds; }\n\t\tprivate itemIds:T[];\n\n\t\tprivate itemIndexById:Hash<number>;\n\n\t\tpublic onChange:(event:SwitcherEvent<T>) => void;\n\t\tpublic onPrev:(event:SwitcherEvent<T>) => void;\n\t\tpublic onNext:(event:SwitcherEvent<T>) => void;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.state {\n\n\texport class SwitcherEvent<T = string> extends alm.event.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static CHANGE:string = 'change';\n\t\tpublic static PREV:string = 'prev';\n\t\tpublic static NEXT:string = 'next';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any, currentItemIndex:number, prevItemIndex:number, currentItemId:T, prevItemId:T, useTransition:boolean) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.currentItemIndex = currentItemIndex;\n\t\t\tthis.prevItemIndex = prevItemIndex;\n\t\t\tthis.currentItemId = currentItemId;\n\t\t\tthis.prevItemId = prevItemId;\n\t\t\tthis.useTransition = useTransition;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():SwitcherEvent<T> {\n\t\t\treturn new SwitcherEvent<T>(this.getType(), this.getTarget(), this.currentItemIndex, this.prevItemIndex, this.currentItemId, this.prevItemId, this.useTransition);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[SwitcherEvent] type = ' + this.getType() + ', ' + this.prevItemIndex + ' -> ' + this.currentItemIndex + ', transition = ' + this.useTransition;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly currentItemIndex:number;\n\t\tpublic readonly prevItemIndex:number;\n\t\tpublic readonly currentItemId:T;\n\t\tpublic readonly prevItemId:T;\n\t\tpublic readonly useTransition:boolean;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.state {\n\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class LoHi extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(lowThreshold:number, highThreshold:number, initValue:number = 0) {\n\t\t\tsuper();\n\n\t\t\tthis.lowThreshold = lowThreshold;\n\t\t\tthis.highThreshold = highThreshold;\n\t\t\tthis.isHigh = false;\n\t\t\tthis._set(initValue, false);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\t/**\n\t\t * \n\t\t * @param {number} value \n\t\t * @returns {boolean} true\n\t\t */\n\t\tpublic set(value:number):boolean {\n\t\t\treturn this._set(value, true);\n\t\t}\n\n\t\tpublic getIsHigh():boolean {\n\t\t\treturn this.isHigh;\n\t\t}\n\n\t\tpublic getValue():number {\n\t\t\treturn this.value;\n\t\t}\n\n\t\tpublic getLowThreshold():number {\n\t\t\treturn this.lowThreshold;\n\t\t}\n\n\t\tpublic getHighThreshold():number {\n\t\t\treturn this.highThreshold;\n\t\t}\n\n\t\tpublic setLowThreshold(threshold:number):void {\n\t\t\tthis.lowThreshold = threshold;\n\t\t\tthis._set(this.value, true);\n\t\t}\n\n\t\tpublic setHighThreshold(threshold:number):void {\n\t\t\tthis.highThreshold = threshold;\n\t\t\tthis._set(this.value, true);\n\t\t}\n\n\t\tprivate _set(value:number, dispatchEvent:boolean):boolean {\n\t\t\tthis.value = value;\n\t\t\tif (this.isHigh && this.value < this.lowThreshold) {\n\t\t\t\tthis.isHigh = false;\n\t\t\t\tif (dispatchEvent) {\n\t\t\t\t\tthis.dispatchEvent(new LoHiEvent(LoHiEvent.LOW, this, this.isHigh));\n\t\t\t\t\tthis.dispatchEvent(new LoHiEvent(LoHiEvent.CHANGE, this, this.isHigh));\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else if (!this.isHigh && this.value > this.highThreshold) {\n\t\t\t\tthis.isHigh = true;\n\t\t\t\tif (dispatchEvent) {\n\t\t\t\t\tthis.dispatchEvent(new LoHiEvent(LoHiEvent.HIGH, this, this.isHigh));\n\t\t\t\t\tthis.dispatchEvent(new LoHiEvent(LoHiEvent.CHANGE, this, this.isHigh));\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate lowThreshold:number;\n\t\tprivate highThreshold:number;\n\t\tprivate value:number;\n\t\tprivate isHigh:boolean;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.state {\n\n\texport class LoHiEvent extends alm.event.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static CHANGE:string = 'change';\n\t\tpublic static LOW:string = 'low';\n\t\tpublic static HIGH:string = 'high';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any, isHigh:boolean) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.isHigh = isHigh;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():LoHiEvent {\n\t\t\treturn new LoHiEvent(this.getType(), this.getTarget(), this.isHigh);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[LoHiEvent] type = ' + this.getType() + ', isHigh = ' + this.isHigh;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly isHigh:boolean;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.math {\n\n\texport class EasingValue {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(initValue:number, easing:number = 0.1, tolerance:number = 0) {\n\t\t\tthis.value = this.target = initValue;\n\t\t\tthis.easing = easing;\n\t\t\tthis.tolerance = tolerance;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic update(useTransition:boolean = true):number {\n\t\t\tif (useTransition) {\n\t\t\t\tconst d:number = this.target - this.value;\n\t\t\t\tif (this.tolerance > 0 && Math.abs(d) <= this.tolerance) {\n\t\t\t\t\tthis.value = this.target;\n\t\t\t\t} else {\n\t\t\t\t\tthis.value += d * this.easing;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.value = this.target;\n\t\t\t}\n\n\t\t\treturn this.value;\n\t\t}\n\n\t\tpublic clone():EasingValue {\n\t\t\tconst v:EasingValue = new EasingValue(this.value, this.easing, this.tolerance);\n\t\t\tv.target = this.target;\n\t\t\treturn v;\n\t\t}\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic value:number;\n\t\tpublic target:number;\n\t\tpublic easing:number;\n\t\tpublic tolerance:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.math {\n\n\texport class SpringValue {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(initValue:number, spring:number = 0.1, friction:number = 0.9) {\n\t\t\tthis.acceleration = 0;\n\t\t\tthis.velocity = 0;\n\t\t\tthis.value = this.target = initValue;\n\t\t\tthis.spring = spring;\n\t\t\tthis.friction = friction;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic update(useTransition:boolean = true):number {\n\t\t\tif (useTransition) {\n\t\t\t\tthis.acceleration = (this.target - this.value) * this.spring;\n\t\t\t\tthis.velocity += this.acceleration;\n\t\t\t\tthis.velocity *= this.friction;\n\t\t\t\tthis.value += this.velocity;\n\t\t\t} else {\n\t\t\t\tthis.acceleration = 0;\n\t\t\t\tthis.velocity = 0;\n\t\t\t\tthis.value = this.target;\n\t\t\t}\n\n\t\t\treturn this.value;\n\t\t}\n\n\t\tpublic clone():SpringValue {\n\t\t\tconst v:SpringValue = new SpringValue(this.value, this.spring, this.friction);\n\t\t\tv.acceleration = this.acceleration;\n\t\t\tv.velocity = this.velocity;\n\t\t\tv.target = this.target;\n\t\t\treturn v;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic value:number;\n\t\tpublic target:number;\n\t\tpublic velocity:number;\n\t\tpublic acceleration:number;\n\t\tpublic spring:number;\n\t\tpublic friction:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.math {\n\n\texport class SimpleAverage {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tthis.value = this._value = 0;\n\t\t\tthis.count = this._count = 0;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic add(n:number):number {\n\t\t\tthis._value = (this._value * this._count + n) / ++this._count;\n\n\t\t\tthis.value = this._value;\n\t\t\tthis.count = this._count;\n\n\t\t\treturn this._value;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic value:number;\n\t\tpublic count:number;\n\n\t\tprivate _value:number;\n\t\tprivate _count:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.math {\n\n\texport class SimpleMovingAverage {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(maxCount:number) {\n\t\t\tthis.maxCount = this._maxCount = maxCount;\n\t\t\tthis.value = this._value = 0;\n\t\t\tthis.count = this._count = 0;\n\t\t\tthis.values = [];\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic add(n:number):number {\n\t\t\tif (++this._count > this._maxCount) {\n\t\t\t\tthis._count = this._maxCount;\n\n\t\t\t\tconst oldest:number = this.values.shift();\n\t\t\t\tthis._value -= oldest;\n\n\t\t\t\tconst latest:number = n / this._maxCount;\n\t\t\t\tthis._value += latest;\n\n\t\t\t\tthis.values.push(latest);\n\n\t\t\t} else {\n\t\t\t\tthis._value *= (this._count - 1);\n\t\t\t\tthis._value += n;\n\t\t\t\tthis._value /= this._count;\n\n\t\t\t\tthis.values.push(n / this._maxCount);\n\t\t\t}\n\n\t\t\t/*\n\t\t\tthis._values.push(n);\n\n\t\t\tif (++this._count > this._maxCount) {\n\t\t\t\tthis._values.shift();\n\t\t\t\tthis._count = this._maxCount;\n\t\t\t}\n\n\t\t\tthis._value = 0;\n\t\t\tfor (let i:number = 0; i < this._count; ++i) {\n\t\t\t\tthis._value += this._values[i];\n\t\t\t}\n\t\t\tthis._value /= this._count;\n\t\t\t*/\n\n\t\t\tthis.value = this._value;\n\t\t\tthis.count = this._count;\n\n\t\t\treturn this._value;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic value:number;\n\t\tpublic maxCount:number;\n\t\tpublic count:number;\n\n\t\tprivate _value:number;\n\t\tprivate _maxCount:number;\n\t\tprivate _count:number;\n\n\t\tprivate values:number[];\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.math {\n\n\texport class MaxValue {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(maxLatestCount:number = 0) {\n\t\t\tthis.maxLatestCount = this._maxLatestCount = maxLatestCount;\n\t\t\tthis.value = this._value = -Number.MAX_VALUE;\n\t\t\tthis.count = this._count = 0;\n\t\t\tthis.values = [];\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic add(n:number):number {\n\t\t\tif (this._maxLatestCount > 0) {\n\t\t\t\tif (++this._count > this._maxLatestCount) {\n\t\t\t\t\tthis._count = this._maxLatestCount;\n\n\t\t\t\t\tthis.values.push(n);\n\t\t\t\t\tconst oldest:number = this.values.shift();\n\t\t\t\t\tif (this._value > oldest) {\n\t\t\t\t\t\tif (this._value < n) {\n\t\t\t\t\t\t\tthis._value = n;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._value = -Number.MAX_VALUE;\n\t\t\t\t\t\tfor (let i:number = 0; i < this._count; ++i) {\n\t\t\t\t\t\t\tconst v:number = this.values[i];\n\t\t\t\t\t\t\tif (this._value < v) {\n\t\t\t\t\t\t\t\tthis._value = v;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.values.push(n);\n\t\t\t\t\tif (this._value < n) {\n\t\t\t\t\t\tthis._value = n;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t++this._count;\n\t\t\t\tif (this._value < n) {\n\t\t\t\t\tthis._value = n;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.value = this._value;\n\t\t\tthis.count = this._count;\n\n\t\t\treturn this._value;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic value:number;\n\t\tpublic maxLatestCount:number;\n\t\tpublic count:number;\n\n\t\tprivate _value:number;\n\t\tprivate _maxLatestCount:number;\n\t\tprivate _count:number;\n\n\t\tprivate values:number[];\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.math {\n\n\texport class Circular {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(angle:number = 0, velocity:number = 0, radian:boolean = true) {\n\t\t\tthis.setAngle(angle, radian);\n\t\t\tthis.setVelocity(velocity, radian);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getAngle(radian:boolean = true):number {\n\t\t\treturn radian ? this.angle : (this.angle * 180 / Math.PI);\n\t\t}\n\n\t\tpublic setAngle(angle:number, radian:boolean = true):void {\n\t\t\tthis.angle = radian ? angle : (angle * Math.PI / 180);\n\t\t}\n\n\t\tpublic getVelocity(radian:boolean = true):number {\n\t\t\treturn radian ? this.velocity : (this.velocity * 180 / Math.PI);\n\t\t}\n\n\t\tpublic setVelocity(velocity:number, radian:boolean = true):void {\n\t\t\tthis.velocity = radian ? velocity : (velocity * Math.PI / 180);\n\t\t}\n\n\t\tpublic update():void {\n\t\t\tthis.angle += this.velocity;\n\t\t}\n\n\t\tpublic getSin(length:number = 1):number {\n\t\t\treturn length * Math.sin(this.angle);\n\t\t}\n\n\t\tpublic getCos(length:number = 1):number {\n\t\t\treturn length * Math.cos(this.angle);\n\t\t}\n\n\t\tpublic getTan(length:number = 1):number {\n\t\t\treturn length * Math.tan(this.angle);\n\t\t}\n\n\t\tpublic getMagnitude(length:number = 1):number {\n\t\t\treturn length * (1 + Math.sin(this.angle)) / 2;\n\t\t}\n\n\t\tpublic getVector(length:number = 1, xy:{ x:number, y:number } = null):{ x:number, y:number } {\n\t\t\tif (xy != null) {\n\t\t\t\txy.x = this.getCos(length);\n\t\t\t\txy.y = this.getSin(length);\n\t\t\t} else {\n\t\t\t\treturn { x: this.getCos(length), y: this.getSin(length) };\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate angle:number;\n\t\tprivate velocity:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.time {\n\n\timport EventDispatcher = alm.event.EventDispatcher;\n\timport Time = alm.util.Time;\n\n\texport class AnimationFrameTicker extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\t/**\n\t\t * requestAnimationFrameFPS\n\t\t * @param {number} frameRate 0\n\t\t * @param {number} tolerance frameRate\n\t\t */\n\t\tconstructor(frameRate:number = 0, tolerance:number = 0.1) {\n\t\t\tsuper();\n\n\t\t\tthis.targetFrameRate = frameRate;\n\t\t\tthis.interval = 1000 / this.targetFrameRate;\n\n\t\t\tthis.tolerance = tolerance;\n\t\t\tthis.toleranceDuration = this.interval * this.tolerance;\n\n\t\t\tthis.isRunning = false;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.frameStartTime = Time.now();\n\t\t\tthis.requestId = window.requestAnimationFrame(this.updateHandler);\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\twindow.cancelAnimationFrame(this.requestId);\n\t\t}\n\n\t\tpublic getIsRunning():boolean {\n\t\t\treturn this.isRunning;\n\t\t}\n\n\t\tpublic getTargetFrameRate():boolean {\n\t\t\treturn this.isRunning;\n\t\t}\n\n\t\tprivate setInterval(callback:Function):number {\n\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t}\n\n\t\tprivate clearInterval(requestId:number):void {\n\t\t\twindow.clearInterval(requestId);\n\t\t}\n\n\t\tprivate updateHandler = ():void => {\n\t\t\tthis.requestId = window.requestAnimationFrame(this.updateHandler);\n\t\t\tif (this.targetFrameRate > 0) {\n\t\t\t\tconst currentTime:number = Time.now();\n\t\t\t\tconst elapsedTime:number = currentTime - this.frameStartTime;\n\t\t\t\tif (elapsedTime >= this.interval - this.toleranceDuration) {\n\t\t\t\t\t//trace('[AnimationFrameTicker] frameRate : ' + (1000 / elapsedTime));\n\t\t\t\t\tthis.frameStartTime = currentTime;\n\t\t\t\t\tthis.dispatchEvent(new AnimationFrameTickerEvent(AnimationFrameTickerEvent.TICK, this));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.dispatchEvent(new AnimationFrameTickerEvent(AnimationFrameTickerEvent.TICK, this));\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate isRunning:boolean;\n\n\t\tprivate requestId:number;\n\n\t\tprivate targetFrameRate:number;\n\t\tprivate tolerance:number;\n\t\tprivate toleranceDuration:number;\n\t\tprivate interval:number;\n\t\tprivate frameStartTime:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.time {\n\n\timport Event = alm.event.Event;\n\n\texport class AnimationFrameTickerEvent extends Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static TICK:string = 'tick';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():AnimationFrameTickerEvent {\n\t\t\treturn new AnimationFrameTickerEvent(this.getType(), this.getTarget());\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[AnimationFrameTickerEvent] type = ' + this.getType();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.time {\n\n\timport EventDispatcher = alm.event.EventDispatcher;\n\timport Time = alm.util.Time;\n\n\texport class Timer extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(interval:number = 1000, repeatCount:number = 0) {\n\t\t\tsuper();\n\t\t\tthis.interval = interval;\n\t\t\tthis.repeatCount = repeatCount;\n\t\t\tthis.isRunning = false;\n\t\t\tthis.tId = -1;\n\t\t\tthis.reset();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\t\t\tthis.tStartTime = Time.now();\n\t\t\tthis.startInterval(this.tRestTime != -1 ? this.tRestTime : this.interval);\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\t\t\tthis.tRestTime = Time.now() - this.tStartTime;\n\t\t\tthis.stopInterval();\n\t\t}\n\n\t\tpublic reset():void {\n\t\t\tthis.stop();\n\t\t\tthis.elapsedCount = 0;\n\t\t\tthis.tRestTime = -1;\n\t\t}\n\n\t\tpublic restart():void {\n\t\t\tthis.reset();\n\t\t\tthis.start();\n\t\t}\n\n\n\n\n\n\t\tprivate startInterval(interval:number):void {\n\t\t\tthis.stopInterval();\n\t\t\tthis.tInterval = interval;\n\t\t\tthis.tId = window.setInterval(this.timerHandler, this.tInterval);\n\t\t}\n\n\t\tprivate stopInterval():void {\n\t\t\tif (this.tId != -1) {\n\t\t\t\tclearInterval(this.tId);\n\t\t\t\tthis.tId = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate dispatch(eventType:string):void {\n\t\t\tthis.dispatchEvent(new TimerEvent(eventType, this, this.elapsedCount, this.repeatCount, this.getRestCount()));\n\t\t}\n\n\t\tprivate timerHandler = ():void => {\n\t\t\tthis.tStartTime = Time.now();\n\t\t\t++this.elapsedCount;\n\t\t\tlet isCompleted:boolean = false;\n\t\t\tif (this.repeatCount > 0 && this.elapsedCount >= this.repeatCount) {\n\t\t\t\tisCompleted = true;\n\t\t\t\tthis.stop();\n\t\t\t} else if (this.tInterval != this.interval) {\n\t\t\t\tthis.startInterval(this.interval);\n\t\t\t}\n\t\t\tthis.dispatch(TimerEvent.TICK);\n\t\t\tif (isCompleted) {\n\t\t\t\tthis.dispatch(TimerEvent.COMPLETE);\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getIsRunning():boolean { return this.isRunning; }\n\t\tprivate isRunning:boolean;\n\n\t\tpublic getInterval():number { return this.interval; }\n\t\tpublic setInterval(interval:number):void { this.interval = interval; }\n\t\tprivate interval:number;\n\n\t\tpublic getElapsedTime():number { return Time.now() - this.tStartTime; }\n\n\t\tpublic getRestTime():number { return this.interval - this.getElapsedTime(); }\n\n\t\tpublic getElapsedCount():number { return this.elapsedCount; }\n\t\tprivate elapsedCount:number;\n\n\t\tpublic getRepeatCount():number { return this.repeatCount; }\n\t\tpublic setRepeatCount(count:number):void { this.repeatCount = count; }\n\t\tprivate repeatCount:number;\n\n\t\tpublic getRestCount():number { return this.repeatCount - this.elapsedCount; }\n\n\t\tprivate tStartTime:number;\n\t\tprivate tRestTime:number;\n\t\tprivate tInterval:number;\n\t\tprivate tId:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.time {\n\n\timport Event = alm.event.Event;\n\n\texport class TimerEvent extends Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static TICK:string = 'tick';\n\t\tpublic static COMPLETE:string = 'complete';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, elapsedCount:number = 0, repeatCount:number = 0, restCount:number = 0) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.elapsedCount = elapsedCount;\n\t\t\tthis.repeatCount = repeatCount;\n\t\t\tthis.restCount = restCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():TimerEvent {\n\t\t\treturn new TimerEvent(this.getType(), this.getTarget(), this.elapsedCount, this.repeatCount, this.restCount);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[TimerEvent] type = ' + this.getType() + ', elapsedCount = ' + this.elapsedCount + ', repeatCount=' + this.repeatCount + ', restCount=' + this.restCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly elapsedCount:number;\n\t\tpublic readonly repeatCount:number;\n\t\tpublic readonly restCount:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\timport EventDispatcher = alm.event.EventDispatcher;\n\texport type CompleteFunction = (content:any, info?:any) => void;\n\texport type ErrorFunction = (info?:any) => void;\n\n\texport class FileLoader extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(totalThreadCount:number = 3) {\n\t\t\tsuper();\n\n\t\t\tthis.isLoading_ = false;\n\n\t\t\tthis.currentCount = 0;\n\t\t\tthis.totalCount = 0;\n\n\t\t\tthis.currentThreadCount = 0;\n\t\t\tthis.totalThreadCount = totalThreadCount;\n\n\t\t\tthis.loadingQueries = [];\n\t\t\tthis.loadingQueryIndex = -1;\n\n\t\t\tthis.queriesByQueryId = {};\n\t\t\tthis.queriesByUrl = {};\n\n\t\t\tthis.handlersByType = {};\n\n\t\t\ttrace('[FileLoader] totalThreadCount : ' + this.totalThreadCount);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic require(url:string, type:string, id:string = ''):string {\n\t\t\treturn this.addQuery(type, url, {}, id);\n\t\t}\n\n\t\tprivate addQuery(type:string, url:string, param:any, id:string = ''):string {\n\t\t\tif (this.queriesByUrl[url]) return this.queriesByUrl[url].id;\n\n\t\t\tconst query:FileQuery = new FileQuery();\n\t\t\tquery.type = type;\n\t\t\tquery.url = url;\n\t\t\tquery.param = param;\n\n\t\t\tif (id != '') {\n\t\t\t\tquery.id = id;\n\t\t\t} else {\n\t\t\t\tquery.id = String(FileLoader.id);\n\t\t\t\t++FileLoader.id;\n\t\t\t}\n\n\t\t\tthis.loadingQueries.push(query);\n\t\t\tthis.queriesByQueryId[query.id] = query;\n\t\t\tthis.queriesByUrl[query.url] = query;\n\t\t\treturn query.id;\n\t\t}\n\n\t\tpublic load():void {\n\t\t\tif (this.isLoading_) return;\n\t\t\tthis.isLoading_ = true;\n\t\t\tthis.loadingQueryIndex = -1;\n\t\t\tthis.next();\n\t\t}\n\n\t\tprivate next():void {\n\t\t\tthis.currentCount = this.loadingQueryIndex + 1;\n\t\t\tthis.totalCount = this.loadingQueries.length;\n\n\t\t\tconst progress = this.currentCount / this.totalCount;\n\t\t\tif (this.currentCount == 0) {\n\t\t\t\tthis.dispatchEvent(new FileLoaderProgressEvent(FileLoaderProgressEvent.START, this, progress, this.currentCount, this.totalCount));\n\t\t\t} else {\n\t\t\t\tthis.dispatchEvent(new FileLoaderProgressEvent(FileLoaderProgressEvent.PROGRESS, this, progress, this.currentCount, this.totalCount));\n\t\t\t}\n\n\t\t\twhile (this.currentThreadCount < this.totalThreadCount) {\n\t\t\t\tif (this.loadingQueryIndex + 1 < this.totalCount) {\n\t\t\t\t\t// add thread\n\t\t\t\t\t++this.currentThreadCount;\n\n\t\t\t\t\t++this.loadingQueryIndex;\n\t\t\t\t\tconst query:FileQuery = this.loadingQueries[this.loadingQueryIndex];\n\t\t\t\t\tquery.isLoading = true;\n\t\t\t\t\tquery.isLoadComplete = false;\n\t\t\t\t\ttrace('[FileLoader] loading... ' + '\\'' + query.url + '\\' as \\'' + query.type + '\\'');\n\n\t\t\t\t\tconst handler:IFileHandler = this.handlersByType[query.type];\n\t\t\t\t\tif (handler) {\n\t\t\t\t\t\thandler.load(query.url, (content:any, info:any = null):void => {\n\t\t\t\t\t\t\tthis.fileLoadCompleteHandler(query, content, info);\n\t\t\t\t\t\t},(info:any = null):void => {\n\t\t\t\t\t\t\tthis.fileLoadErrorHandler(query, info);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttrace('[FileLoader] handler is not found \\'' + query.type + '\\'');\n\t\t\t\t\t\t--this.currentThreadCount;\n\t\t\t\t\t}\n\t\t\t\t\t// continue loop\n\n\t\t\t\t} else {\n\t\t\t\t\t// all finished\n\t\t\t\t\tthis.isLoading_ = false;\n\t\t\t\t\tthis.loadingQueries = [];\n\t\t\t\t\tthis.loadingQueryIndex = -1;\n\t\t\t\t\tthis.dispatchEvent(new FileLoaderProgressEvent(FileLoaderProgressEvent.COMPLETE, this, progress, this.currentCount, this.totalCount));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\tif (this.currentCount < this.totalCount) {\n\t\t\t\t++this.loadingQueryIndex;\n\t\t\t\tconst query:FileQuery = this.loadingQueries[this.loadingQueryIndex];\n\t\t\t\tquery.isLoading = true;\n\t\t\t\tquery.isLoadComplete = false;\n\t\t\t\ttrace('[FileLoader] loading... ' + '\\'' + query.url + '\\' as \\'' + query.type + '\\'');\n\n\t\t\t\t++this.currentThreadCount;\n\n\t\t\t\tconst handler:IFileHandler = this.handlersByType[query.type];\n\t\t\t\tif (handler) {\n\t\t\t\t\thandler.load(query.url, (content:any):void => {\n\t\t\t\t\t\tthis.fileLoadCompleteHandler(query, content);\n\t\t\t\t\t},(message:string = ''):void => {\n\t\t\t\t\t\tthis.fileLoadErrorHandler(query, message);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttrace('[FileLoader] handler is not found \\'' + query.type + '\\'');\n\t\t\t\t\t--this.currentThreadCount;\n\t\t\t\t\tthis.next();\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isLoading_ = false;\n\t\t\t\tthis.loadingQueries = [];\n\t\t\t\tthis.loadingQueryIndex = -1;\n\t\t\t\tthis.dispatchEvent(new FileLoaderEvent(FileLoaderEvent.COMPLETE, this, this.currentCount / this.totalCount, this.currentCount, this.totalCount));\n\t\t\t}\n\t\t\t*/\n\t\t}\n\n\t\tpublic addHandler(handler:IFileHandler):void {\n\t\t\tthis.handlersByType[handler.getType()] = handler;\n\t\t}\n\n\t\tprivate fileLoadCompleteHandler = (query:FileQuery, content:any, info:object = null):void => {\n\t\t\t--this.currentThreadCount;\n\t\t\tquery.isLoading = false;\n\t\t\tquery.isLoadComplete = true;\n\t\t\tquery.content = content;\n\t\t\tif (query.param.onLoad) {\n\t\t\t\tquery.param.onLoad(content, info);\n\t\t\t}\n\n\t\t\tthis.dispatchEvent(new FileLoaderSuccessEvent(FileLoaderSuccessEvent.SUCCESS, this, content, info));\n\t\t\tthis.next();\n\t\t};\n\n\t\tprivate fileLoadErrorHandler = (query:FileQuery, info:any = null):void => {\n\t\t\t--this.currentThreadCount;\n\t\t\tquery.isLoading = false;\n\t\t\tquery.isLoadComplete = true;\n\t\t\tif (query.param.onError) {\n\t\t\t\tquery.param.onError(info);\n\t\t\t}\n\n\t\t\tthis.dispatchEvent(new FileLoaderErrorEvent(FileLoaderErrorEvent.ERROR, this, info));\n\t\t\tthis.next();\n\t\t};\n\n\t\tpublic getQueryByQueryId(queryId:string):FileQuery {\n\t\t\treturn this.queriesByQueryId[queryId];\n\t\t}\n\n\t\tpublic getQueryByUrl(url:string):FileQuery {\n\t\t\treturn this.queriesByUrl[url];\n\t\t}\n\n\t\tpublic isLoading():boolean {\n\t\t\treturn this.isLoading_;\n\t\t}\n\n\t\tpublic getCurrentCount():number {\n\t\t\treturn this.currentCount;\n\t\t}\n\n\t\tpublic getTotalCount():number {\n\t\t\treturn this.totalCount;\n\t\t}\n\n\t\tpublic getContentByUrl<T = any>(url:string):T {\n\t\t\treturn this.queriesByUrl[url].content;\n\t\t}\n\n\t\tpublic getContentByQueryId<T = any>(textureId:string):T {\n\t\t\treturn this.queriesByQueryId[textureId].content;\n\t\t}\n\n\t\tpublic getCurrentThreadCount():number {\n\t\t\treturn this.currentThreadCount;\n\t\t}\n\n\t\tpublic getTotalThreadCount():number {\n\t\t\treturn this.totalThreadCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate isLoading_:boolean;\n\n\t\tprivate currentCount:number;\n\t\tprivate totalCount:number;\n\n\t\tprivate currentThreadCount:number;\n\t\tprivate totalThreadCount:number;\n\n\t\tprivate loadingQueries:FileQuery[];\n\t\tprivate loadingQueryIndex:number;\n\n\t\tprivate queriesByQueryId:util.Hash<FileQuery>;\n\t\tprivate queriesByUrl:util.Hash<FileQuery>;\n\n\t\tprivate handlersByType:util.Hash<IFileHandler>;\n\n\t\tprivate static id:number = 0;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\texport class FileLoaderProgressEvent extends alm.event.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic START:string = 'start';\n\t\tstatic PROGRESS:string = 'progress';\n\t\tstatic COMPLETE:string = 'complete';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, progress:number = 0, loadedCount:number = 0, totalCount:number = 0) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.progress = progress;\n\t\t\tthis.loadedCount = loadedCount;\n\t\t\tthis.totalCount = totalCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():FileLoaderProgressEvent {\n\t\t\treturn new FileLoaderProgressEvent(this.getType(), this.getTarget(), this.progress, this.loadedCount, this.totalCount);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[FileLoaderProgressEvent] type = ' + this.getType() + ', progress = ' + this.progress + ', loadedCount = ' + this.loadedCount + ', totalCount = ' + this.totalCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly progress:number;\n\t\tpublic readonly loadedCount:number;\n\t\tpublic readonly totalCount:number;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\texport class FileLoaderSuccessEvent extends alm.event.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic SUCCESS:string = 'success';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, content:any, info:any = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.content = content;\n\t\t\tthis.info = info;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():FileLoaderSuccessEvent {\n\t\t\treturn new FileLoaderSuccessEvent(this.getType(), this.getTarget(), this.content, this.info);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[FileLoaderSuccessEvent] type = ' + this.getType() + ', info = ' + this.info;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly content:any;\n\t\tpublic readonly info:any;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\texport class FileLoaderErrorEvent extends alm.event.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic ERROR:string = 'error';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, info:any = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.info = info;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():FileLoaderErrorEvent {\n\t\t\treturn new FileLoaderErrorEvent(this.getType(), this.getTarget(), this.info);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[FileLoaderErrorEvent] type = ' + this.getType() + ', info = ' + this.info;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly info:any;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\texport class FileQuery {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tthis.isLoading = false;\n\t\t\tthis.isLoadComplete = false;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic id:string;\n\t\tpublic type:string;\n\t\tpublic url:string;\n\t\tpublic param:any;\n\t\tpublic content:any;\n\t\tpublic isLoading:boolean;\n\t\tpublic isLoadComplete:boolean;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.audio {\n\n\timport Cmd = alm.util.Cmd;\n\timport Easing = alm.math.Easing;\n\n\texport class AudioClip {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic constructor(context:AudioContext, destination:AudioNode, fileName:string = '', masterVolume:number = 1) {\n\t\t\t//this.context = new AudioContext();\n\t\t\tthis.context = context;\n\t\t\tthis.masterVolume = masterVolume;\n\n\t\t\tthis.buffer = null;\n\t\t\tthis.sourceNode = null;\n\t\t\tthis.isAvailable = false;\n\n\t\t\tthis.duration = 0;\n\n\t\t\tthis.gainNode = this.context.createGain();\n\t\t\tthis.gainNode.connect(destination);\n\n\t\t\tthis.volume = 1;\n\t\t\tthis.applyVolume();\n\n\t\t\tif (fileName != '') {\n\t\t\t\tthis.load(fileName);\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic load(url:string):void {\n\t\t\tconst request:XMLHttpRequest = new XMLHttpRequest();\n\t\t\trequest.responseType = 'arraybuffer';\n\t\t\trequest.onreadystatechange = ():void => {\n\t\t\t\tif (request.readyState == 4) {\n\t\t\t\t\tif (request.status == 0 || request.status == 200) {\n\t\t\t\t\t\tthis.context.decodeAudioData(request.response, (buffer:AudioBuffer):void => {\n\t\t\t\t\t\t\ttrace('[AudioClip] load complete :', url);\n\t\t\t\t\t\t\tthis.isAvailable = true;\n\t\t\t\t\t\t\tthis.buffer = buffer;\n\t\t\t\t\t\t\tthis.duration = this.buffer.duration;\n\t\t\t\t\t\t}, (error:Error):void => {\n\t\t\t\t\t\t\ttrace('[AudioClip] load error :', error);\n\t\t\t\t\t\t\ttrace(error);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\trequest.open('GET', url, true);\n\t\t\trequest.send('');\n\t\t}\n\n\t\tpublic play(loop:boolean = false, overwrite:boolean = true):void {\n\t\t\tif (!this.isAvailable) return;\n\t\t\tif (!overwrite && this.sourceNode) return;\n\t\t\tthis.stop();\n\t\t\tthis.sourceNode = this.context.createBufferSource();\n\t\t\tthis.sourceNode.buffer = this.buffer;\n\t\t\tthis.sourceNode.loop = loop;\n\t\t\tthis.sourceNode.connect(this.gainNode);\n\t\t\tthis.sourceNode.start(0);\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (this.sourceNode) {\n\t\t\t\tthis.sourceNode.stop();\n\t\t\t\tthis.sourceNode.disconnect(this.gainNode);\n\t\t\t\tthis.sourceNode = null;\n\t\t\t}\n\t\t}\n\n\t\tpublic getVolume():number {\n\t\t\treturn this.volume;\n\t\t}\n\n\t\tpublic setVolume(volume:number):void {\n\t\t\tCmd.stop(this.volumeTween);\n\t\t\tif (this.volume == volume) return;\n\t\t\tthis.volume = volume;\n\t\t\tthis.applyVolume();\n\t\t}\n\n\t\tpublic fadeTo(to:number, duration:number = 1000, onComplete:Function = null):void {\n\t\t\tCmd.stop(this.volumeTween);\n\t\t\tthis.volumeTween = new cmd.Tween(this, { volume: to }, null, duration, Easing.linear, null, ():void => {\n\t\t\t\tthis.applyVolume();\n\t\t\t}, ():void => {\n\t\t\t\tif (onComplete) onComplete();\n\t\t\t});\n\t\t\tthis.volumeTween.execute();\n\t\t}\n\n\t\tpublic fadeIn(duration:number = 1000):void {\n\t\t\tthis.fadeTo(1, duration);\n\t\t}\n\n\t\tpublic fadeOut(duration:number = 1000, stopOnComplete:boolean = true):void {\n\t\t\tthis.fadeTo(0, duration, ():void => {\n\t\t\t\tif (stopOnComplete) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tprivate applyVolume():void {\n\t\t\tthis.gainNode.gain.value = this.volume * this.masterVolume;\n\t\t}\n\n\t\tpublic getIsAvailable():boolean {\n\t\t\treturn this.isAvailable;\n\t\t}\n\n\t\tpublic getDuration():number {\n\t\t\treturn this.duration;\n\t\t}\n\n\t\tpublic getCurrentTime():number {\n\t\t\treturn this.context.currentTime;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate isAvailable:boolean;\n\t\tprivate context:AudioContext;\n\t\tprivate volume:number;\n\t\tprivate masterVolume:number;\n\t\tprivate buffer:AudioBuffer;\n\t\tprivate duration:number;\n\t\tprivate sourceNode:AudioBufferSourceNode;\n\t\tprivate gainNode:GainNode;\n\t\tprivate volumeTween:cmd.Tween;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.audio {\n\n\timport EventDispatcher = alm.event.EventDispatcher;\n\timport Hash = alm.util.Hash;\n\n\texport class AudioPlayer extends EventDispatcher {\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t\tsuper();\n\n\t\t\tconst AudioContext:any = window['AudioContext'] || window['webkitAudioContext'] || null;\n\t\t\tthis.isAvailable = AudioContext != null;\n\t\t\tif (this.isAvailable) {\n\t\t\t\tthis.context = new AudioContext();\n\t\t\t\tthis.clipsById = {};\n\n\t\t\t\tthis.masterGainNode = this.context.createGain();\n\t\t\t\tthis.masterGainNode.connect(this.context.destination);\n\t\t\t\tthis.masterVolume = 1;\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic add(url:string, masterVolute:number = 1, id:string = ''):boolean {\n\t\t\tif (!this.isAvailable) return false;\n\t\t\tif (id == '') id = url;\n\t\t\tif (this.clipsById[id]) return false;\n\t\t\tthis.clipsById[id] = new AudioClip(this.context, this.masterGainNode, url, masterVolute);\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic getClip(id:string):AudioClip {\n\t\t\tif (!this.isAvailable) return;\n\t\t\treturn this.clipsById[id];\n\t\t}\n\n\t\tpublic getMasterVolume():number {\n\t\t\tif (!this.isAvailable) return 0;\n\t\t\treturn this.masterVolume;\n\t\t}\n\n\t\tpublic setMasterVolume(volume:number):void {\n\t\t\tif (!this.isAvailable) return;\n\t\t\tthis.masterVolume = volume;\n\t\t\tthis.masterGainNode.gain.value = this.masterVolume;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getInstance():AudioPlayer { return AudioPlayer.instance || (AudioPlayer.instance = new AudioPlayer()); }\n\t\tprivate static instance:AudioPlayer = null;\n\n\t\tprivate isAvailable:boolean;\n\t\tprivate context:AudioContext;\n\t\tprivate clipsById:Hash<AudioClip>;\n\n\t\tprivate masterGainNode:GainNode;\n\t\tprivate masterVolume:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.audio {\n\n\texport class CrossOverLoopAudio {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic constructor(crossOverDuration:number = 1) {\n\t\t\tthis.audioPlayer = AudioPlayer.getInstance();\n\n\t\t\tthis.clipCount = 0;\n\t\t\tthis.clipIndex = 0;\n\t\t\tthis.clipIds = [];\n\t\t\tthis.clip = null;\n\n\t\t\tthis.isPlaying = false;\n\t\t\tthis.volume = 1;\n\n\t\t\tthis.crossOverDuration = crossOverDuration;\n\t\t\tthis.timeoutId = -1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic add(url:string, masterVolume:number = 1):void {\n\t\t\tconst id = url + '-' + this.clipCount;\n\t\t\tthis.audioPlayer.add(url, masterVolume, id);\n\t\t\tthis.clipIds.push(id);\n\t\t\tthis.clipCount = this.clipIds.length;\n\t\t}\n\n\t\tpublic play():void {\n\t\t\tif (this.isPlaying) return;\n\t\t\tthis.isPlaying = true;\n\n\t\t\tthis.playCurrent();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isPlaying) return;\n\t\t\tthis.isPlaying = false;\n\n\t\t\tthis.stopCurrent();\n\t\t}\n\n\t\tpublic setVolume(volume:number):void {\n\t\t\tthis.volume = volume;\n\n\t\t\tif (this.clip) {\n\t\t\t\tthis.clip.setVolume(this.volume);\n\t\t\t}\n\t\t}\n\n\t\tprivate playCurrent():void {\n\t\t\tthis.clip = this.audioPlayer.getClip(this.clipIds[this.clipIndex]);\n\t\t\tthis.clip.setVolume(this.volume);\n\t\t\tthis.clip.play(false, true);\n\n\t\t\tconst interval = (this.clip.getDuration() - this.crossOverDuration) * 1000;\n\t\t\tthis.timeoutId = window.setTimeout(this.timerHandler, interval);\n\t\t}\n\n\t\tprivate stopCurrent():void {\n\t\t\tif (this.timeoutId != -1) {\n\t\t\t\twindow.clearTimeout(this.timeoutId);\n\t\t\t\tthis.timeoutId = -1;\n\t\t\t}\n\n\t\t\tif (this.clip) {\n\t\t\t\tthis.clip.stop();\n\t\t\t\tthis.clip = null;\n\t\t\t}\n\t\t}\n\n\t\tprivate timerHandler = ():void => {\n\t\t\tif (++this.clipIndex == this.clipCount) this.clipIndex = 0;\n\t\t\tthis.playCurrent();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate audioPlayer:AudioPlayer;\n\t\tprivate volume:number;\n\n\t\tprivate clipIds:string[];\n\t\tprivate clip:AudioClip;\n\t\tprivate clipIndex:number;\n\t\tprivate clipCount:number;\n\n\t\tprivate isPlaying:boolean;\n\n\t\tprivate crossOverDuration:number;\n\t\tprivate timeoutId:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.audio {\n\n\timport Num = alm.util.Num;\n\timport Easing = alm.math.Easing;\n\n\texport class FootstepAudio {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic constructor(intervalMin:number = 0.12, intervalMax:number = 0.6) {\n\t\t\tthis.audioPlayer = AudioPlayer.getInstance();\n\n\t\t\tthis.intervalMin = intervalMin;\n\t\t\tthis.intervalMax = intervalMax;\n\t\t\tthis.intervalId = -1;\n\t\t\tthis.interval = this.intervalMax;\n\n\t\t\tthis.clipIndex = -1;\n\t\t\tthis.clipCount = 0;\n\t\t\tthis.clipIds = [];\n\n\t\t\tthis.isPlaying = false;\n\t\t\tthis.volume = 1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic add(url:string, masterVolume:number = 1):void {\n\t\t\tconst id = url + '-' + this.clipCount;\n\t\t\tthis.audioPlayer.add(url, masterVolume, id);\n\t\t\tthis.clipIds.push(id);\n\t\t\tthis.clipCount = this.clipIds.length;\n\t\t}\n\n\t\tpublic play(immediately:boolean = true):void {\n\t\t\tif (this.isPlaying) return;\n\t\t\tthis.isPlaying = true;\n\n\t\t\tthis.isWaitingForFirstStep = true;\n\t\t\tthis.startTime = immediately ? 0 : new Date().getTime();\n\t\t\tthis.intervalId = window.setInterval(this.timerHandler, 1000 / 60);\n\t\t\tthis.timerHandler();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isPlaying) return;\n\t\t\tthis.isPlaying = false;\n\n\t\t\twindow.clearInterval(this.intervalId);\n\t\t}\n\n\t\tpublic setSpeed(speedRatio:number):void {\n\t\t\tthis.interval = Num.ease(speedRatio, 0, 1, this.intervalMax, this.intervalMin, Easing.easeOutSine);\n\t\t}\n\n\t\tpublic setVolume(volume:number):void {\n\t\t\tthis.volume = volume;\n\t\t}\n\n\t\tprivate timerHandler = ():void => {\n\t\t\tconst interval = this.isWaitingForFirstStep ? (this.interval * 0.5) : this.interval;\n\t\t\tconst time = new Date().getTime();\n\t\t\tif (time - this.startTime >= interval * 1000) {\n\t\t\t\tthis.startTime = time;\n\t\t\t\tthis.isWaitingForFirstStep = false;\n\n\t\t\t\tif (++this.clipIndex >= this.clipCount) {\n\t\t\t\t\tthis.clipIndex = 0;\n\t\t\t\t}\n\t\t\t\tconst clipId = this.clipIds[this.clipIndex];\n\t\t\t\tthis.audioPlayer.getClip(clipId).setVolume(this.volume);\n\t\t\t\tthis.audioPlayer.getClip(clipId).play(false, true);\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate audioPlayer:AudioPlayer;\n\t\tprivate volume:number;\n\n\t\tprivate clipIds:string[];\n\t\tprivate clipIndex:number;\n\t\tprivate clipCount:number;\n\n\t\tprivate startTime:number;\n\t\tprivate isWaitingForFirstStep:boolean;\n\n\t\tprivate intervalMin:number;\n\t\tprivate intervalMax:number;\n\t\tprivate interval:number;\n\t\tprivate intervalId:number;\n\n\t\tprivate isPlaying:boolean;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.view {\n\n\timport EventDispatcher = alm.event.EventDispatcher;\n\timport Logger = alm.debug.Logger;\n\n\texport abstract class View<T = any> extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(view:T = null, id:string = null) {\n\t\t\tsuper();\n\t\t\tthis.id = id != null ? id : String(View.viewCount);\n\t\t\tthis.view = view;\n\t\t\tthis.name = '';\n\t\t\tthis.autoHideWithInit = true;\n\t\t\tthis.isInitializing = false;\n\t\t\tthis.isInitialized = false;\n\t\t\tthis.isReadying = false;\n\t\t\tthis.isReadied = false;\n\t\t\tthis.isShowing = false;\n\t\t\tthis.isShown = true;\n\t\t\tthis.isHiding = false;\n\n\t\t\tif (View.viewsById[this.id]) {\n\t\t\t\tLogger.warn('view id \\'' + this.id + '\\' is duplicate');\n\t\t\t}\n\t\t\tView.viewsById[this.id] = this;\n\t\t\t++View.viewCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic initialize():void {\n\t\t\tif (this.isInitializing || this.isInitialized) return;\n\t\t\tthis.isInitializing = true;\n\n\t\t\t//if (View.viewsById[this.id] == null) {\n\t\t\t//\tView.viewsById[this.id] = this;\n\t\t\t//}\n\n\t\t\tthis.view = this.implInitialize();\n\t\t\tif (this.isInitializing) {\n\t\t\t\tthrowError(this.name || this, 'view is not assigned', !this.view);\n\t\t\t\tif (this.autoHideWithInit) {\n\t\t\t\t\tthis.hide(false);\n\t\t\t\t}\n\t\t\t\tthis.isInitializing = false;\n\t\t\t\tthis.isInitialized = true;\n\t\t\t} else {\n\t\t\t\t// finalized while initializing\n\t\t\t\tthis.view = null;\n\t\t\t}\n\t\t}\n\n\t\tpublic ready():void {\n\t\t\tif (this.isReadying || this.isReadied) return;\n\t\t\tthis.isReadying = true;\n\t\t\tthrowError(this.name || this, 'ready() must be called after initialize()', !this.isInitialized);\n\t\t\tthis.implReady();\n\t\t\tthis.isReadying = false;\n\t\t\tthis.isReadied = true;\n\t\t}\n\n\t\tpublic finalize():void {\n\t\t\tif (!this.isInitializing && !this.isInitialized) return;\n\t\t\tthis.implFinalize();\n\t\t\tthis.isInitializing = false;\n\t\t\tthis.isInitialized = false;\n\n\t\t\tdelete View.viewsById[this.id];\n\t\t\tView.viewsById[this.id] = null;\n\t\t}\n\n\t\tpublic show(useTransition:boolean = true):void {\n\t\t\tif (this.isShown) return;\n\t\t\tthis.getShowCommand(useTransition).execute();\n\t\t}\n\n\t\tpublic hide(useTransition:boolean = true):void {\n\t\t\tif (!this.isShown) return;\n\t\t\tthis.getHideCommand(useTransition).execute();\n\t\t}\n\n\t\tpublic getShowCommand(useTransition:boolean = true):cmd.Command {\n\t\t\tconst command:cmd.Serial = new cmd.Serial();\n\t\t\tcommand.addCommand(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tif (this.isShown) return;\n\t\t\t\t\tthrowError(this.name || this, 'getShowCommand() is must be called after initialize()', this.isInitializing || !this.isInitialized);\n\t\t\t\t\tthrowWarn(this.name || this, 'getShowCommand() is must be called after ready()', this.isReadying|| !this.isReadied);\n\t\t\t\t\tthis.isShown = true;\n\t\t\t\t\tthis.isShowing = true;\n\t\t\t\t\tthis.isHiding = false;\n\n\t\t\t\t\tif (this.showCommand) {\n\t\t\t\t\t\tthis.showCommand.interrupt();\n\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.hideCommand) {\n\t\t\t\t\t\tthis.hideCommand.interrupt();\n\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.showCommand = command;\n\t\t\t\t\tcommand.insertCommand(\n\t\t\t\t\t\tthis.implShow(this.view, useTransition),\n\t\t\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t\t\tthis.isShowing = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn command;\n\t\t}\n\n\t\tpublic getHideCommand(useTransition:boolean = true):cmd.Command {\n\t\t\tconst command:cmd.Serial = new cmd.Serial();\n\t\t\tcommand.addCommand(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tif (!this.isShown) return;\n\t\t\t\t\tif (!this.isInitializing) {\n\t\t\t\t\t\tthrowError(this.name || this, 'getHideCommand() is must be called after initialize()', this.isInitializing || !this.isInitialized);\n\t\t\t\t\t\tthrowWarn(this.name || this, 'getHideCommand() is must be called after ready()', this.isReadying || !this.isReadied);\n\t\t\t\t\t}\n\t\t\t\t\tthis.isShown = false;\n\t\t\t\t\tthis.isShowing = false;\n\t\t\t\t\tthis.isHiding = true;\n\n\t\t\t\t\tif (this.showCommand) {\n\t\t\t\t\t\tthis.showCommand.interrupt();\n\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.hideCommand) {\n\t\t\t\t\t\tthis.hideCommand.interrupt();\n\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.hideCommand = command;\n\t\t\t\t\tcommand.insertCommand(\n\t\t\t\t\t\tthis.implHide(this.view, useTransition),\n\t\t\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t\t\tthis.isHiding = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn command;\n\t\t}\n\n\t\tpublic getIsInitializing():boolean {\n\t\t\treturn this.isInitializing;\n\t\t}\n\n\t\tpublic getIsInitialized():boolean {\n\t\t\treturn this.isInitialized;\n\t\t}\n\n\t\tpublic getIsReadying():boolean {\n\t\t\treturn this.isReadying;\n\t\t}\n\n\t\tpublic getIsReadied():boolean {\n\t\t\treturn this.isReadied;\n\t\t}\n\n\t\tpublic getIsShowing():boolean {\n\t\t\treturn this.isShowing;\n\t\t}\n\n\t\tpublic getIsShown():boolean {\n\t\t\treturn this.isShown;\n\t\t}\n\n\t\tpublic getIsHiding():boolean {\n\t\t\treturn this.isHiding;\n\t\t}\n\n\t\tpublic getIsHidden():boolean {\n\t\t\treturn !this.isShown;\n\t\t}\n\n\t\tpublic getId():string {\n\t\t\treturn this.id;\n\t\t}\n\n\t\tpublic getView():T {\n\t\t\treturn this.view;\n\t\t}\n\n\t\tpublic getName():string {\n\t\t\treturn this.name;\n\t\t}\n\n\t\tpublic setName(value:string):void {\n\t\t\tthis.name = value;\n\t\t}\n\n\t\tpublic getAutoHideWithInit():boolean {\n\t\t\treturn this.autoHideWithInit;\n\t\t}\n\n\t\tpublic setAutoHideWithInit(value:boolean):void {\n\t\t\tthis.autoHideWithInit = value;\n\t\t}\n\n\n\n\n\n\t\tprotected abstract implInitialize():T;\n\t\tprotected abstract implReady():void;\n\t\tprotected abstract implFinalize():void;\n\t\tprotected abstract implShow(view:T, useTransition:boolean):cmd.Command;\n\t\tprotected abstract implHide(view:T, useTransition:boolean):cmd.Command;\n\n\n\n\n\n\t\tpublic static getViewById(id:string):View {\n\t\t\treturn View.viewsById[id];\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate id:string;\n\t\tprivate view:T;\n\t\tprivate name:string;\n\t\tprivate autoHideWithInit:boolean;\n\t\tprivate showCommand:cmd.Command;\n\t\tprivate hideCommand:cmd.Command;\n\t\tprivate isInitializing:boolean;\n\t\tprivate isInitialized:boolean;\n\t\tprivate isReadying:boolean;\n\t\tprivate isReadied:boolean;\n\t\tprivate isShowing:boolean;\n\t\tprivate isShown:boolean;\n\t\tprivate isHiding:boolean;\n\n\t\tprivate static viewCount:number = 0;\n\t\tprivate static viewsById:util.Hash<View> = {};\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.view {\n\n\texport class ButtonBehavior {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(target:IButton, hitArea:HTMLElement = null, isHoverCursorEnabled:boolean = true, isPreventDefaultEnabled:boolean = true, isStopPropagationEnabled:boolean = true) {\n\t\t\tthis.target = target;\n\t\t\tthis.hitArea = null;\n\t\t\tthis.isHoverCursorEnabled = isHoverCursorEnabled;\n\t\t\tthis.isPreventDefaultEnabled = isPreventDefaultEnabled;\n\t\t\tthis.isStopPropagationEnabled = isStopPropagationEnabled;\n\t\t\tthis.isEnabled = true;\n\t\t\tthis.isOver = false;\n\t\t\tthis.isDown = false;\n\t\t\tthis.isOverInternal = false;\n\t\t\tthis.isDownInternal = false;\n\t\t\tthis.defaultMouseCursor = '';\n\n\t\t\tthis.setHitArea(hitArea);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic over(useTransition:boolean = true):void {\n\t\t\tthis.isOverInternal = true;\n\t\t\tif (this.isEnabled) {\n\t\t\t\tif (this.isOver) return;\n\t\t\t\tthis.isOver = true;\n\t\t\t\tthis.target.implButtonOver(useTransition);\n\t\t\t}\n\t\t}\n\n\t\tpublic out(useTransition:boolean = true):void {\n\t\t\tthis._out(true, useTransition);\n\t\t}\n\n\t\tprivate _out(checkEnabled:boolean, useTransition:boolean = true):void {\n\t\t\tthis.isOverInternal = false;\n\t\t\tif (this.isEnabled || !checkEnabled) {\n\t\t\t\tif (!this.isOver) return;\n\t\t\t\tthis.isOver = false;\n\t\t\t\tthis.target.implButtonOut(useTransition);\n\t\t\t}\n\t\t}\n\n\t\tpublic down(useTransition:boolean = true):void {\n\t\t\tthis.isDownInternal = true;\n\t\t\tif (this.isEnabled) {\n\t\t\t\tif (this.isDown) return;\n\t\t\t\tthis.isDown = true;\n\t\t\t\tthis.target.implButtonDown(useTransition);\n\t\t\t}\n\t\t}\n\n\t\tpublic up(useTransition:boolean = true):void {\n\t\t\tthis._up(true, useTransition);\n\t\t}\n\n\t\tprivate _up(checkEnabled:boolean, useTransition:boolean = true):void {\n\t\t\tthis.isDownInternal = false;\n\t\t\tif (this.isEnabled || !checkEnabled) {\n\t\t\t\tif (!this.isDown) return;\n\t\t\t\tthis.isDown = false;\n\t\t\t\tthis.target.implButtonUp(useTransition);\n\t\t\t}\n\t\t}\n\n\t\tpublic click(useTransition:boolean = true):void {\n\t\t\tif (this.isEnabled) {\n\t\t\t\tthis.target.implButtonClick(useTransition);\n\t\t\t}\n\t\t}\n\n\t\tprivate on():void {\n\t\t\tif (this.hitArea == null) return;\n\n\t\t\tthis.hitArea.addEventListener('mouseover', this.mouseOverHandler);\n\t\t\tthis.hitArea.addEventListener('mouseout', this.mouseOutHandler);\n\t\t\tthis.hitArea.addEventListener('mousedown', this.mouseDownHandler);\n\t\t\tthis.hitArea.addEventListener('mouseup', this.mouseUpHandler);\n\t\t\tthis.hitArea.addEventListener('click', this.clickHandler);\n\n\t\t\tthis.hitArea.addEventListener('touchstart', this.touchStartHandler);\n\t\t\tthis.hitArea.addEventListener('touchend', this.touchEndHandler);\n\t\t\tthis.hitArea.addEventListener('touchcancel', this.touchCancelHandler);\n\t\t}\n\n\t\tprivate off():void {\n\t\t\tif (this.hitArea == null) return;\n\n\t\t\tthis.hitArea.removeEventListener('mouseover', this.mouseOverHandler);\n\t\t\tthis.hitArea.removeEventListener('mouseout', this.mouseOutHandler);\n\t\t\tthis.hitArea.removeEventListener('mousedown', this.mouseDownHandler);\n\t\t\tthis.hitArea.removeEventListener('mouseup', this.mouseUpHandler);\n\t\t\tthis.hitArea.removeEventListener('click', this.clickHandler);\n\n\t\t\tthis.hitArea.removeEventListener('touchstart', this.touchStartHandler);\n\t\t\tthis.hitArea.removeEventListener('touchend', this.touchEndHandler);\n\t\t\tthis.hitArea.removeEventListener('touchcancel', this.touchCancelHandler);\n\t\t}\n\n\t\tpublic getIsEnabled():boolean {\n\t\t\treturn this.isEnabled;\n\t\t}\n\n\t\tpublic setIsEnabled(value:boolean, useTransition:boolean = true):void {\n\t\t\tif (this.isEnabled != value) {\n\t\t\t\tthis.isEnabled = value;\n\t\t\t\tif (this.isEnabled) {\n\t\t\t\t\tif (this.isOverInternal) {\n\t\t\t\t\t\tthis.over();\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isDownInternal) {\n\t\t\t\t\t\tthis.down();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (this.isOver) {\n\t\t\t\t\t\tthis._out(false);\n\t\t\t\t\t\tthis.isOverInternal = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isDown) {\n\t\t\t\t\t\tthis._up(false);\n\t\t\t\t\t\tthis.isDownInternal = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.target.implButtonChangeEnabled(this.isEnabled, useTransition);\n\t\t\t}\n\t\t}\n\n\t\tpublic getIsOver():boolean {\n\t\t\treturn this.isOver;\n\t\t}\n\n\t\tpublic getIsDown():boolean {\n\t\t\treturn this.isDown;\n\t\t}\n\n\t\tpublic getHitArea():HTMLElement {\n\t\t\treturn this.hitArea;\n\t\t}\n\n\t\tpublic setHitArea(hitArea:HTMLElement):void {\n\t\t\tif (this.hitArea !== hitArea) {\n\t\t\t\tthis.off();\n\t\t\t\tthis.hitArea = hitArea;\n\t\t\t\tthis.on();\n\t\t\t}\n\t\t}\n\n\t\tpublic clearHitArea():void {\n\t\t\tthis.setHitArea(null);\n\t\t}\n\n\t\tpublic getIsPreventDefaultEnabled():boolean {\n\t\t\treturn this.isPreventDefaultEnabled;\n\t\t}\n\n\t\tpublic setIsPreventDefaultEnabled(enabled:boolean):void {\n\t\t\tthis.isPreventDefaultEnabled = enabled;\n\t\t}\n\n\t\tpublic getIsStopPropagationEnabled():boolean {\n\t\t\treturn this.isStopPropagationEnabled;\n\t\t}\n\n\t\tpublic setIsStopPropagationEnabled(enabled:boolean):void {\n\t\t\tthis.isStopPropagationEnabled = enabled;\n\t\t}\n\n\t\tpublic getIsHoverCursorEnabled():boolean {\n\t\t\treturn this.isHoverCursorEnabled;\n\t\t}\n\n\t\tpublic setIsHoverCursorEnabled(enabled:boolean):void {\n\t\t\tthis.isHoverCursorEnabled = enabled;\n\t\t}\n\n\t\tprivate applyMouseCursor():void {\n\t\t\tif (this.isHoverCursorEnabled) {\n\t\t\t\tif (this.isOverInternal && this.isEnabled && this.hitArea != null) {\n\t\t\t\t\tthis.defaultMouseCursor = this.hitArea.style.cursor;\n\t\t\t\t\tthis.hitArea.style.cursor = 'pointer';\n\t\t\t\t} else {\n\t\t\t\t\tthis.hitArea.style.cursor = this.defaultMouseCursor != '' ? this.defaultMouseCursor : 'auto';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// --------------------------------------------------\n\t\t// Mouse Event\n\n\t\tprivate mouseOverHandler = (event:MouseEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.over();\n\t\t\tthis.applyMouseCursor();\n\t\t};\n\n\t\tprivate mouseOutHandler = (event:MouseEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.out();\n\t\t\tthis.applyMouseCursor();\n\t\t};\n\n\t\tprivate mouseDownHandler = (event:MouseEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.down();\n\t\t};\n\n\t\tprivate mouseUpHandler = (event:MouseEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.up();\n\t\t};\n\n\t\tprivate clickHandler = (event:MouseEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.click();\n\t\t};\n\n\t\t// --------------------------------------------------\n\t\t// Touch Event\n\n\t\tprivate touchStartHandler = (event:TouchEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.down();\n\t\t};\n\n\t\tprivate touchEndHandler = (event:TouchEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.up();\n\t\t\tthis.click();\n\t\t};\n\n\t\tprivate touchCancelHandler = (event:TouchEvent):void => {\n\t\t\tif (this.isPreventDefaultEnabled) event.preventDefault();\n\t\t\tif (this.isStopPropagationEnabled) event.stopPropagation();\n\t\t\tthis.up();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate target:IButton;\n\t\tprivate hitArea:HTMLElement;\n\t\tprivate isEnabled:boolean;\n\t\tprivate isOver:boolean;\n\t\tprivate isDown:boolean;\n\t\tprivate isOverInternal:boolean;\n\t\tprivate isDownInternal:boolean;\n\t\tprivate isPreventDefaultEnabled:boolean;\n\t\tprivate isStopPropagationEnabled:boolean;\n\t\tprivate isHoverCursorEnabled:boolean;\n\t\tprivate defaultMouseCursor:string;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.view {\n\n\texport class SelectionBehavior {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(target:ISelection) {\n\t\t\tthis.target = target;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic select(useTransition:boolean = true):void {\n\t\t\tif (this.isSelected) return;\n\t\t\tthis.isSelected = true;\n\t\t\tthis.target.implSelectionChanged(this.isSelected, useTransition);\n\t\t}\n\n\t\tpublic deselect(useTransition:boolean = true):void {\n\t\t\tif (!this.isSelected) return;\n\t\t\tthis.isSelected = false;\n\t\t\tthis.target.implSelectionChanged(this.isSelected, useTransition);\n\t\t}\n\n\t\tpublic getIsSelected():boolean {\n\t\t\treturn this.isSelected;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate target:ISelection;\n\t\tprivate isSelected:boolean;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.browser {\n\n\texport class DeviceInfo {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tconst u:string = window.navigator.userAgent.toLowerCase();\n\n\t\t\t// Device\n\t\t\tthis.isTablet = (u.indexOf('windows') != -1 && u.indexOf('touch') != -1)\n\t\t\t\t|| u.indexOf('ipad') != -1\n\t\t\t\t|| (u.indexOf('android') != -1 && u.indexOf('mobile') == -1)\n\t\t\t\t|| (u.indexOf('firefox') != -1 && u.indexOf('tablet') != -1)\n\t\t\t\t|| u.indexOf('kindle') != -1\n\t\t\t\t|| u.indexOf('silk') != -1\n\t\t\t\t|| u.indexOf('playbook') != -1;\n\n\t\t\tthis.isMobile = (u.indexOf('windows') != -1 && u.indexOf('phone') != -1)\n\t\t\t\t|| u.indexOf('iphone') != -1\n\t\t\t\t|| u.indexOf('ipod') != -1\n\t\t\t\t|| (u.indexOf('android') != -1 && u.indexOf('mobile') != -1)\n\t\t\t\t|| (u.indexOf('firefox') != -1 && u.indexOf('mobile') != -1)\n\t\t\t\t|| u.indexOf('blackberry') != -1;\n\n\t\t\tthis.isDesktop = !this.isTablet && !this.isMobile;\n\n\t\t\t// OS\n\t\t\tthis.isIOS = u.indexOf('ipad') != -1 || u.indexOf('iphone') != -1 || u.indexOf('ipod') != -1;\n\t\t\tthis.isAndroid = u.indexOf('android') != -1 && u.indexOf('mobile') != -1;\n\n\t\t\t// Browser\n\t\t\tif(u.indexOf('msie') != -1 || u.indexOf('trident') != -1) {\n\t\t\t\tthis.isIE = true;\n\t\t\t} else if(u.indexOf('edge') != -1) {\n\t\t\t\tthis.isEdge = true;\n\t\t\t} else if(u.indexOf('chrome') != -1) {\n\t\t\t\tthis.isChrome = true;\n\t\t\t} else if(u.indexOf('safari') != -1) {\n\t\t\t\tthis.isSafari = true;\n\t\t\t} else if(u.indexOf('firefox') != -1) {\n\t\t\t\tthis.isFireFox = true;\n\t\t\t} else if(u.indexOf('opera') != -1) {\n\t\t\t\tthis.isOpera = true;\n\t\t\t} else {\n\t\t\t\tthis.isUnknownBrowser = true;\n\t\t\t}\n\n\t\t\t// Function\n\t\t\tthis.isTouchEnabled = (typeof window.ontouchstart) !== 'undefined';\n\t\t\tthis.isDownloadEnabled = !this.isIOS;\n\n\t\t\t// Resolution\n\t\t\tthis.devicePixelRatio = window.devicePixelRatio;\n\t\t\tthis.isRetina = this.devicePixelRatio > 1;\n\t\t}\n\n\t\t// --------------------\n\t\t// Device\n\n\t\tpublic static getIsDesktop():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isDesktop;\n\t\t}\n\n\t\tpublic static getIsTablet():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isTablet;\n\t\t}\n\n\t\tpublic static getIsMobile():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isMobile;\n\t\t}\n\n\t\t// --------------------\n\t\t// OS\n\n\t\tpublic static getIsIOS():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isIOS;\n\t\t}\n\n\t\tpublic static getIsAndroid():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isAndroid;\n\t\t}\n\n\t\t// --------------------\n\t\t// Browser\n\n\t\tpublic static getIsIE():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isIE;\n\t\t}\n\n\t\tpublic static getIsEdge():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isEdge;\n\t\t}\n\n\t\tpublic static getIsChrome():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isChrome;\n\t\t}\n\n\t\tpublic static getIsSafari():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isSafari;\n\t\t}\n\n\t\tpublic static getIsFireFox():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isFireFox;\n\t\t}\n\n\t\tpublic static getIsOpera():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isOpera;\n\t\t}\n\n\t\tpublic static getIsUnknownBrowser():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isUnknownBrowser;\n\t\t}\n\n\t\t// --------------------\n\t\t// Function\n\n\t\tpublic static getIsTouchEnabled():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isTouchEnabled;\n\t\t}\n\n\t\tpublic static getIsDownloadEnabled():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isDownloadEnabled;\n\t\t}\n\n\t\t// --------------------\n\t\t// Resolution\n\n\t\tpublic static getIsRetina():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isRetina;\n\t\t}\n\n\t\tpublic static getDevicePixelRatio():number {\n\t\t\tthis.initialize();\n\t\t\treturn this.devicePixelRatio;\n\t\t}\n\n\t\tpublic static getDpi():number {\n\t\t\tif (this.dpi == -1) {\n\t\t\t\tconst div:HTMLElement = document.createElement('div');\n\t\t\t\tdiv.setAttribute('style', 'height:1in;left:-100%;top:-100%;position:absolute;width:1in;');\n\t\t\t\tdocument.body.appendChild(div);\n\t\t\t\tthis.dpi = div.offsetHeight;\n\t\t\t\tdocument.body.removeChild(div);\n\t\t\t}\n\t\t\treturn this.dpi;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static isDesktop:boolean = false;\n\t\tprivate static isTablet:boolean = false;\n\t\tprivate static isMobile:boolean = false;\n\n\t\tprivate static isIOS:boolean = false;\n\t\tprivate static isAndroid:boolean = false;\n\n\t\tprivate static isIE:boolean = false;\n\t\tprivate static isEdge:boolean = false;\n\t\tprivate static isChrome:boolean = false;\n\t\tprivate static isSafari:boolean = false;\n\t\tprivate static isFireFox:boolean = false;\n\t\tprivate static isOpera:boolean = false;\n\t\tprivate static isUnknownBrowser:boolean = false;\n\n\t\tprivate static isTouchEnabled:boolean = false;\n\t\tprivate static isDownloadEnabled:boolean = false;\n\n\t\tprivate static isRetina:boolean = false;\n\t\tprivate static devicePixelRatio:number = 1;\n\t\tprivate static dpi:number = -1;\n\n\t\tprivate static isInitialized:boolean = false;\n\n\n\n\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.browser {\n\n\timport Time = alm.util.Time;\n\n\texport class LocalStorage {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\t/**\n\t\t * Cookie\n\t\t * @param key \n\t\t * @param value \n\t\t * @param expiredAt UNIX\n\t\t * @returns {boolean} true\n\t\t */\n\t\tpublic static save(key:string, value:any, expiredAt:number = -1):boolean {\n\t\t\tif (!LocalStorage.isAvailable()) return false;\n\t\t\tconst record:{ value:string; expiredAt:number } = { value:JSON.stringify(value), expiredAt: expiredAt };\n\t\t\tlocalStorage.setItem(key, JSON.stringify(record));\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * LocalStorage\n\t\t * @param key \n\t\t * @param value \n\t\t * @param minutes \n\t\t * @returns {boolean} true\n\t\t */\n\t\tpublic static saveWithTerm(key:string, value:any, milliseconds:number = -1):boolean {\n\t\t\tconst expiredAt:number = milliseconds > 0 ? Time.now() + milliseconds : -1;\n\t\t\treturn LocalStorage.save(key, value, expiredAt);\n\t\t}\n\n\t\t/**\n\t\t * LocalStorage\n\t\t * @param key \n\t\t * @returns {any} \n\t\t */\n\t\tpublic static load(key:string, defaultValue:any = null):any {\n\t\t\tif (!LocalStorage.isAvailable()) return defaultValue;\n\t\t\tconst record:{ value:string; expiredAt:number } = JSON.parse(localStorage.getItem(key));\n\t\t\tif (record) {\n\t\t\t\t// \n\t\t\t\tif (record.expiredAt > 0) {\n\t\t\t\t\t// \n\t\t\t\t\tif (Time.now() < record.expiredAt) {\n\t\t\t\t\t\t// \n\t\t\t\t\t\treturn JSON.parse(record.value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// \n\t\t\t\t\t\tlocalStorage.removeItem(key);\n\t\t\t\t\t\treturn defaultValue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// \n\t\t\t\t\treturn JSON.parse(record.value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// \n\t\t\t\treturn defaultValue;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * LocalStorage\n\t\t * @param key \n\t\t */\n\t\tpublic static remove(key:string):void {\n\t\t\tif (!LocalStorage.isAvailable()) return;\n\t\t\tlocalStorage.removeItem(key);\n\t\t}\n\n\t\t/**\n\t\t * LocalStorage\n\t\t * @returns {boolean} true\n\t\t */\n\t\tpublic static isAvailable():boolean {\n\t\t\tif (LocalStorage.isAvailable_ == null) {\n\t\t\t\ttry {\n\t\t\t\t\tlocalStorage.setItem('__CKECK__', '__CKECK__');\n\t\t\t\t\tlocalStorage.removeItem('__CKECK__');\n\t\t\t\t\tLocalStorage.isAvailable_ = true;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tLocalStorage.isAvailable_ = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn LocalStorage.isAvailable_;\n\t\t}\n\n\t\t/**\n\t\t * \n\t\t * @param dates \n\t\t * @param hours \n\t\t * @param minutes \n\t\t * @param seconds \n\t\t * @param milliseconds \n\t\t * @returns {number} \n\t\t */\n\t\tpublic static toMilliseconds(dates:number = 0, hours:number = 0, minutes:number = 0, seconds:number = 0, milliseconds:number = 0):number {\n\t\t\treturn milliseconds + (seconds + (minutes + (hours + dates * 24) * 60) * 60) * 1000;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static isAvailable_:boolean = null;\n\n\n\n\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.browser {\n\n\t// https://github.com/nfriend/ts-keycode-enum\n\texport enum KeyCode {\n\t\tBackspace = 8,\n\t\tTab = 9,\n\t\tEnter = 13,\n\t\tShift = 16,\n\t\tCtrl = 17,\n\t\tAlt = 18,\n\t\tPauseBreak = 19,\n\t\tCapsLock = 20,\n\t\tEscape = 27,\n\t\tSpace = 32,\n\t\tPageUp = 33,\n\t\tPageDown = 34,\n\t\tEnd = 35,\n\t\tHome = 36,\n\n\t\tLeftArrow = 37,\n\t\tUpArrow = 38,\n\t\tRightArrow = 39,\n\t\tDownArrow = 40,\n\n\t\tInsert = 45,\n\t\tDelete = 46,\n\n\t\tKey0 = 48,\n\t\tKey1 = 49,\n\t\tKey2 = 50,\n\t\tKey3 = 51,\n\t\tKey4 = 52,\n\t\tKey5 = 53,\n\t\tKey6 = 54,\n\t\tKey7 = 55,\n\t\tKey8 = 56,\n\t\tKey9 = 57,\n\n\t\tClosedParen = Key0,\n\t\tExclamationMark = Key1,\n\t\tAtSign = Key2,\n\t\tPoundSign = Key3,\n\t\tHash = PoundSign,\n\t\tDollarSign = Key4,\n\t\tPercentSign = Key5,\n\t\tCaret = Key6,\n\t\tHat = Caret,\n\t\tAmpersand = Key7,\n\t\tStar = Key8,\n\t\tAsterik = Star,\n\t\tOpenParen = Key9,\n\n\t\tA = 65,\n\t\tB = 66,\n\t\tC = 67,\n\t\tD = 68,\n\t\tE = 69,\n\t\tF = 70,\n\t\tG = 71,\n\t\tH = 72,\n\t\tI = 73,\n\t\tJ = 74,\n\t\tK = 75,\n\t\tL = 76,\n\t\tM = 77,\n\t\tN = 78,\n\t\tO = 79,\n\t\tP = 80,\n\t\tQ = 81,\n\t\tR = 82,\n\t\tS = 83,\n\t\tT = 84,\n\t\tU = 85,\n\t\tV = 86,\n\t\tW = 87,\n\t\tX = 88,\n\t\tY = 89,\n\t\tZ = 90,\n\n\t\tLeftWindowKey = 91,\n\t\tRightWindowKey = 92,\n\t\tSelectKey = 93,\n\n\t\tNumpad0 = 96,\n\t\tNumpad1 = 97,\n\t\tNumpad2 = 98,\n\t\tNumpad3 = 99,\n\t\tNumpad4 = 100,\n\t\tNumpad5 = 101,\n\t\tNumpad6 = 102,\n\t\tNumpad7 = 103,\n\t\tNumpad8 = 104,\n\t\tNumpad9 = 105,\n\n\t\tMultiply = 106,\n\t\tAdd = 107,\n\t\tSubtract = 109,\n\t\tDecimalPoint = 110,\n\t\tDivide = 111,\n\n\t\tF1 = 112,\n\t\tF2 = 113,\n\t\tF3 = 114,\n\t\tF4 = 115,\n\t\tF5 = 116,\n\t\tF6 = 117,\n\t\tF7 = 118,\n\t\tF8 = 119,\n\t\tF9 = 120,\n\t\tF10 = 121,\n\t\tF11 = 122,\n\t\tF12 = 123,\n\n\t\tNumLock = 144,\n\t\tScrollLock = 145,\n\n\t\tSemiColon = 186,\n\t\tEquals = 187,\n\t\tComma = 188,\n\t\tDash = 189,\n\t\tPeriod = 190,\n\t\tUnderScore = Dash,\n\t\tPlusSign = Equals,\n\t\tForwardSlash = 191,\n\t\tTilde = 192,\n\t\tGraveAccent = Tilde,\n\n\t\tOpenBracket = 219,\n\t\tClosedBracket = 221,\n\t\tQuote = 222\n\t}\n\n\n\n\n\n\texport class KeyWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new alm.event.EventDispatcher();\n\t\t}\n\n\t\tpublic static start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace('[KeyWatcher] start');\n\n\t\t\twindow.addEventListener('keydown', this.windowKeyDownHandler);\n\t\t\twindow.addEventListener('keyup', this.windowKeyUpHandler);\n\t\t}\n\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace('[KeyWatcher] stop');\n\n\t\t\twindow.removeEventListener('keydown', this.windowKeyDownHandler);\n\t\t\twindow.removeEventListener('keyup', this.windowKeyUpHandler);\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:KeyWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:KeyWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener);\n\t\t}\n\n\n\n\n\n\t\tprivate static windowKeyDownHandler = (event:KeyboardEvent):void => {\n\t\t\tconst keyCode:number = event.keyCode;\n\t\t\tif (KeyWatcher.isKeyPressedByKeyCode[keyCode] == null) {\n\t\t\t\tKeyWatcher.isKeyPressedByKeyCode[keyCode] = true;\n\t\t\t\t++KeyWatcher.pressedKeyCount;\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_DOWN, KeyWatcher, event));\n\t\t\t} else if (KeyWatcher.isContinuousPressEnabled) {\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_DOWN, KeyWatcher, event));\n\t\t\t}\n\t\t};\n\n\t\tprivate static windowKeyUpHandler = (event:KeyboardEvent):void => {\n\t\t\tconst keyCode:number = event.keyCode;\n\t\t\tif (KeyWatcher.isKeyPressedByKeyCode[keyCode] != null) {\n\t\t\t\tdelete KeyWatcher.isKeyPressedByKeyCode[keyCode];\n\t\t\t\t--KeyWatcher.pressedKeyCount;\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_UP, KeyWatcher, event));\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getIsAnyKeyPressed():boolean { return this.pressedKeyCount > 0; }\n\t\tprivate static pressedKeyCount:number = 0;\n\n\t\tpublic static getIsKeyPressed(keyCode:number):boolean { return this.isKeyPressedByKeyCode[keyCode] != null; }\n\t\tprivate static isKeyPressedByKeyCode:util.Hash<boolean> = {};\n\n\n\t\tpublic static getIsContinuousPressEnabled():boolean { return this.isContinuousPressEnabled; }\n\t\tpublic static setIsContinuousPressEnabled(enabled:boolean):void { this.isContinuousPressEnabled = enabled; }\n\t\tprivate static isContinuousPressEnabled:boolean = false;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static isLongPressed:boolean = false;\n\t\tprivate static eventDispatcher:alm.event.EventDispatcher = null;\n\n\n\n\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.browser {\n\n\texport class KeyWatcherEvent extends alm.event.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic KEY_UP:string = 'keyUp';\n\t\tstatic KEY_DOWN:string = 'keyDown';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, originalEvent:KeyboardEvent = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.originalEvent = originalEvent;\n\t\t\tthis.key = this.originalEvent.key;\n\t\t\tthis.keyCode = this.originalEvent.keyCode;\n\t\t\tthis.altKey = this.originalEvent.altKey;\n\t\t\tthis.ctrlKey = this.originalEvent.ctrlKey;\n\t\t\tthis.shiftKey = this.originalEvent.shiftKey;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():KeyWatcherEvent {\n\t\t\treturn new KeyWatcherEvent(this.getType(), this.getTarget(), this.originalEvent);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[KeyWatcherEvent] type = ' + this.getType() + ', key = ' + this.key + ', keyCode = ' + this.keyCode + ', altKey = ' + this.altKey + ', ctrlKey = ' + this.ctrlKey + ', shiftKey = ' + this.shiftKey;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly originalEvent:KeyboardEvent;\n\t\tpublic readonly key:string;\n\t\tpublic readonly keyCode:number;\n\t\tpublic readonly altKey:boolean;\n\t\tpublic readonly ctrlKey:boolean;\n\t\tpublic readonly shiftKey:boolean;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.browser {\n\n\texport class WindowWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new alm.event.EventDispatcher();\n\t\t}\n\n\t\tpublic static start(target:Window = null):void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace('[WindowWatcher] start');\n\n\t\t\tthis.window = target || window;\n\n\t\t\tthis.window.addEventListener('resize', this.windowResizeHandler);\n\t\t\tthis.window.addEventListener('orientationchange', this.windowResizeHandler);\n\t\t\tthis.window.addEventListener('scroll', this.windowScrollHandler);\n\t\t\tthis.apply();\n\t\t}\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace('[WindowWatcher] stop');\n\n\t\t\tthis.window.removeEventListener('resize', this.windowResizeHandler);\n\t\t\tthis.window.removeEventListener('orientationchange', this.windowResizeHandler);\n\t\t\tthis.window.removeEventListener('scroll', this.windowScrollHandler);\n\t\t}\n\n\t\tpublic static apply():void {\n\t\t\tthis.windowWidth = this.window.innerWidth;\n\t\t\tthis.windowHeight = this.window.innerHeight;\n\n\t\t\tthis.scrollTop = (this.window.pageYOffset !== undefined) ? this.window.pageYOffset : document.documentElement.scrollTop;\n\t\t\tthis.scrollBottom = this.scrollTop + this.windowHeight;\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:WindowWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:WindowWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener);\n\t\t}\n\n\t\tpublic static calcScrolledPosition(y:number):number {\n\t\t\treturn y - this.scrollTop;\n\t\t};\n\n\t\tpublic static calcScrolledPositionRatio(y:number):number {\n\t\t\treturn this.calcScrolledPosition(y) / this.windowHeight;\n\t\t}\n\n\t\tprivate static resize(event:Event):void {\n\t\t\tWindowWatcher.apply();\n\t\t\tWindowWatcher.eventDispatcher.dispatchEvent(new WindowWatcherEvent(WindowWatcherEvent.RESIZE, WindowWatcher, event, WindowWatcher.scrollTop, WindowWatcher.scrollBottom, WindowWatcher.windowWidth, WindowWatcher.windowHeight));\n\t\t};\n\n\n\n\n\n\t\tprivate static windowResizeHandler = (event:Event):void => {\n\t\t\tif (!DeviceInfo.getIsDesktop() && WindowWatcher.isMobileOrientationResize) return;\n\t\t\ttrace('[WindowWatcher] resize by window.resize');\n\t\t\tWindowWatcher.resize(event);\n\t\t};\n\n\t\tprivate static windowOrientationChangeHandler = (event:Event):void => {\n\t\t\tif (DeviceInfo.getIsDesktop() || !WindowWatcher.isMobileOrientationResize) return;\n\t\t\ttrace('[WindowWatcher] resize by window.orientationchange');\n\t\t\tWindowWatcher.resize(event);\n\t\t};\n\n\t\tprivate static windowScrollHandler = (event:Event):void => {\n\t\t\tWindowWatcher.apply();\n\t\t\tWindowWatcher.eventDispatcher.dispatchEvent(new WindowWatcherEvent(WindowWatcherEvent.SCROLL, WindowWatcher, event, WindowWatcher.scrollTop, WindowWatcher.scrollBottom, WindowWatcher.windowWidth, WindowWatcher.windowHeight));\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getWindow():Window { return this.window; }\n\t\tprivate static window:Window = null;\n\n\t\tpublic static getScrollTop():number { return this.scrollTop; }\n\t\tprivate static scrollTop:number;\n\n\t\tpublic static getScrollBottom():number { return this.scrollBottom; }\n\t\tprivate static scrollBottom:number;\n\n\t\tpublic static getWindowWidth():number { return this.windowWidth; }\n\t\tprivate static windowWidth:number = 0;\n\n\t\tpublic static getWindowHeight():number { return this.windowHeight; }\n\t\tprivate static windowHeight:number = 0;\n\n\t\tpublic static getIsMobileOrientationResize():boolean { return this.isMobileOrientationResize; }\n\t\tpublic static setIsMobileOrientationResize(value:boolean):void { this.isMobileOrientationResize = value; }\n\t\tprivate static isMobileOrientationResize:boolean = true;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static eventDispatcher:alm.event.EventDispatcher = null;\n\n\n\n\n\n\t\tprivate constructor() {}\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.browser {\n\n\texport class WindowWatcherEvent extends alm.event.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic SCROLL:string = 'scroll';\n\t\tstatic RESIZE:string = 'resize';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, originalEvent:Event = null, scrollTop:number = 0, scrollBottom:number = 0, windowWidth:number = 0, windowHeight:number = 0) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.originalEvent = originalEvent;\n\t\t\tthis.scrollTop = scrollTop;\n\t\t\tthis.scrollBottom = scrollBottom;\n\t\t\tthis.windowWidth = windowWidth;\n\t\t\tthis.windowHeight = windowHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():WindowWatcherEvent {\n\t\t\treturn new WindowWatcherEvent(this.getType(), this.getTarget(), this.originalEvent, this.scrollTop, this.scrollBottom, this.windowWidth, this.windowHeight);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[WindowWatcherEvent] type = ' + this.getType() + ', scrollTop = ' + this.scrollTop + ', scrollBottom = ' + this.scrollBottom + ', windowWidth = ' + this.windowWidth + ', windowHeight = ' + this.windowHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly originalEvent:Event;\n\t\tpublic readonly scrollTop:number;\n\t\tpublic readonly scrollBottom:number;\n\t\tpublic readonly windowWidth:number;\n\t\tpublic readonly windowHeight:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.browser {\n\n\texport class ScrollSectionTriggerEvent extends alm.event.Event {\n\n\t\tpublic static CHANGE:string = 'ScrollSectionTriggerEvent.CHANGE';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, target:object, currentSectionIndex:number, prevSectionIndex:number) {\n\t\t\tsuper(eventType, target);\n\n\t\t\tthis.currentSectionIndex = currentSectionIndex;\n\t\t\tthis.prevSectionIndex = prevSectionIndex;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly currentSectionIndex:number;\n\t\tpublic readonly prevSectionIndex:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.browser {\n\n\timport Logger = alm.debug.Logger;\n\timport WindowWatcher = alm.browser.WindowWatcher;\n\timport WindowWatcherEvent = alm.browser.WindowWatcherEvent;\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class ScrollSectionTrigger extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(threshold:number = 0.5) {\n\t\t\tsuper();\n\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.scrollPosition = null;\n\t\t\tthis.triggerPositions = [];\n\t\t\tthis.thresholdRatio = threshold;\n\t\t\tthis.thresholdPosition = null;\n\n\t\t\tthis.currentSectionIndex = -1;\n\t\t\tthis.prevSectionIndex = -1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tWindowWatcher.addEventListener(WindowWatcherEvent.SCROLL, this.windowScrollHandler);\n\t\t\tWindowWatcher.addEventListener(WindowWatcherEvent.RESIZE, this.windowResizeHandler);\n\t\t\tWindowWatcher.start();\n\n\t\t\tthis.updateThresholdPosition();\n\t\t\tthis.updateScrollPosition();\n\t\t\tthis.check();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tWindowWatcher.removeEventListener(WindowWatcherEvent.SCROLL, this.windowScrollHandler);\n\t\t\tWindowWatcher.removeEventListener(WindowWatcherEvent.RESIZE, this.windowResizeHandler);\n\t\t\tWindowWatcher.stop();\n\t\t}\n\n\t\tpublic getIsRunning():boolean {\n\t\t\treturn this.isRunning;\n\t\t}\n\n\t\tpublic getCurrentIndex():number {\n\t\t\treturn this.currentSectionIndex;\n\t\t}\n\n\t\tpublic getPrevIndex():number {\n\t\t\treturn this.prevSectionIndex;\n\t\t}\n\n\t\tpublic getTriggerPositions():number[] {\n\t\t\treturn this.triggerPositions.concat();\n\t\t}\n\n\t\tpublic setTriggerPositions(positions:number[]):void {\n\t\t\tthis.triggerPositions = positions.concat();\n\t\t\tthis.triggerPositions.sort((a, b):number => { return a - b; });\n\t\t\tif (this.isRunning) {\n\t\t\t\tthis.check();\n\t\t\t}\n\t\t}\n\n\t\tpublic getThreshold():number {\n\t\t\treturn this.thresholdRatio;\n\t\t}\n\n\t\tpublic setThreshold(ratio:number):void {\n\t\t\tthis.thresholdRatio = ratio;\n\t\t\tthis.updateThresholdPosition();\n\t\t\tif (this.isRunning) {\n\t\t\t\tthis.check();\n\t\t\t}\n\t\t}\n\n\t\tprivate check():void {\n\t\t\tif (this.scrollPosition == null) {\n\t\t\t\tLogger.warn('[RangeTrigger] current position is need set');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet nearestTriggerIndex = -1;\n\t\t\tlet nearestScrolledTriggerPosition = -1;\n\t\t\tlet nearestDistance:number = Number.MAX_VALUE;\n\t\t\tconst triggerPositionCount = this.triggerPositions.length;\n\t\t\tfor (let i = 0; i < triggerPositionCount; ++i) {\n\t\t\t\tconst scrolledTriggerPosition = this.triggerPositions[i] - this.scrollPosition;\n\t\t\t\tconst distance = Math.abs(scrolledTriggerPosition - this.thresholdPosition);\n\t\t\t\tif (distance < nearestDistance) {\n\t\t\t\t\tnearestDistance = distance;\n\t\t\t\t\tnearestTriggerIndex = i;\n\t\t\t\t\tnearestScrolledTriggerPosition = scrolledTriggerPosition;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (nearestTriggerIndex >= 0) {\n\t\t\t\tlet sectionIndex = -1;\n\t\t\t\tif (nearestScrolledTriggerPosition > this.thresholdPosition) {\n\t\t\t\t\tsectionIndex = nearestTriggerIndex;\n\t\t\t\t} else {\n\t\t\t\t\tsectionIndex = nearestTriggerIndex + 1;\n\t\t\t\t}\n\n\t\t\t\tif (this.currentSectionIndex != sectionIndex) {\n\t\t\t\t\tthis.prevSectionIndex = this.currentSectionIndex;\n\t\t\t\t\tthis.currentSectionIndex = sectionIndex;\n\t\t\t\t\tthis.dispatchEvent(new ScrollSectionTriggerEvent(ScrollSectionTriggerEvent.CHANGE, this, this.currentSectionIndex, this.prevSectionIndex));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate updateThresholdPosition():void {\n\t\t\tthis.thresholdPosition = WindowWatcher.getWindowHeight() * this.thresholdRatio;\n\t\t}\n\n\t\tprivate updateScrollPosition():void {\n\t\t\tthis.scrollPosition = WindowWatcher.getScrollTop();\n\t\t}\n\n\t\tprivate windowScrollHandler = (event:WindowWatcherEvent):void => {\n\t\t\tthis.updateScrollPosition();\n\t\t\tthis.check();\n\t\t};\n\n\t\tprivate windowResizeHandler = (event:WindowWatcherEvent):void => {\n\t\t\tthis.updateThresholdPosition();\n\t\t\tthis.updateScrollPosition();\n\t\t\tthis.check();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate isRunning:boolean;\n\n\t\tprivate scrollPosition:number;\n\t\tprivate triggerPositions:number[];\n\t\tprivate thresholdRatio:number;\n\t\tprivate thresholdPosition:number;\n\n\t\tprivate currentSectionIndex:number;\n\t\tprivate prevSectionIndex:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.browser {\n\n\timport WindowWatcher = alm.browser.WindowWatcher;\n\timport WindowWatcherEvent = alm.browser.WindowWatcherEvent;\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class ResponsiveObserver extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\n\t\t\tthis.breakPoints = [];\n\t\t\tthis.breakPointCount = 0;\n\n\t\t\tthis.currentIndex = -1;\n\t\t\tthis.prevIndex = -1;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tWindowWatcher.addEventListener(WindowWatcherEvent.RESIZE, this.windowResizeHandler);\n\t\t\tWindowWatcher.start();\n\n\t\t\tthis.check();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tWindowWatcher.removeEventListener(WindowWatcherEvent.RESIZE, this.windowResizeHandler);\n\t\t\tWindowWatcher.stop();\n\t\t}\n\n\t\tpublic setBreakpoints(breakPoints:number[]):void {\n\t\t\tthis.breakPoints = breakPoints.concat();\n\t\t\tthis.breakPointCount = this.breakPoints.length;\n\t\t\tthis.breakPoints.sort((a, b):number => { return a - b; });\n\t\t\tif (this.isRunning) {\n\t\t\t\tthis.check();\n\t\t\t}\n\t\t}\n\n\t\tpublic getIsRunning():boolean {\n\t\t\treturn this.isRunning;\n\t\t}\n\n\t\tpublic getCurrentIndex():number {\n\t\t\treturn this.currentIndex;\n\t\t}\n\n\t\tpublic getPrevIndex():number {\n\t\t\treturn this.prevIndex;\n\t\t}\n\n\t\tpublic getBreakPoints():number[] {\n\t\t\treturn this.breakPoints.concat();\n\t\t}\n\n\t\tpublic getBreakPointCount():number {\n\t\t\treturn this.breakPointCount;\n\t\t}\n\n\t\tprivate check():void {\n\t\t\tconst windowWidth = WindowWatcher.getWindowWidth();\n\t\t\tlet index;\n\t\t\tfor (index = 0; index < this.breakPointCount; ++index) {\n\t\t\t\tif (windowWidth <= this.breakPoints[index]) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.currentIndex == index) return;\n\t\t\tthis.prevIndex = this.currentIndex;\n\t\t\tthis.currentIndex = index;\n\t\t\ttrace('[ResponsiveObserver] switch index :', this.prevIndex, '->', this.currentIndex, ', window width =', windowWidth);\n\n\t\t\tthis.dispatchEvent(new ResponsiveObserverEvent(ResponsiveObserverEvent.CHANGE, this, this.currentIndex, this.prevIndex));\n\t\t}\n\n\t\tprivate windowResizeHandler = (event:WindowWatcherEvent):void => {\n\t\t\tthis.check();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate isRunning:boolean;\n\n\t\tprivate breakPoints:number[];\n\t\tprivate breakPointCount:number;\n\n\t\tprivate currentIndex:number;\n\t\tprivate prevIndex:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.browser {\n\n\texport class ResponsiveObserverEvent extends alm.event.Event {\n\n\t\tpublic static CHANGE:string = 'ResponsiveObserverEvent.CHANGE';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, target:object, currentIndex:number, prevIndex:number) {\n\t\t\tsuper(eventType, target);\n\n\t\t\tthis.currentIndex = currentIndex;\n\t\t\tthis.prevIndex = prevIndex;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic readonly currentIndex:number;\n\t\tpublic readonly prevIndex:number;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace scn {\n\n\timport Logger = alm.debug.Logger;\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class Scene extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(name:string) {\n\t\t\tsuper();\n\t\t\tthis.name = name;\n\t\t\tthis.state = SceneState.Idling;\n\t\t\tthis.parent = null;\n\t\t\tthis.childrenByName = {};\n\t\t\tthis.numChildren = 0;\n\t\t\tthis.isEntered = false;\n\t\t\tthis.onLoad = null;\n\t\t\tthis.onUnload = null;\n\t\t\tthis.onArrive = null;\n\t\t\tthis.onLeave = null;\n\t\t\tthis.onAscend = null;\n\t\t\tthis.onDescend = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic addChild(child:Scene):Scene {\n\t\t\tif (child) {\n\t\t\t\tconst childName:string = child.name;\n\t\t\t\tif (this.childrenByName[childName]) {\n\t\t\t\t\tLogger.warn('[Scene \\'' + this.name + '\\'] addChild was failed, because child name \\'' + childName + '\\' is already contained.');\n\t\t\t\t} else {\n\t\t\t\t\t++this.numChildren;\n\t\t\t\t\tchild.parent = this;\n\t\t\t\t\tthis.childrenByName[childName] = child;\n\t\t\t\t\treturn child;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tLogger.warn('[Scene \\'' + this.name + '\\'] addChild was failed, because child is null.');\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic removeChild(child:Scene):Scene {\n\t\t\tif (child) {\n\t\t\t\tconst childName:string = child.name;\n\t\t\t\tif (this.childrenByName[childName]) {\n\t\t\t\t\t--this.numChildren;\n\t\t\t\t\tchild.parent = null;\n\t\t\t\t\tdelete this.childrenByName[childName];\n\t\t\t\t\treturn child;\n\t\t\t\t} else {\n\t\t\t\t\tLogger.warn('[Scene \\'' + this.name + '\\'] removeChild was failed, because child name \\'' + childName + '\\' is not contained.');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tLogger.warn('[Scene \\'' + this.name + '\\'] removeChild was failed, because child is null.');\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic addChildren(children:Scene[]):Scene[] {\n\t\t\tconst addedChildren:Scene[] = [];\n\t\t\tconst n:number = children.length;\n\t\t\tlet c:Scene;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tc = this.addChild(children[i]);\n\t\t\t\tif (c) {\n\t\t\t\t\taddedChildren.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn addedChildren;\n\t\t}\n\n\t\tpublic removeChildren(children:Scene[]):Scene[] {\n\t\t\tconst removedChildren:Scene[] = [];\n\t\t\tconst n:number = children.length;\n\t\t\tlet c:Scene;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tc = this.removeChild(children[i]);\n\t\t\t\tif (c) {\n\t\t\t\t\tremovedChildren.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn removedChildren;\n\t\t}\n\n\t\tpublic removeAllChildren():Scene[] {\n\t\t\tconst children:Scene[] = [];\n\t\t\tlet child:Scene;\n\t\t\tfor (let name in this.childrenByName) {\n\t\t\t\tchild = this.childrenByName[name];\n\t\t\t\tchild.parent = null;\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\t\t\tthis.childrenByName = {};\n\t\t\tthis.numChildren = 0;\n\t\t\treturn children;\n\t\t}\n\n\t\tpublic contains(child:Scene|string):boolean {\n\t\t\tif (child) {\n\t\t\t\treturn this.childrenByName[typeof child == 'string' ? child : child.name] != null;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tpublic getName():string {\n\t\t\treturn this.name;\n\t\t}\n\n\t\tpublic getState():SceneState {\n\t\t\treturn this.state;\n\t\t}\n\n\t\tpublic getLastState():SceneState {\n\t\t\treturn this.lastState;\n\t\t}\n\n\t\tpublic getParent():Scene {\n\t\t\treturn this.parent;\n\t\t}\n\n\t\tpublic getChildByName(name:string):Scene {\n\t\t\treturn this.childrenByName[name];\n\t\t}\n\n\t\tpublic getNumChildren():number {\n\t\t\treturn this.numChildren;\n\t\t}\n\n\t\tpublic getManager():SceneManager {\n\t\t\tif (this.parent) {\n\t\t\t\treturn this.parent.getManager();\n\t\t\t} else {\n\t\t\t\tLogger.warn('[Scene \\'' + this.name + '\\'] getManager was failed, check whether if scene is connected to root.');\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic getPath():string {\n\t\t\tconst manager:SceneManager = this.getManager();\n\t\t\tif (manager) {\n\t\t\t\tconst names:string[] = [this.name];\n\t\t\t\tlet scene:Scene = this;\n\t\t\t\twhile (scene = scene.parent) {\n\t\t\t\t\tnames.unshift(scene.name);\n\t\t\t\t}\n\t\t\t\treturn manager.getScenePathByNames(names);\n\t\t\t} else {\n\t\t\t\tLogger.warn('[Scene \\'' + this.name + '\\'] getPath was failed, check whether if scene is connected to root.');\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic gotoScene(path:string):void {\n\t\t\tthis.getManager().goto(path);\n\t\t}\n\n\n\n\n\n\t\tpublic _load(transferInfo:SceneTransferInfo):void {\n\t\t\tthis.transferInfo = transferInfo;\n\t\t\tthis.state = SceneState.Loading;\n\t\t\tthis.isEntered = true;\n\t\t\tconst command:cmd.Serial = new cmd.Serial(\n\t\t\t\t():void => {\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.LOAD, this));\n\t\t\t\t\tconst c:cmd.Command = typeof(this.onLoad) == 'function' ? this.onLoad() : this.implOnLoad();\n\t\t\t\t\tif (c) command.insertCommand(c);\n\t\t\t\t},\n\t\t\t\t():void => {\n\t\t\t\t\tthis.lastState = this.state;\n\t\t\t\t\tthis.state = SceneState.Idling;\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.LOAD_COMPLETE, this));\n\t\t\t\t}\n\t\t\t);\n\t\t\tcommand.execute();\n\t\t}\n\n\t\tpublic _unload(transferInfo:SceneTransferInfo):void {\n\t\t\tthis.transferInfo = transferInfo;\n\t\t\tthis.state = SceneState.Unloading;\n\t\t\tthis.isEntered = false;\n\t\t\tconst command:cmd.Serial = new cmd.Serial(\n\t\t\t\t():void => {\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.UNLOAD, this));\n\t\t\t\t\tconst c:cmd.Command = typeof(this.onUnload) == 'function' ? this.onUnload() : this.implOnUnload();\n\t\t\t\t\tif (c) command.insertCommand(c);\n\t\t\t\t},\n\t\t\t\t():void => {\n\t\t\t\t\tthis.lastState = this.state;\n\t\t\t\t\tthis.state = SceneState.Idling;\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.UNLOAD_COMPLETE, this));\n\t\t\t\t}\n\t\t\t);\n\t\t\tcommand.execute();\n\t\t}\n\n\t\tpublic _arrive(transferInfo:SceneTransferInfo):void {\n\t\t\tthis.transferInfo = transferInfo;\n\t\t\tthis.state = SceneState.Arriving;\n\t\t\tthis.isEntered = true;\n\t\t\tconst command:cmd.Serial = new cmd.Serial(\n\t\t\t\t():void => {\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.ARRIVE, this));\n\t\t\t\t\tconst c:cmd.Command = typeof(this.onArrive) == 'function' ? this.onArrive() : this.implOnArrive();\n\t\t\t\t\tif (c) command.insertCommand(c);\n\t\t\t\t},\n\t\t\t\t():void => {\n\t\t\t\t\tthis.lastState = this.state;\n\t\t\t\t\tthis.state = SceneState.Idling;\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.ARRIVE_COMPLETE, this));\n\t\t\t\t}\n\t\t\t);\n\t\t\tcommand.execute();\n\t\t}\n\n\t\tpublic _leave(transferInfo:SceneTransferInfo):void {\n\t\t\tthis.transferInfo = transferInfo;\n\t\t\tthis.state = SceneState.Leaving;\n\t\t\tthis.isEntered = false;\n\t\t\tconst command:cmd.Serial = new cmd.Serial(\n\t\t\t\t():void => {\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.LEAVE, this));\n\t\t\t\t\tconst c:cmd.Command = typeof(this.onLeave) == 'function' ? this.onLeave() : this.implOnLeave();\n\t\t\t\t\tif (c) command.insertCommand(c);\n\t\t\t\t},\n\t\t\t\t():void => {\n\t\t\t\t\tthis.lastState = this.state;\n\t\t\t\t\tthis.state = SceneState.Idling;\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.LEAVE_COMPLETE, this));\n\t\t\t\t}\n\t\t\t);\n\t\t\tcommand.execute();\n\t\t}\n\n\t\tpublic _ascend(transferInfo:SceneTransferInfo):void {\n\t\t\tthis.transferInfo = transferInfo;\n\t\t\tthis.state = SceneState.Ascending;\n\t\t\tthis.isEntered = true;\n\t\t\tconst command:cmd.Serial = new cmd.Serial(\n\t\t\t\t():void => {\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.ASCEND, this));\n\t\t\t\t\tconst c:cmd.Command = typeof(this.onAscend) == 'function' ? this.onAscend() : this.implOnAscend();\n\t\t\t\t\tif (c) command.insertCommand(c);\n\t\t\t\t},\n\t\t\t\t():void => {\n\t\t\t\t\tthis.lastState = this.state;\n\t\t\t\t\tthis.state = SceneState.Idling;\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.ASCEND_COMPLETE, this));\n\t\t\t\t}\n\t\t\t);\n\t\t\tcommand.execute();\n\t\t}\n\n\t\tpublic _descend(transferInfo:SceneTransferInfo):void {\n\t\t\tthis.transferInfo = transferInfo;\n\t\t\tthis.state = SceneState.Descending;\n\t\t\tthis.isEntered = false;\n\t\t\tconst command:cmd.Serial = new cmd.Serial(\n\t\t\t\t():void => {\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.DESCEND, this));\n\t\t\t\t\tconst c:cmd.Command = typeof(this.onDescend) == 'function' ? this.onDescend() : this.implOnDescend();\n\t\t\t\t\tif (c) command.insertCommand(c);\n\t\t\t\t},\n\t\t\t\t():void => {\n\t\t\t\t\tthis.lastState = this.state;\n\t\t\t\t\tthis.state = SceneState.Idling;\n\t\t\t\t\tthis.dispatchEvent(new SceneEvent(SceneEvent.DESCEND_COMPLETE, this));\n\t\t\t\t}\n\t\t\t);\n\t\t\tcommand.execute();\n\t\t}\n\n\n\n\n\n\t\tprotected implOnLoad():cmd.Command {\n\t\t\treturn new cmd.Command();\n\t\t}\n\n\t\tprotected implOnUnload():cmd.Command {\n\t\t\treturn new cmd.Command();\n\t\t}\n\n\t\tprotected implOnArrive():cmd.Command {\n\t\t\treturn new cmd.Command();\n\t\t}\n\n\t\tprotected implOnLeave():cmd.Command {\n\t\t\treturn new cmd.Command();\n\t\t}\n\n\t\tprotected implOnAscend():cmd.Command {\n\t\t\treturn new cmd.Command();\n\t\t}\n\n\t\tprotected implOnDescend():cmd.Command {\n\t\t\treturn new cmd.Command();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\t// The callback function is called preferentially over the override\n\t\tpublic onLoad:() => cmd.Command;\n\t\tpublic onUnload:() => cmd.Command;\n\t\tpublic onArrive:() => cmd.Command;\n\t\tpublic onLeave:() => cmd.Command;\n\t\tpublic onAscend:() => cmd.Command;\n\t\tpublic onDescend:() => cmd.Command;\n\n\t\tprivate isEntered:boolean;\n\t\tprivate name:string;\n\t\tprivate state:SceneState;\n\t\tprivate lastState:SceneState;\n\t\tprivate parent:Scene;\n\t\tprivate childrenByName:alm.util.Hash<Scene>;\n\t\tprivate numChildren:number;\n\t\tprivate transferInfo:SceneTransferInfo;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace scn {\n\n\timport Event = alm.event.Event;\n\n\texport class SceneEvent extends Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static LOAD:string = 'load';\n\t\tpublic static UNLOAD:string = 'unload';\n\t\tpublic static ARRIVE:string = 'arrive';\n\t\tpublic static LEAVE:string = 'leave';\n\t\tpublic static ASCEND:string = 'ascend';\n\t\tpublic static DESCEND:string = 'descend';\n\n\t\tpublic static LOAD_COMPLETE:string = 'loadComplete';\n\t\tpublic static UNLOAD_COMPLETE:string = 'unloadComplete';\n\t\tpublic static ARRIVE_COMPLETE:string = 'arriveComplete';\n\t\tpublic static LEAVE_COMPLETE:string = 'leaveComplete';\n\t\tpublic static ASCEND_COMPLETE:string = 'ascendComplete';\n\t\tpublic static DESCEND_COMPLETE:string = 'descendComplete';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():SceneEvent {\n\t\t\treturn new SceneEvent(this.getType(), this.getTarget());\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[SceneEvent] type = ' + this.getType();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace scn {\n\n\timport Logger = alm.debug.Logger;\n\timport LoggerLevel = alm.debug.LoggerLevel;\n\timport EventDispatcher = alm.event.EventDispatcher;\n\n\texport class SceneManager extends EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(name:string = '') {\n\t\t\tsuper();\n\t\t\tthis.name = name;\n\t\t\tthis.root = new core.RootScene(this);\n\t\t\tthis.currentScene = null;\n\n\t\t\tthis.waypoints = [];\n\t\t\tthis.waypointIndex = -1;\n\t\t\tthis.lastState = SceneState.Idling;\n\t\t\tthis.eventIndex = -1;\n\t\t\tthis.transferId = -1;\n\t\t\tthis.transferInfo = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic start():void {\n\t\t\tLogger.verbose('----- scene manager start -----');\n\t\t\tthis.goto('/');\n\t\t}\n\n\t\tpublic goto(path:string):void {\n\t\t\tpath = this.resolvePath(path);\n\n\t\t\t// Return if current destination and new destination is same.\n\t\t\tif (this.transferInfo && this.transferInfo.getDestinationPath() == path) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Build waypoints\n\t\t\tlet newWaypoints:core.Waypoint[] = [];\n\t\t\tif (this.waypointIndex != -1) {\n\t\t\t\tnewWaypoints = this.createWaypoints(this.waypoints[this.waypointIndex].getPath(), path);\n\t\t\t} else {\n\t\t\t\t// Init\n\t\t\t\tnewWaypoints = [new core.Waypoint('/', 0)];\n\t\t\t}\n\n\t\t\t// Transfer\n\t\t\tif (newWaypoints.length > 0) {\n\t\t\t\tconst isDestinationChanged:boolean = this.transferInfo != null;\n\n\t\t\t\tif (!isDestinationChanged) {\n\t\t\t\t\tthis.waypointIndex = 0;\n\t\t\t\t\tthis.eventIndex = 0;\n\t\t\t\t\t++this.transferId;\n\t\t\t\t\tthis.waypoints = newWaypoints;\n\t\t\t\t} else {\n\t\t\t\t\tLogger.verbose('destination is changed');\n\t\t\t\t\tLogger.verbose('waypoint index : ' + this.waypointIndex);\n\t\t\t\t\tthis.waypoints = this.waypoints.slice(0, this.waypointIndex + 1).concat(newWaypoints.slice(1));\n\t\t\t\t\tthis.setDirection(this.waypoints);\n\t\t\t\t\tthis.printWaypoint(this.waypoints);\n\t\t\t\t}\n\n\t\t\t\tthis.transferInfo = new SceneTransferInfo(this.transferId, this.waypoints[this.waypointIndex].getPath(), this.waypoints[this.waypoints.length - 1].getPath());\n\n\t\t\t\tif (!isDestinationChanged) {\n\t\t\t\t\tthis.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.TRANSFER_START, this));\n\t\t\t\t}\n\n\t\t\t\tthis.checkState();\n\t\t\t}\n\t\t}\n\n\t\tpublic resolvePath(path:string):string {\n\t\t\t// Relative to absolute\n\t\t\tif (path[0] != '/') {\n\t\t\t\tif (this.currentScene) {\n\t\t\t\t\tpath = this.currentScene.getPath() + '/' + path;\n\t\t\t\t} else {\n\t\t\t\t\tpath = '/' + path;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Normalize\n\t\t\tconst names:string[] = path.split('/');\n\t\t\tconst normalized:string[] = [];\n\t\t\tfor (let i:number = 0; i < names.length; ++i) {\n\t\t\t\tconst name:string = names[i];\n\t\t\t\tif (name == '') continue;\n\t\t\t\tif (name == '.') continue;\n\t\t\t\tif (name == '..') {\n\t\t\t\t\tnormalized.pop();\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tnormalized.push(name);\n\t\t\t}\n\n\t\t\treturn '/' + normalized.join('/');\n\t\t}\n\n\t\tpublic addSceneAt(path:string, createScene:boolean = false):Scene {\n\t\t\tlet success:boolean = false;\n\t\t\tconst names:string[] = this.getSceneNamesByPath(path);\n\t\t\tconst n:number = names.length;\n\t\t\tlet scene:Scene = this.root;\n\t\t\tfor (let i:number = 1; i < n; ++i) {\n\t\t\t\tconst name:string = names[i];\n\t\t\t\tif (i == n - 1) {\n\t\t\t\t\tif (scene.contains(name)) {\n\t\t\t\t\t\tLogger.warn('[SceneManager \\'' + this.name + '\\'] addSceneAt was failed, because path \\'' + path + '\\' is already exist.');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscene = scene.addChild(new Scene(name));\n\t\t\t\t\t\tsuccess = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (scene.contains(name)) {\n\t\t\t\t\t\tscene = scene.getChildByName(name);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscene = scene.addChild(new Scene(name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn success ? scene : null;\n\t\t}\n\n\t\tpublic getName():string {\n\t\t\treturn this.name;\n\t\t}\n\n\t\tpublic getRoot():Scene {\n\t\t\treturn this.root;\n\t\t}\n\n\t\tpublic getSceneByPath(path:string):Scene {\n\t\t\tconst names:string[] = this.getSceneNamesByPath(path);\n\t\t\tconst n:number = names.length;\n\t\t\tlet scene:Scene = this.root;\n\t\t\tfor (let i:number = 1; i < n; ++i) {\n\t\t\t\tscene = scene.getChildByName(names[i]);\n\t\t\t}\n\t\t\treturn scene;\n\t\t}\n\n\t\tpublic getSceneNamesByPath(path:string):string[] {\n\t\t\treturn path == '/' ? [''] : this.resolvePath(path).split('/');\n\t\t}\n\n\t\tpublic getSceneLevelByNames(names:string[]):number {\n\t\t\treturn names.length - 1;\n\t\t}\n\n\t\tpublic getScenePathByNames(names:string[]):string {\n\t\t\treturn names.length == 0 ? '/' : names.length == 1 ? ('/' + names[0]) : names.join('/');\n\t\t}\n\n\t\tprivate createWaypoints(departurePath:string, destinationPath:string):core.Waypoint[] {\n\t\t\tif (departurePath == destinationPath) {\n\t\t\t\tLogger.warn('[SceneManager] departure path and destination path is same, path = \\'' + departurePath + '\\'');\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tLogger.verbose('----- scene flow -----');\n\n\t\t\tconst waypoints:core.Waypoint[] = [\n\t\t\t\tnew core.Waypoint(departurePath, this.getSceneLevelByNames(this.getSceneNamesByPath(departurePath)))\n\t\t\t];\n\n\t\t\tconst departureNames:string[] = this.getSceneNamesByPath(departurePath);\n\t\t\tconst destinationNames:string[] = this.getSceneNamesByPath(destinationPath);\n\n\t\t\tLogger.verbose('    path');\n\t\t\tLogger.verbose('        current    : \\'' + departurePath + '\\'');\n\t\t\tLogger.verbose('        destination: \\'' + destinationPath + '\\'');\n\n\t\t\tLogger.verbose('    names');\n\t\t\tLogger.verbose('        current(' + departureNames.length + ')    : \\'' + departureNames + '\\'');\n\t\t\tLogger.verbose('        destination(' + destinationNames.length + '): \\'' + destinationNames + '\\'');\n\n\t\t\t// \n\t\t\tlet turningLevel:number = 0;\n\t\t\tlet turningNames:string[] = [];\n\t\t\tlet turningPath:string;\n\t\t\tif (destinationPath == '/') {\n\t\t\t\tturningLevel = -1;\n\t\t\t\tturningNames = [];\n\t\t\t\tturningPath = '/';\n\t\t\t} else {\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (departureNames[turningLevel] == destinationNames[turningLevel]) {\n\t\t\t\t\t\tturningNames.push(departureNames[turningLevel]);\n\t\t\t\t\t\t++turningLevel;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t--turningLevel;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tturningPath = this.getScenePathByNames(turningNames);\n\t\t\t}\n\n\t\t\tLogger.verbose('    turning');\n\t\t\tLogger.verbose('        path     : ' + turningPath);\n\t\t\tLogger.verbose('        level    : ' + turningLevel);\n\t\t\tLogger.verbose('        names(' + turningNames.length + ') : \\'' + turningNames + '\\'');\n\n\t\t\t// \n\t\t\t{\n\t\t\t\tconst names:string[] = departureNames.concat();\n\t\t\t\tlet prevPath:string = departurePath;\n\t\t\t\tfor (let i:number = departureNames.length - 1; i > turningLevel + 1; --i) {\n\t\t\t\t\tnames.pop();\n\t\t\t\t\tconst path:string = this.getScenePathByNames(names);\n\t\t\t\t\tif (path != prevPath) {\n\t\t\t\t\t\tconst level:number = this.getSceneLevelByNames(names);\n\t\t\t\t\t\twaypoints.push(new core.Waypoint(path, level));\n\t\t\t\t\t\tprevPath = path;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (turningPath == destinationPath && turningLevel > 0) {\n\t\t\t\t// \n\t\t\t\tconst from:core.Direction = turningLevel == waypoints[waypoints.length - 1].getLevel() ? core.Direction.Sibling : core.Direction.Ascend;\n\t\t\t\twaypoints.push(new core.Waypoint(turningPath, turningLevel));\n\t\t\t} else {\n\n\t\t\t\t// \n\t\t\t\tconst names:string[] = turningNames.concat();\n\t\t\t\tconst prev:core.Waypoint = waypoints[waypoints.length - 1];\n\t\t\t\tlet prevPath:string = prev.getPath();\n\t\t\t\tlet prevLevel:number = prev.getLevel();\n\t\t\t\tfor (let i:number = turningLevel + 1; i < destinationNames.length; ++i) {\n\t\t\t\t\tconst name:string = destinationNames[i];\n\t\t\t\t\tnames.push(name);\n\t\t\t\t\tconst path:string = this.getScenePathByNames(names);\n\t\t\t\t\tif (path != prevPath) {\n\t\t\t\t\t\tconst level:number = this.getSceneLevelByNames(names);\n\t\t\t\t\t\twaypoints.push(new core.Waypoint(path, level));\n\t\t\t\t\t\tprevLevel = level;\n\t\t\t\t\t\tprevPath = path;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// \n\t\t\tthis.setDirection(waypoints);\n\n\t\t\tif (Logger.level <= LoggerLevel.Verbose) {\n\t\t\t\tthis.printWaypoint(waypoints);\n\t\t\t}\n\n\t\t\treturn waypoints;\n\t\t}\n\n\t\tprivate setDirection(waypoints:core.Waypoint[]):void {\n\t\t\tconst n:number = waypoints.length;\n\t\t\tlet prev:core.Waypoint = null;\n\t\t\tlet point:core.Waypoint;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tpoint = waypoints[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tconst d:number = point.getLevel() - prev.getLevel();\n\t\t\t\t\tpoint._setFrom(d > 0 ? core.Direction.Descend : d < 0 ? core.Direction.Ascend : core.Direction.Sibling);\n\t\t\t\t\tprev._setTo(point.getFrom());\n\t\t\t\t}\n\t\t\t\tprev = point;\n\t\t\t}\n\t\t}\n\n\t\tprivate printWaypoint(waypoints:core.Waypoint[]):void {\n\t\t\tLogger.verbose('    waypoints');\n\t\t\tconst n:number = waypoints.length;\n\t\t\tfor (let i:number = 0; i < n; ++i) {\n\t\t\t\tLogger.verbose('        [' + i + '] ' + waypoints[i]);\n\t\t\t}\n\t\t\tLogger.verbose('');\n\t\t}\n\n\n\n\n\n\t\tprivate checkState():void {\n\t\t\ttrace('lastState : ' + scn.getSceneStateString(this.lastState));\n\n\t\t\t//trace(this.waypointIndex + ' / ' + this.waypoints.length);\n\n\t\t\tif (this.waypointIndex >= this.waypoints.length) {\n\t\t\t\tLogger.verbose('----- scene transfer complete -----');\n\t\t\t\tconst tmpTransferId:number = this.transferInfo.getTransferId();\n\t\t\t\tthis.waypointIndex = this.waypoints.length - 1;\n\t\t\t\tthis.dispatchEvent(new SceneManagerEvent(SceneManagerEvent.TRANSFER_COMPLETE, this));\n\t\t\t\tif (tmpTransferId == this.transferInfo.getTransferId()) {\n\t\t\t\t\tthis.lastState = SceneState.Idling;\n\t\t\t\t\tthis.transferInfo = null;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.currentScene) {\n\t\t\t\tconst currentWaypoint:core.Waypoint = this.waypoints[this.waypointIndex];\n\t\t\t\tthis.currentScene = this.getSceneByPath(currentWaypoint.getPath());\n\n\t\t\t\t// Departure scene\n\t\t\t\tif (this.waypoints.length > 1 && this.waypointIndex == 0) {\n\t\t\t\t\ttrace('Departure scene');\n\n\t\t\t\t\t// Leave\n\t\t\t\t\tif (this.lastState != SceneState.Leaving && this.currentScene.getLastState() == SceneState.Arriving) {\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Leave   : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.LEAVE_COMPLETE, this.sceneLeaveCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._leave(this.transferInfo);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Unload\n\t\t\t\t\tif (this.lastState != SceneState.Unloading && (currentWaypoint.getTo() == core.Direction.Sibling || currentWaypoint.getTo() == core.Direction.Ascend)) {\n\t\t\t\t\t\t++this.waypointIndex;\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Unload  : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.UNLOAD_COMPLETE, this.sceneUnloadCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._unload(this.transferInfo);\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Departure to child\n\t\t\t\t\t\t++this.waypointIndex;\n\t\t\t\t\t\tthis.checkState();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Through scene\n\t\t\t\tif (this.waypointIndex > 0 && this.waypointIndex < this.waypoints.length - 1) {\n\t\t\t\t\ttrace('Through scene');\n\n\t\t\t\t\t// Load\n\t\t\t\t\tif (this.lastState != SceneState.Loading && (currentWaypoint.getFrom() == core.Direction.Sibling || currentWaypoint.getFrom() == core.Direction.Descend)) {\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Load    : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.LOAD_COMPLETE, this.sceneLoadCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._load(this.transferInfo);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ascend\n\t\t\t\t\tif (this.lastState != SceneState.Ascending && currentWaypoint.getFrom() == core.Direction.Ascend) {\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Ascend  : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.ASCEND_COMPLETE, this.sceneAscendCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._ascend(this.transferInfo);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Unload\n\t\t\t\t\tif (this.lastState != SceneState.Unloading && (currentWaypoint.getTo() == core.Direction.Sibling || currentWaypoint.getTo() == core.Direction.Ascend)) {\n\t\t\t\t\t\t++this.waypointIndex;\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Unload  : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.UNLOAD_COMPLETE, this.sceneUnloadCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._unload(this.transferInfo);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Descend\n\t\t\t\t\tif (this.lastState != SceneState.Descending && currentWaypoint.getTo() == core.Direction.Descend) {\n\t\t\t\t\t\t++this.waypointIndex;\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Descend : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.DESCEND_COMPLETE, this.sceneDescendCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._descend(this.transferInfo);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Destination scene\n\t\t\t\tif (this.waypointIndex == this.waypoints.length - 1) {\n\t\t\t\t\ttrace('Destination scene');\n\n\t\t\t\t\t// Load\n\t\t\t\t\tif (this.lastState != SceneState.Loading && (currentWaypoint.getFrom() == core.Direction.Sibling || currentWaypoint.getFrom() == core.Direction.Descend)) {\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Load    : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.LOAD_COMPLETE, this.sceneLoadCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._load(this.transferInfo);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Arrive\n\t\t\t\t\tif (this.lastState != SceneState.Arriving) {\n\t\t\t\t\t\t++this.waypointIndex;\n\t\t\t\t\t\tLogger.verbose(this.eventIndex + ' Arrive  : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\t\t\tthis.currentScene.addEventListener(SceneEvent.ARRIVE_COMPLETE, this.sceneArriveCompleteHandler);\n\t\t\t\t\t\tthis.currentScene._arrive(this.transferInfo);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttrace('Init scene');\n\n\t\t\t\t// Init\n\t\t\t\tthis.lastState = SceneState.Idling;\n\t\t\t\tthis.currentScene = this.root;\n\t\t\t\tLogger.verbose(this.eventIndex + ' Load    : \\'' + this.currentScene.getPath() + '\\'');\n\t\t\t\tthis.currentScene.addEventListener(SceneEvent.LOAD_COMPLETE, this.sceneLoadCompleteHandler);\n\t\t\t\tthis.currentScene._load(this.transferInfo);\n\t\t\t}\n\t\t}\n\n\t\tprivate sceneLoadCompleteHandler = (event:SceneEvent):void => {\n\t\t\tthis.currentScene.removeEventListener(SceneEvent.LOAD_COMPLETE, this.sceneLoadCompleteHandler);\n\t\t\tthis.lastState = SceneState.Loading;\n\t\t\t++this.eventIndex;\n\t\t\tthis.checkState();\n\t\t};\n\n\t\tprivate sceneUnloadCompleteHandler = (event:SceneEvent):void => {\n\t\t\tthis.currentScene.removeEventListener(SceneEvent.UNLOAD_COMPLETE, this.sceneUnloadCompleteHandler);\n\t\t\tthis.lastState = SceneState.Unloading;\n\t\t\t++this.eventIndex;\n\t\t\tthis.checkState();\n\t\t};\n\n\t\tprivate sceneArriveCompleteHandler = (event:SceneEvent):void => {\n\t\t\tthis.currentScene.removeEventListener(SceneEvent.ARRIVE_COMPLETE, this.sceneArriveCompleteHandler);\n\t\t\tthis.lastState = SceneState.Arriving;\n\t\t\t++this.eventIndex;\n\t\t\tthis.checkState();\n\t\t};\n\n\t\tprivate sceneLeaveCompleteHandler = (event:SceneEvent):void => {\n\t\t\tthis.currentScene.removeEventListener(SceneEvent.LEAVE_COMPLETE, this.sceneLeaveCompleteHandler);\n\t\t\tthis.lastState = SceneState.Leaving;\n\t\t\t++this.eventIndex;\n\t\t\tthis.checkState();\n\t\t};\n\n\t\tprivate sceneAscendCompleteHandler = (event:SceneEvent):void => {\n\t\t\tthis.currentScene.removeEventListener(SceneEvent.ASCEND_COMPLETE, this.sceneAscendCompleteHandler);\n\t\t\tthis.lastState = SceneState.Ascending;\n\t\t\t++this.eventIndex;\n\t\t\tthis.checkState();\n\t\t};\n\n\t\tprivate sceneDescendCompleteHandler = (event:SceneEvent):void => {\n\t\t\tthis.currentScene.removeEventListener(SceneEvent.DESCEND_COMPLETE, this.sceneDescendCompleteHandler);\n\t\t\tthis.lastState = SceneState.Descending;\n\t\t\t++this.eventIndex;\n\t\t\tthis.checkState();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate name:string;\n\t\tprivate root:Scene;\n\t\tprivate currentScene:Scene;\n\n\t\tprivate waypoints:core.Waypoint[];\n\t\tprivate waypointIndex:number;\n\t\tprivate lastState:SceneState;\n\t\tprivate eventIndex:number;\n\t\tprivate transferInfo:SceneTransferInfo;\n\t\tprivate transferId:number;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace scn {\n\n\timport Event = alm.event.Event;\n\n\texport class SceneManagerEvent extends Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static TRANSFER_START:string = 'transferStart';\n\t\tpublic static TRANSFER_COMPLETE:string = 'transferComplete';\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():SceneManagerEvent {\n\t\t\treturn new SceneManagerEvent(this.getType(), this.getTarget());\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[SceneManagerEvent] type = ' + this.getType();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace scn {\n\n\texport class SceneTransferInfo {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(transferId:number, departurePath:string, destinationPath:string) {\n\t\t\tthis.transferId = transferId;\n\t\t\tthis.departurePath = departurePath;\n\t\t\tthis.destinationPath = destinationPath;\n\t\t\tthis.relay = null;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getTransferId():number {\n\t\t\treturn this.transferId;\n\t\t}\n\n\t\tpublic getDeparturePath():string {\n\t\t\treturn this.departurePath;\n\t\t}\n\n\t\tpublic getDestinationPath():string {\n\t\t\treturn this.destinationPath;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic relay:any;\n\n\t\tprivate transferId:number;\n\t\tprivate departurePath:string;\n\t\tprivate destinationPath:string;\n\t}\n}\n","/// <reference path='../index.ts' />\n\nnamespace scn {\n\n\texport enum SceneState {\n\t\tIdling,\n\t\tLoading,\n\t\tUnloading,\n\t\tArriving,\n\t\tLeaving,\n\t\tAscending,\n\t\tDescending,\n\t}\n\n\texport function getSceneStateString(state:SceneState):string {\n\t\tswitch (state) {\n\t\t\tcase SceneState.Idling:\n\t\t\t\treturn 'idling';\n\t\t\tcase SceneState.Loading:\n\t\t\t\treturn 'loading';\n\t\t\tcase SceneState.Unloading:\n\t\t\t\treturn 'unloading';\n\t\t\tcase SceneState.Arriving:\n\t\t\t\treturn 'arriving';\n\t\t\tcase SceneState.Leaving:\n\t\t\t\treturn 'leaving';\n\t\t\tcase SceneState.Ascending:\n\t\t\t\treturn 'ascending';\n\t\t\tcase SceneState.Descending:\n\t\t\t\treturn 'descending';\n\t\t}\n\t\treturn '';\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace scn.core {\n\n\texport enum Direction {\n\t\tStatic,\n\t\tSibling,\n\t\tAscend,\n\t\tDescend,\n\t}\n\n\texport function getDirectionString(direction:Direction):string {\n\t\tswitch (direction) {\n\t\t\tcase Direction.Static:\n\t\t\t\treturn 'static';\n\t\t\tcase Direction.Sibling:\n\t\t\t\treturn 'sibling';\n\t\t\tcase Direction.Ascend:\n\t\t\t\treturn 'ascend';\n\t\t\tcase Direction.Descend:\n\t\t\t\treturn 'descend';\n\t\t}\n\t\treturn '';\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace scn.core {\n\n\texport class RootScene extends Scene {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(manager:SceneManager) {\n\t\t\tsuper('');\n\t\t\tthis.manager = manager;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getManager():SceneManager {\n\t\t\treturn this.manager;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate manager:SceneManager;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace scn.core {\n\n\texport class Waypoint {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(path:string, level:number) {\n\t\t\tthis.path = path;\n\t\t\tthis.level = level;\n\t\t\tthis.from = Direction.Static;\n\t\t\tthis.to = Direction.Static;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getPath():string {\n\t\t\treturn this.path;\n\t\t}\n\n\t\tpublic getLevel():number {\n\t\t\treturn this.level;\n\t\t}\n\n\t\tpublic getFrom():Direction {\n\t\t\treturn this.from;\n\t\t}\n\n\t\tpublic getTo():Direction {\n\t\t\treturn this.to;\n\t\t}\n\n\t\tpublic _setFrom(from:Direction):void {\n\t\t\tthis.from = from;\n\t\t}\n\n\t\tpublic _setTo(to:Direction):void {\n\t\t\tthis.to = to;\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn '[Waypoint] path = \\'' + this.path + '\\', level = ' + this.level + ', from = ' + getDirectionString(this.from) + ', to = ' + getDirectionString(this.to);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate path:string;\n\t\tprivate level:number;\n\t\tprivate from:Direction;\n\t\tprivate to:Direction;\n\t}\n}\n","/* ---------- project dependencies ---------- */\n\n\n/* ---------- project scripts ---------- */\n\n/// <reference path='alm/util/Time.ts' />\n/// <reference path='alm/math/Easing.ts' />\n/// <reference path='alm/browser/QueryString.ts' />\n\n/// <reference path='alm/debug/Logger.ts' />\n/// <reference path='alm/debug/FpsMonitor.ts' />\n\n/// <reference path='alm/event/Event.ts' />\n/// <reference path='alm/event/EventDispatcher.ts' />\n\n/// <reference path='cmd/CommandState.ts' />\n/// <reference path='cmd/CommandEvent.ts' />\n/// <reference path='cmd/Command.ts' />\n/// <reference path='cmd/CommandList.ts' />\n/// <reference path='cmd/Break.ts' />\n/// <reference path='cmd/Return.ts' />\n/// <reference path='cmd/Log.ts' />\n/// <reference path='cmd/Wait.ts' />\n/// <reference path='cmd/Func.ts' />\n/// <reference path='cmd/Listen.ts' />\n/// <reference path='cmd/Tween.ts' />\n/// <reference path='cmd/Serial.ts' />\n/// <reference path='cmd/Parallel.ts' />\n\n/// <reference path='alm/geom/Vector2.ts' />\n/// <reference path='alm/geom/Vector3.ts' />\n/// <reference path='alm/geom/Rectangle.ts' />\n/// <reference path='alm/geom/Boxer.ts' />\n\n/// <reference path='alm/util/Hash.ts' />\n/// <reference path='alm/util/Obj.ts' />\n/// <reference path='alm/util/Arr.ts' />\n/// <reference path='alm/util/Num.ts' />\n/// <reference path='alm/util/Str.ts' />\n/// <reference path='alm/util/Cmd.ts' />\n\n/// <reference path='alm/resource/ObjectPool.ts' />\n\n/// <reference path='alm/state/Lottery.ts' />\n/// <reference path='alm/state/Switcher.ts' />\n/// <reference path='alm/state/SwitcherEvent.ts' />\n/// <reference path='alm/state/LoHi.ts' />\n/// <reference path='alm/state/LoHiEvent.ts' />\n\n/// <reference path='alm/math/EasingValue.ts' />\n/// <reference path='alm/math/SpringValue.ts' />\n/// <reference path='alm/math/SimpleAverage.ts' />\n/// <reference path='alm/math/SimpleMovingAverage.ts' />\n/// <reference path='alm/math/MaxValue.ts' />\n/// <reference path='alm/math/Circular.ts' />\n\n/// <reference path='alm/time/AnimationFrameTicker.ts' />\n/// <reference path='alm/time/AnimationFrameTickerEvent.ts' />\n/// <reference path='alm/time/Timer.ts' />\n/// <reference path='alm/time/TimerEvent.ts' />\n\n/// <reference path='alm/io/FileLoader.ts' />\n/// <reference path='alm/io/FileLoaderProgressEvent.ts' />\n/// <reference path='alm/io/FileLoaderSuccessEvent.ts' />\n/// <reference path='alm/io/FileLoaderErrorEvent.ts' />\n/// <reference path='alm/io/FileQuery.ts' />\n/// <reference path='alm/io/IFileHandler.ts' />\n\n/// <reference path='alm/audio/core/AudioClip.ts' />\n/// <reference path='alm/audio/AudioPlayer.ts' />\n/// <reference path='alm/audio/CrossOverLoopAudio.ts' />\n/// <reference path='alm/audio/FootstepAudio.ts' />\n\n/// <reference path='alm/view/View.ts' />\n/// <reference path='alm/view/ButtonBehavior.ts' />\n/// <reference path='alm/view/IButton.ts' />\n/// <reference path='alm/view/SelectionBehavior.ts' />\n/// <reference path='alm/view/ISelection.ts' />\n\n/// <reference path='alm/browser/DeviceInfo.ts' />\n/// <reference path='alm/browser/LocalStorage.ts' />\n/// <reference path='alm/browser/KeyWatcher.ts' />\n/// <reference path='alm/browser/KeyWatcherEvent.ts' />\n/// <reference path='alm/browser/WindowWatcher.ts' />\n/// <reference path='alm/browser/WindowWatcherEvent.ts' />\n/// <reference path=\"alm/browser/ScrollSectionTriggerEvent.ts\" />\n/// <reference path=\"alm/browser/ScrollSectionTrigger.ts\" />\n/// <reference path=\"alm/browser/ResponsiveObserver.ts\" />\n/// <reference path=\"alm/browser/ResponsiveObserverEvent.ts\" />\n\n/// <reference path='scn/Scene.ts' />\n/// <reference path='scn/SceneEvent.ts' />\n/// <reference path='scn/SceneManager.ts' />\n/// <reference path='scn/SceneManagerEvent.ts' />\n/// <reference path='scn/SceneTransferInfo.ts' />\n/// <reference path='scn/SceneState.ts' />\n/// <reference path='scn/core/Direction.ts' />\n/// <reference path='scn/core/RootScene.ts' />\n/// <reference path='scn/core/Waypoint.ts' />\n\n\n/* ---------- init ---------- */\n\nnamespace alm {\n\n\t// Library version info\n\texport function getVersion():string {\n\t\treturn '0.0.1';\n\t}\n\n\t// Credit info\n\tconst style:string = 'color:#999;';\n\tconst print:Function = console.debug;\n\tprint('%c+ + + + + + + + + + + + + + + + + + + + + + + + + +', style);\n\tprint('%c+ alumican.js', style);\n\tprint('%c+ version ' + getVersion(), style);\n\tprint('%c+ http://alumican.net', style);\n\tprint('%c+ https://github.com/alumican/alumican.js', style);\n\tprint('%c+ + + + + + + + + + + + + + + + + + + + + + + + + +', style);\n\tprint('');\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.util {\n\n\texport interface Hash<T> { [key: string]: T; }\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.io {\n\n\texport interface IFileHandler {\n\n\t\tgetType():string;\n\t\tload(url:string, onComplete:CompleteFunction, onError:ErrorFunction):void;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.view {\n\n\texport interface IButton {\n\n\t\timplButtonOver(useTransition:boolean):void;\n\t\timplButtonOut(useTransition:boolean):void;\n\t\timplButtonDown(useTransition:boolean):void;\n\t\timplButtonUp(useTransition:boolean):void;\n\t\timplButtonClick(useTransition:boolean):void;\n\t\timplButtonChangeEnabled(isEnabled:boolean, useTransition:boolean):void;\n\t}\n}\n","/// <reference path='../../index.ts' />\n\nnamespace alm.view {\n\n\texport interface ISelection {\n\n\t\timplSelectionChanged(isSelected:boolean, useTransition:boolean):void;\n\t}\n}\n"]}