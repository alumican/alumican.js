{"version":3,"sources":["../src/util/Arr.ts","../src/util/Boxer.ts","../src/util/CommandUtil.ts","../src/util/DeviceInfo.ts","../src/util/JQueryUtil.ts","../src/util/LocalStorage.ts","../src/util/Logger.ts","../src/util/Num.ts","../src/util/Raffle.ts","../src/util/Rotator.ts","../src/util/Str.ts","../src/geom/Vector2.ts","../src/geom/Vector3.ts","../src/geom/Rectangle.ts","../src/job/Timer.ts","../src/event/TimerEvent.ts","../src/job/KeyWatcher.ts","../src/event/KeyWatcherEvent.ts","../src/var/KeyCode.ts","../src/job/ResizeWatcher.ts","../src/event/ResizeWatcherEvent.ts","../src/job/ScrollWatcher.ts","../src/event/ScrollWatcherEvent.ts","../src/job/AssetLoader.ts","../src/event/AssetLoaderEvent.ts","../src/view/View.ts"],"names":[],"mappings":"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","file":"alumican.js","sourcesContent":["/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Arr {\n\n\t\t/**\n\t\t * 等差数列を生成する\n\t\t * @param {number} count 要素数\n\t\t * @param {number} init 初期値\n\t\t * @param {number} step 等差\n\t\t * @returns {number[]} 出力配列\n\t\t */\n\t\tpublic static sequence(count:number, init:number = 0, step:number = 1):number[] {\n\t\t\tconst result:number[] = new Array(count);\n\t\t\tlet v:number = init;\n\t\t\tfor (let i:number = 0; i < count; ++i) {\n\t\t\t\tresult[i] = v;\n\t\t\t\tv += step;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t * 重複を削除したリストを生成する\n\t\t * @param list 入力配列\n\t\t * @returns {T[]} 出力配列\n\t\t */\n\t\tpublic static unique<T>(list:T[]):T[] {\n\t\t\treturn list.filter(function (x:T, i:number, self:T[]) {\n\t\t\t\treturn self.indexOf(x) === i;\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * 重複のみを抽出したリストを生成する\n\t\t * @param list 入力配列\n\t\t * @param unique trueの場合は、重複したものの中を重複しないようにする\n\t\t * @returns {T[]} 出力配列\n\t\t */\n\t\tpublic static duplicated<T>(list:T[], unique:boolean = false):T[] {\n\n\t\t\tif (unique) {\n\t\t\t\treturn list.filter(function (x:T, i:number, self:T[]) {\n\t\t\t\t\treturn self.indexOf(x) !== self.lastIndexOf(x);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn list.filter(function (x:T, i:number, self:T[]) {\n\t\t\t\t\treturn (self.indexOf(x) === i) && (self.lastIndexOf(x) !== i);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * 2つの入力配列に対して総当たり戦をおこなう\n\t\t * @param {T[]} list1 入力配列1\n\t\t * @param {T[]} list2 入力配列2\n\t\t * @param {(count: number, index1: number, index2: number, element1: T, element2: T) => void} callback コールバック関数\n\t\t * @param callback.count コールバックの呼ばれた回数\n\t\t * @param callback.index1 入力配列1の現在のインデックス\n\t\t * @param callback.index2 入力配列2の現在のインデックス\n\t\t * @param callback.element1 入力配列1の現在の要素\n\t\t * @param callback.element2 入力配列2の現在の要素\n\t\t */\n\t\tpublic static roundRobin<T>(list1:T[], list2:T[], callback:(count:number, index1:number, index2:number, element1:T, element2:T) => void):void {\n\t\t\tlet i:number, j:number, p:number = 1;\n\t\t\tconst m:number = list1.length;\n\t\t\tconst n:number = list2.length;\n\t\t\tfor (i = 0; i < m; ++i) {\n\t\t\t\tfor (j = i + 1; j < n; ++j) {\n\t\t\t\t\tcallback(p++, i, j, list1[i], list2[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport enum Align {\n\t\tTop_Left,\n\t\tTop_Center,\n\t\tTop_Right,\n\t\tMiddle_Left,\n\t\tMiddle_Center,\n\t\tMiddle_Right,\n\t\tBottom_Left,\n\t\tBottom_Center,\n\t\tBottom_Right\n\t}\n\n\texport enum ScaleMode {\n\t\tExactFit,\n\t\tShowAll,\n\t\tNoBorder,\n\t\tNoScale,\n\t}\n\n\texport class Boxer {\n\n\t\tpublic static resize(target:Rectangle, bounds:Rectangle, scaleMode:ScaleMode = ScaleMode.ShowAll, align:Align = Align.Middle_Center):Rectangle {\n\t\t\tlet tx:number = target.x;\n\t\t\tlet ty:number = target.y;\n\t\t\tlet tw:number = target.width;\n\t\t\tlet th:number = target.height;\n\n\t\t\tconst bx:number = bounds.x;\n\t\t\tconst by:number = bounds.y;\n\t\t\tconst bw:number = bounds.width;\n\t\t\tconst bh:number = bounds.height;\n\n\t\t\tswitch (scaleMode) {\n\t\t\t\tcase ScaleMode.ShowAll:\n\t\t\t\tcase ScaleMode.NoBorder:\n\t\t\t\t\tconst ratioW:number = bw / tw;\n\t\t\t\t\tconst ratioH:number = bh / th;\n\t\t\t\t\tconst ratio:number = scaleMode == ScaleMode.ShowAll ? (ratioW < ratioH ? ratioW : ratioH) : (ratioW > ratioH ? ratioW : ratioH);\n\t\t\t\t\ttw *= ratio;\n\t\t\t\t\tth *= ratio;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ScaleMode.ExactFit:\n\t\t\t\t\treturn new Rectangle(bx, by, bw, bh);\n\t\t\t}\n\n\t\t\ttx = bx + ((align == Align.Top_Left || align == Align.Middle_Left || align == Align.Bottom_Left) ? 0 :\n\t\t\t\t(align == Align.Top_Right || align == Align.Middle_Right || align == Align.Bottom_Right) ? (bw - tw) : (bw - tw) / 2);\n\t\t\tty = by + ((align == Align.Top_Left || align == Align.Top_Center || align == Align.Top_Right) ? 0 :\n\t\t\t\t(align == Align.Bottom_Left || align == Align.Bottom_Center || align == Align.Bottom_Right) ? (bh - th) : (bh - th) / 2);\n\n\t\t\treturn new Rectangle(tx, ty, tw, th);\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class CommandUtil {\n\n\t\tpublic static stop(command:cmd.Command):any {\n\t\t\tif (command) command.interrupt();\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic static sequence(execute:boolean, ...commands:(cmd.Command|Function)[]):cmd.Serial {\n\t\t\tconst c:cmd.Serial = new cmd.Serial();\n\t\t\tc.addCommand(...commands);\n\t\t\tif (execute) c.execute();\n\t\t\treturn c;\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class DeviceInfo {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tconst u:string = window.navigator.userAgent.toLowerCase();\n\n\t\t\tthis.isTablet = (u.indexOf(\"windows\") != -1 && u.indexOf(\"touch\") != -1)\n\t\t\t\t|| u.indexOf(\"ipad\") != -1\n\t\t\t\t|| (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") == -1)\n\t\t\t\t|| (u.indexOf(\"firefox\") != -1 && u.indexOf(\"tablet\") != -1)\n\t\t\t\t|| u.indexOf(\"kindle\") != -1\n\t\t\t\t|| u.indexOf(\"silk\") != -1\n\t\t\t\t|| u.indexOf(\"playbook\") != -1;\n\n\t\t\tthis.isMobile = (u.indexOf(\"windows\") != -1 && u.indexOf(\"phone\") != -1)\n\t\t\t\t|| u.indexOf(\"iphone\") != -1\n\t\t\t\t|| u.indexOf(\"ipod\") != -1\n\t\t\t\t|| (u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") != -1)\n\t\t\t\t|| (u.indexOf(\"firefox\") != -1 && u.indexOf(\"mobile\") != -1)\n\t\t\t\t|| u.indexOf(\"blackberry\") != -1;\n\n\t\t\tthis.isDesktop = !this.isTablet && !this.isMobile;\n\n\t\t\tthis.isIOS = u.indexOf(\"ipad\") != -1 || u.indexOf(\"iphone\") != -1 || u.indexOf(\"ipod\") != -1;\n\t\t\tthis.isAndroid = u.indexOf(\"android\") != -1 && u.indexOf(\"mobile\") != -1;\n\n\t\t\tthis.isRetina = Math.round(window.devicePixelRatio) == 2;\n\t\t}\n\n\t\tpublic static getIsDesktop():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isDesktop;\n\t\t}\n\n\t\tpublic static getIsTablet():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isTablet;\n\t\t}\n\n\t\tpublic static getIsMobile():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isMobile;\n\t\t}\n\n\t\tpublic static getIsIOS():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isIOS;\n\t\t}\n\n\t\tpublic static getIsAndroid():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isAndroid;\n\t\t}\n\n\t\tpublic static getIsRetina():boolean {\n\t\t\tthis.initialize();\n\t\t\treturn this.isRetina;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static isDesktop:boolean;\n\t\tprivate static isTablet:boolean;\n\t\tprivate static isMobile:boolean;\n\n\t\tprivate static isRetina:boolean;\n\n\t\tprivate static isIOS:boolean;\n\t\tprivate static isAndroid:boolean;\n\n\t\tprivate static isInitialized:boolean = false;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class JQueryUtil {\n\n\t\tpublic static fadeTo(target:JQuery, opacity:number, duration:number, easing:cmd.EasingFunction, switchDisplayTo:string = \"\", switchVisibility:boolean = false, execute:boolean = true):cmd.Tween {\n\t\t\tlet o:Object = { value: parseInt(target.css(\"opacity\")) };\n\t\t\tconst tween:cmd.Tween = new cmd.Tween(o, { value: opacity }, null, duration, easing, ():void => {\n\t\t\t\tif (opacity > 0) {\n\t\t\t\t\tif (switchDisplayTo != \"\") target.css(\"display\", switchDisplayTo);\n\t\t\t\t\tif (switchVisibility) target.css(\"visibility\", \"visible\");\n\t\t\t\t}\n\t\t\t}, ():void => {\n\t\t\t\ttarget.css(\"opacity\", o[\"value\"]);\n\t\t\t}, ():void => {\n\t\t\t\tif (opacity <= 0) {\n\t\t\t\t\tif (switchDisplayTo != \"\") target.css(\"display\", \"none\");\n\t\t\t\t\tif (switchVisibility) target.css(\"visibility\", \"hidden\");\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (execute) tween.execute();\n\t\t\treturn tween;\n\t\t}\n\n\t\tpublic static fadeInJquery(target:JQuery, duration:number, easing:cmd.EasingFunction, switchDisplayTo:string = \"\", switchVisibility:boolean = false, execute:boolean = true):cmd.Tween {\n\t\t\treturn JQueryUtil.fadeTo(target, 1, duration, easing, switchDisplayTo, switchVisibility, execute);\n\t\t}\n\n\t\tpublic static fadeOutJquery(target:JQuery, duration:number, easing:cmd.EasingFunction, switchDisplayTo:string = \"\", switchVisibility:boolean = false, execute:boolean = true):cmd.Tween {\n\t\t\treturn JQueryUtil.fadeTo(target, 0, duration, easing, switchDisplayTo, switchVisibility, execute);\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class LocalStorage {\n\n\t\t/**\n\t\t * データをLocalStorageに保存する\n\t\t * @param key 保存するキー\n\t\t * @param value 保存するデータ\n\t\t * @param expiredAt 有効期限（UNIXミリ秒）\n\t\t * @returns {boolean} 保存に成功した場合trueが返る\n\t\t */\n\t\tpublic static save(key:string, value:any, expiredAt:number = -1):boolean {\n\t\t\tif (!LocalStorage.isAvailable()) return false;\n\t\t\tconst record:{ value:string; expiredAt:number } = { value:JSON.stringify(value), expiredAt: expiredAt };\n\t\t\tlocalStorage.setItem(key, JSON.stringify(record));\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * データをLocalStorageに保存する\n\t\t * @param key 保存するキー\n\t\t * @param value 保存するデータ\n\t\t * @param minutes 保存期間（分）\n\t\t * @returns {boolean} 保存に成功した場合trueが返る\n\t\t */\n\t\tpublic static saveWithTerm(key:string, value:any, milliseconds:number = -1):boolean {\n\t\t\tconst expiredAt:number = milliseconds > 0 ? new Date().getTime() + milliseconds :-1;\n\t\t\treturn LocalStorage.save(key, value, expiredAt);\n\t\t}\n\n\t\t/**\n\t\t * 保存したデータをLocalStorageから読み込む\n\t\t * @param key 保存したキー\n\t\t * @returns {any} 読み込まれたデータ\n\t\t */\n\t\tpublic static load(key:string, defaultValue:any = null):any {\n\t\t\tif (!LocalStorage.isAvailable()) return defaultValue;\n\t\t\tconst record:{ value:string; expiredAt:number } = JSON.parse(localStorage.getItem(key));\n\t\t\tif (record) {\n\t\t\t\t// データが見つかった\n\t\t\t\tif (record.expiredAt > 0) {\n\t\t\t\t\t// 期限付きデータ\n\t\t\t\t\tif (new Date().getTime() < record.expiredAt) {\n\t\t\t\t\t\t// 有効期限内\n\t\t\t\t\t\treturn JSON.parse(record.value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 有効期限を過ぎているので破棄\n\t\t\t\t\t\tlocalStorage.removeItem(key);\n\t\t\t\t\t\treturn defaultValue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 永続データ\n\t\t\t\t\treturn JSON.parse(record.value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// データが見つからなかった\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * 保存したデータをLocalStorageから削除する\n\t\t * @param key 保存したキー\n\t\t */\n\t\tpublic static remove(key:string):void {\n\t\t\tif (!LocalStorage.isAvailable()) return;\n\t\t\tlocalStorage.removeItem(key);\n\t\t}\n\n\t\t/**\n\t\t * LocalStorageが使用可能かどうか確認する\n\t\t * @returns {boolean} 使用可能な場合はtrueが返る\n\t\t */\n\t\tpublic static isAvailable():boolean {\n\t\t\tif (LocalStorage.isAvailable_ == null) {\n\t\t\t\ttry {\n\t\t\t\t\tlocalStorage.setItem(\"__CKECK__\", \"__CKECK__\");\n\t\t\t\t\tlocalStorage.removeItem(\"__CKECK__\");\n\t\t\t\t\tLocalStorage.isAvailable_ = true;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tLocalStorage.isAvailable_ = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn LocalStorage.isAvailable_;\n\t\t}\n\n\t\tprivate static isAvailable_:boolean = null;\n\n\t\t/**\n\t\t * 各時間の尺度ミリ秒で合算する\n\t\t * @param dates 日\n\t\t * @param hours 時\n\t\t * @param minutes 分\n\t\t * @param seconds 秒\n\t\t * @param milliseconds ミリ秒\n\t\t * @returns {number} 合算されたミリ秒\n\t\t */\n\t\tpublic static toMilliseconds(dates:number = 0, hours:number = 0, minutes:number = 0, seconds:number = 0, milliseconds:number = 0):number {\n\t\t\treturn milliseconds + (seconds + (minutes + (hours + dates * 24) * 60) * 60) * 1000;\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport enum LoggerLevel {\n\t\tVerbose = 0,\n\t\tInfo = 1,\n\t\tWarn = 2,\n\t\tError = 3,\n\t\tSilent = 4,\n\t}\n\n\texport class Logger {\n\n\t\tpublic static level: number = LoggerLevel.Verbose;\n\n\t\tpublic static verbose(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Verbose) console.debug.apply(console, Array.prototype.slice.call([\"Verbose: \"].concat(messages)));\n\t\t}\n\n\t\tpublic static info(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Info) console.log.apply(console, Array.prototype.slice.call([\"Info   : \"].concat(messages)));\n\t\t}\n\n\t\tpublic static warn(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Warn) console.warn.apply(console, Array.prototype.slice.call([\"Warn   : \"].concat(messages)));\n\t\t}\n\n\t\tpublic static error(...messages:any[]): void {\n\t\t\tif (Logger.level <= LoggerLevel.Error) console.error.apply(console, Array.prototype.slice.call([\"Error  : \"].concat(messages)));\n\t\t}\n\n\t\tpublic static warnIf(target:any, message:string, condition:boolean = true): void {\n\t\t\tif (Logger.level <= LoggerLevel.Warn && condition) Logger.warn(message + \" : \", target);\n\t\t}\n\n\t\tpublic static errorIf(target:any, message: string, condition:boolean = true): void {\n\t\t\tif (Logger.level <= LoggerLevel.Error && condition) Logger.error(message + \" : \", target);\n\t\t}\n\t}\n}\n\nfunction trace(...messages:any[]):void {\n\talm.Logger.info.apply(trace.caller, arguments);\n}\n\nfunction throwWarn(target:any, message:string, condition:boolean = true):void {\n\talm.Logger.warnIf.apply(null, arguments);\n}\n\nfunction throwError(target:any, message:string, condition:boolean = true):void {\n\talm.Logger.errorIf.apply(null, arguments);\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Num {\n\n\t\t/**\n\t\t * 値を特定の範囲内にマッピングする\n\t\t * @param {number} value 入力値\n\t\t * @param {number} srcMin マッピング元の最小値\n\t\t * @param {number} srcMax マッピング元の最大値\n\t\t * @param {number} dstMin マッピング先の最小値\n\t\t * @param {number} dstMax マッピング先の最大値\n\t\t * @param {boolean} clamp trueの場合は入力値をsrcMin, srcMaxの範囲内に丸める\n\t\t * @returns {number} 出力値\n\t\t */\n\t\tpublic static map(value:number, srcMin:number, srcMax:number, dstMin:number, dstMax:number, clamp:boolean = true):number {\n\t\t\tif (srcMin == srcMax) return dstMin;\n\t\t\tif (clamp) {\n\t\t\t\tif (srcMin < srcMax) {\n\t\t\t\t\tif (value < srcMin) value = srcMin;\n\t\t\t\t\telse if (value > srcMax) value = srcMax;\n\t\t\t\t} else {\n\t\t\t\t\tif (value < srcMax) value = srcMax;\n\t\t\t\t\telse if (value > srcMin) value = srcMin;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (value - srcMin) * (dstMax - dstMin) / (srcMax - srcMin) + dstMin;\n\t\t}\n\n\t\t/**\n\t\t * 乱数（小数）を取得する\n\t\t * @param {number} min 最小値\n\t\t * @param {number} max 最大値\n\t\t * @returns {number} 出力値\n\t\t */\n\t\tpublic static random(min:number = 0, max:number = 1):number {\n\t\t\treturn min + (max - min) * Math.random();\n\t\t}\n\n\t\t/**\n\t\t * 乱数（整数）を取得する\n\t\t * @param {number} min 最小値\n\t\t * @param {number} max 最大値\n\t\t * @returns {number} 出力値\n\t\t */\n\t\tpublic static randomInt(min:number = 0, max:number = 1):number {\n\t\t\treturn Math.floor(Num.random(min, max));\n\t\t}\n\n\t\t/**\n\t\t * 値を特定範囲内に丸める\n\t\t * @param {number} value 入力値\n\t\t * @param {number} min 最小値\n\t\t * @param {number} max 最大値\n\t\t * @returns {number} 出力値\n\t\t */\n\t\tpublic static clamp(value:number, min:number, max:number):number {\n\t\t\treturn value < min ? min : (value > max ? max : value);\n\t\t}\n\n\t\t/**\n\t\t * 2点間の距離を取得する\n\t\t * @param {number} x1 点1のx座標\n\t\t * @param {number} y1 点1のy座標\n\t\t * @param {number} x2 点2のx座標\n\t\t * @param {number} y2 点2のy座標\n\t\t * @param {boolean} squared trueの場合は2乗の値を取得する\n\t\t * @returns {number} 距離\n\t\t */\n\t\tpublic static dist(x1:number, y1:number, x2:number, y2:number, squared:boolean = false):number {\n\t\t\tconst dx:number = x2 - x1;\n\t\t\tconst dy:number = y2 - y1;\n\t\t\treturn squared ? (dx * dx + dy * dy) : Math.sqrt(dx * dx + dy * dy);\n\t\t}\n\n\t\t/**\n\t\t * 値をラジアン法から弧度法に変換する\n\t\t * @param {number} radian ラジアン法\n\t\t * @returns {number} 弧度法\n\t\t */\n\t\tpublic static radToDeg(radian:number):number {\n\t\t\treturn radian * Num.RAD2DEG;\n\t\t}\n\n\t\t/**\n\t\t * 値を弧度法からラジアン法に変換する\n\t\t * @param {number} radian 弧度法\n\t\t * @returns {number} ラジアン法\n\t\t */\n\t\tpublic static degToRad(degree:number):number {\n\t\t\treturn degree * Num.DEG2RAD;\n\t\t}\n\n\t\t/**\n\t\t * ある角度からある角度への回転角度を取得する\n\t\t * @param {number} from 元の角度\n\t\t * @param {number} to 目標の角度\n\t\t * @param {boolean} radian trueの場合はラジアン法で計算する\n\t\t * @returns {number} 回転角度\n\t\t */\n\t\tpublic static turn(from:number, to:number, radian:boolean = true):number {\n\t\t\treturn radian ? ((to - from + Num.PI3) % Num.PI2 - Math.PI) : ((to - from + 540) % 360 - 180);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONST\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static PI2:number = Math.PI * 2;\n\t\tpublic static PI3:number = Math.PI * 3;\n\t\tpublic static PI4:number = Math.PI * 4;\n\t\tpublic static PI5:number = Math.PI * 5;\n\t\tpublic static PI6:number = Math.PI * 6;\n\t\tpublic static PI_2:number = Math.PI / 2;\n\t\tpublic static PI_3:number = Math.PI / 3;\n\t\tpublic static PI_4:number = Math.PI / 4;\n\t\tpublic static PI_6:number = Math.PI / 6;\n\n\t\tprivate static RAD2DEG:number = 180 / Math.PI;\n\t\tprivate static DEG2RAD:number = Math.PI / 180;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Raffle<T = any> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(values:T[] = null) {\n\t\t\tif (values) {\n\t\t\t\tthis.set(values);\n\t\t\t} else {\n\t\t\t\tthis.initValues = this.restValues = null;\n\t\t\t\tthis.restCount = this.restValues.length;\n\t\t\t\tthis.isEmpty = true;\n\t\t\t}\n\t\t\tthis.onCheck = null;\n\t\t\tthis.isAutoResetEnabled = false;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(values:T[]):void {\n\t\t\tthis.initValues = values.concat();\n\t\t\tthis.reset();\n\t\t}\n\n\t\tpublic get():T {\n\t\t\tif (this.isEmpty && this.isAutoResetEnabled) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t\tconst index:number = Math.floor(Math.random() * this.restCount);\n\t\t\tconst value:T = this.restValues[index];\n\t\t\tlet result:boolean = true;\n\t\t\tif (this.onCheck) result = this.onCheck(value);\n\t\t\tif (result) {\n\t\t\t\tthis.restValues.splice(index, 1);\n\t\t\t\tthis.restCount = this.restValues.length;\n\t\t\t\tthis.isEmpty = this.restCount == 0;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tpublic reset():void {\n\t\t\tthis.restValues = this.initValues.concat();\n\t\t\tthis.restCount = this.restValues.length;\n\t\t\tthis.isEmpty = this.restCount == 0;\n\t\t}\n\n\t\tpublic getRestCount():number {\n\t\t\treturn this.restCount;\n\t\t}\n\n\t\tpublic getIsEmply():boolean {\n\t\t\treturn this.isEmpty;\n\t\t}\n\n\t\tpublic getIsAutoResetEnabled():boolean {\n\t\t\treturn this.isAutoResetEnabled;\n\t\t}\n\n\t\tpublic setIsAutoResetEnabled(enabled:boolean):void {\n\t\t\tthis.isAutoResetEnabled = enabled;\n\t\t}\n\n\t\tpublic static createIndices(count:number):Raffle<number> {\n\t\t\tconst values:number[] = new Array(count);\n\t\t\tfor (let i:number = 0; i < count; ++i) values[i] = i;\n\t\t\treturn new Raffle<number>(values);\n\t\t}\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic onCheck:(value:T) => boolean;\n\n\t\tprivate isAutoResetEnabled:boolean;\n\t\tprivate isEmpty:boolean;\n\t\tprivate restCount:number;\n\t\tprivate restValues:T[];\n\t\tprivate initValues:T[];\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Rotator {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(angle:number = 0, velocity:number = 0, radian:boolean = true) {\n\t\t\tthis.setAngle(angle, radian);\n\t\t\tthis.setVelocity(velocity, radian);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getAngle(radian:boolean = true):number {\n\t\t\treturn radian ? this.angle : (this.angle * 180 / Math.PI);\n\t\t}\n\n\t\tpublic setAngle(angle:number, radian:boolean = true):void {\n\t\t\tthis.angle = radian ? angle : (angle * Math.PI / 180);\n\t\t}\n\n\t\tpublic getVelocity(radian:boolean = true):number {\n\t\t\treturn radian ? this.velocity : (this.velocity * 180 / Math.PI);\n\t\t}\n\n\t\tpublic setVelocity(velocity:number, radian:boolean = true):void {\n\t\t\tthis.velocity = radian ? velocity : (velocity * Math.PI / 180);\n\t\t}\n\n\t\tpublic update():void {\n\t\t\tthis.angle += this.velocity;\n\t\t}\n\n\t\tpublic getSin(length:number = 1):number {\n\t\t\treturn length * Math.sin(this.angle);\n\t\t}\n\n\t\tpublic getCos(length:number = 1):number {\n\t\t\treturn length * Math.cos(this.angle);\n\t\t}\n\n\t\tpublic getTan(length:number = 1):number {\n\t\t\treturn length * Math.tan(this.angle);\n\t\t}\n\n\t\tpublic getMagnitude(length:number = 1):number {\n\t\t\treturn length * (1 + Math.sin(this.angle)) / 2;\n\t\t}\n\n\t\tpublic getVector(length:number = 1, xy:{ x:number, y:number } = null):{ x:number, y:number } {\n\t\t\tif (xy != null) {\n\t\t\t\txy.x = this.getCos(length);\n\t\t\t\txy.y = this.getSin(length);\n\t\t\t} else {\n\t\t\t\treturn { x: this.getCos(length), y: this.getSin(length) };\n\t\t\t}\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate angle:number;\n\t\tprivate velocity:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace project {\n\n\texport class Str {\n\n\t\t/**\n\t\t * 時間を h:mm:ss の形式で取得する\n\t\t * @param {number} hours 時\n\t\t * @param {number} minutes 分\n\t\t * @param {number} seconds 秒\n\t\t * @returns {string} h:mm:ss 形式の文字列\n\t\t */\n\t\tpublic static toTimeString(hours:number = 0, minutes:number = 0, seconds:number = 0):string {\n\t\t\tseconds += minutes * 60 + hours * 3600;\n\t\t\tlet h:string = Math.floor(seconds / 3600).toString();\n\t\t\tlet m:string = Math.floor((seconds / 60) % 60).toString();\n\t\t\tlet s:string = (\"0\" + Math.floor(seconds % 60)).substr(-2, 2);\n\t\t\tif (h != \"0\") {\n\t\t\t\treturn h + \":\" + (\"0\" + m).substr(-2, 2) + \":\" + s;\n\t\t\t} else {\n\t\t\t\treturn m + \":\" + s;\n\t\t\t}\n\t\t}\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Vector2 {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(x:number = 0, y:number = 0) {\n\t\t\tthis.set(x, y);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(x:number, y:number):void {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t}\n\n\t\tpublic copyTo(point:Vector2):void {\n\t\t\tpoint.set(this.x, this.y);\n\t\t}\n\n\t\tpublic getClone():Vector2 {\n\t\t\treturn new Vector2(this.x, this.y);\n\t\t}\n\n\t\tpublic zero():void {\n\t\t\tthis.set(0, 0);\n\t\t}\n\n\t\tpublic normalize():void {\n\t\t\tconst l:number = this.getLength();\n\t\t\tthis.x /= l;\n\t\t\tthis.y /= l;\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t\t}\n\n\t\tpublic getSquareDistance(point:Vector2):number {\n\t\t\tconst dx:number = point.x - this.x;\n\t\t\tconst dy:number = point.y - this.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\t}\n\n\t\tpublic getDistance(point:Vector2):number {\n\t\t\treturn Math.sqrt(this.getSquareDistance(point));\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic x:number;\n\t\tpublic y:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Vector3 {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(x:number = 0, y:number = 0, z:number = 0) {\n\t\t\tthis.set(x, y, z);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(x:number, y:number, z:number):void {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t}\n\n\t\tpublic copyTo(point:Vector3):void {\n\t\t\tpoint.set(this.x, this.y, this.z);\n\t\t}\n\n\t\tpublic getClone():Vector3 {\n\t\t\treturn new Vector3(this.x, this.y, this.z);\n\t\t}\n\n\t\tpublic zero():void {\n\t\t\tthis.set(0, 0, 0);\n\t\t}\n\n\t\tpublic normalize():void {\n\t\t\tconst l:number = this.getLength();\n\t\t\tthis.x /= l;\n\t\t\tthis.y /= l;\n\t\t\tthis.z /= l;\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\t\t}\n\n\t\tpublic getSquareDistance(point:Vector3):number {\n\t\t\tconst dx:number = point.x - this.x;\n\t\t\tconst dy:number = point.y - this.y;\n\t\t\tconst dz:number = point.z - this.z;\n\t\t\treturn dx * dx + dy * dy + dz * dz;\n\t\t}\n\n\t\tpublic getDistance(point:Vector3):number {\n\t\t\treturn Math.sqrt(this.getSquareDistance(point));\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic x:number;\n\t\tpublic y:number;\n\t\tpublic z:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Rectangle {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(x:number = 0, y:number = 0, width:number = 0, height:number = 0) {\n\t\t\tthis.set(x, y, width, height);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic set(x:number, y:number, width:number, height:number):void {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tpublic copyTo(rect:Rectangle):void {\n\t\t\trect.set(this.x, this.y, this.width, this.height);\n\t\t}\n\n\t\tpublic getClone():Rectangle {\n\t\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t\t}\n\n\t\tpublic getTop():number {\n\t\t\treturn this.y;\n\t\t}\n\n\t\tpublic getBottom():number {\n\t\t\treturn this.y + this.height;\n\t\t}\n\n\t\tpublic getLeft():number {\n\t\t\treturn this.x;\n\t\t}\n\n\t\tpublic getRight():number {\n\t\t\treturn this.x + this.width;\n\t\t}\n\n\t\tpublic getTopLeft():Vector2 {\n\t\t\treturn new Vector2(this.getLeft(), this.getTop());\n\t\t}\n\n\t\tpublic getTopRight():Vector2 {\n\t\t\treturn new Vector2(this.getRight(), this.getTop());\n\t\t}\n\n\t\tpublic getBottomLeft():Vector2 {\n\t\t\treturn new Vector2(this.getLeft(), this.getBottom());\n\t\t}\n\n\t\tpublic getBottomRight():Vector2 {\n\t\t\treturn new Vector2(this.getRight(), this.getBottom());\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic x:number;\n\t\tpublic y:number;\n\t\tpublic width:number;\n\t\tpublic height:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class Timer extends cmd.EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(interval:number = 1000, repeatCount:number = 0) {\n\t\t\tsuper();\n\t\t\tthis.interval = interval;\n\t\t\tthis.repeatCount = repeatCount;\n\t\t\tthis.isRunning = false;\n\t\t\tthis.tId = -1;\n\t\t\tthis.reset();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\t\t\tthis.tStartTime = this.getCurrentTime();\n\t\t\tthis.startInterval(this.tRestTime != -1 ? this.tRestTime : this.interval);\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\t\t\tthis.tRestTime = this.getCurrentTime() - this.tStartTime;\n\t\t\tthis.stopInterval();\n\t\t}\n\n\t\tpublic reset():void {\n\t\t\tthis.stop();\n\t\t\tthis.elapsedCount = 0;\n\t\t\tthis.tRestTime = -1;\n\t\t}\n\n\t\tpublic restart():void {\n\t\t\tthis.reset();\n\t\t\tthis.start();\n\t\t}\n\n\n\n\n\n\t\tprivate getCurrentTime():number {\n\t\t\treturn new Date().valueOf();\n\t\t}\n\n\t\tprivate startInterval(interval:number):void {\n\t\t\tthis.stopInterval();\n\t\t\tthis.tInterval = interval;\n\t\t\tthis.tId = window.setInterval(this.timerHandler, this.tInterval);\n\t\t}\n\n\t\tprivate stopInterval():void {\n\t\t\tif (this.tId != -1) {\n\t\t\t\tclearInterval(this.tId);\n\t\t\t\tthis.tId = -1;\n\t\t\t}\n\t\t}\n\n\t\tprivate dispatch(eventType:string):void {\n\t\t\tthis.dispatchEvent(new TimerEvent(eventType, this, this.elapsedCount, this.repeatCount, this.getRestCount()));\n\t\t}\n\n\t\tprivate timerHandler = ():void => {\n\t\t\tthis.tStartTime = this.getCurrentTime();\n\t\t\t++this.elapsedCount;\n\t\t\tlet isCompleted:boolean = false;\n\t\t\tif (this.repeatCount > 0 && this.elapsedCount >= this.repeatCount) {\n\t\t\t\tisCompleted = true;\n\t\t\t\tthis.stop();\n\t\t\t} else if (this.tInterval != this.interval) {\n\t\t\t\tthis.startInterval(this.interval);\n\t\t\t}\n\t\t\tthis.dispatch(TimerEvent.TICK);\n\t\t\tif (isCompleted) {\n\t\t\t\tthis.dispatch(TimerEvent.COMPLETE);\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getIsRunning():boolean { return this.isRunning; }\n\t\tprivate isRunning:boolean;\n\n\t\tpublic getInterval():number { return this.interval; }\n\t\tpublic setInterval(interval:number):void { this.interval = interval; }\n\t\tprivate interval:number;\n\n\t\tpublic getElapsedTime():number { return this.getCurrentTime() - this.tStartTime; }\n\n\t\tpublic getRestTime():number { return this.interval - this.getElapsedTime(); }\n\n\t\tpublic getElapsedCount():number { return this.elapsedCount; }\n\t\tprivate elapsedCount:number;\n\n\t\tpublic getRepeatCount():number { return this.repeatCount; }\n\t\tpublic setRepeatCount(count:number):void { this.repeatCount = count; }\n\t\tprivate repeatCount:number;\n\n\t\tpublic getRestCount():number { return this.repeatCount - this.elapsedCount; }\n\n\t\tprivate tStartTime:number;\n\t\tprivate tRestTime:number;\n\t\tprivate tInterval:number;\n\t\tprivate tId:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class TimerEvent extends cmd.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static TICK:string = \"tick\";\n\t\tpublic static COMPLETE:string = \"complete\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, elapsedCount:number = 0, repeatCount:number = 0, restCount:number = 0) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.elapsedCount = elapsedCount;\n\t\t\tthis.repeatCount = repeatCount;\n\t\t\tthis.restCount = restCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():TimerEvent {\n\t\t\treturn new TimerEvent(this.getType(), this.getTarget(), this.elapsedCount, this.repeatCount, this.restCount);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[TimerEvent] type = \" + this.getType() + \", elapsedCount = \" + this.elapsedCount + \", repeatCount=\" + this.repeatCount + \", restCount=\" + this.restCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic elapsedCount:number;\n\t\tpublic repeatCount:number;\n\t\tpublic restCount:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class KeyWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new cmd.EventDispatcher();\n\t\t}\n\n\t\tpublic static start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[KeyWatcher] start\");\n\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\t$window.on(\"keydown\", this.windowKeyDownHandler);\n\t\t\t$window.on(\"keyup\", this.windowKeyUpHandler);\n\t\t}\n\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[KeyWatcher] stop\");\n\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\t$window.off(\"keydown\", this.windowKeyDownHandler);\n\t\t\t$window.off(\"keyup\", this.windowKeyUpHandler);\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:KeyWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:KeyWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener);\n\t\t}\n\n\n\n\n\n\t\tprivate static windowKeyDownHandler = (event:JQuery.Event):void => {\n\t\t\tconst keyCode:number = event.keyCode;\n\t\t\tif (KeyWatcher.isKeyPressedByKeyCode[keyCode] == null) {\n\t\t\t\tKeyWatcher.isKeyPressedByKeyCode[keyCode] = true;\n\t\t\t\t++KeyWatcher.pressedKeyCount;\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_DOWN, KeyWatcher, event));\n\t\t\t} else if (KeyWatcher.isContinuousPressEnabled) {\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_DOWN, KeyWatcher, event));\n\t\t\t}\n\t\t};\n\n\t\tprivate static windowKeyUpHandler = (event:JQuery.Event):void => {\n\t\t\tconst keyCode:number = event.keyCode;\n\t\t\tif (KeyWatcher.isKeyPressedByKeyCode[keyCode] != null) {\n\t\t\t\tdelete KeyWatcher.isKeyPressedByKeyCode[keyCode];\n\t\t\t\t--KeyWatcher.pressedKeyCount;\n\t\t\t\tKeyWatcher.eventDispatcher.dispatchEvent(new KeyWatcherEvent(KeyWatcherEvent.KEY_UP, KeyWatcher, event));\n\t\t\t}\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getIsAnyKeyPressed():boolean { return this.pressedKeyCount > 0; }\n\t\tprivate static pressedKeyCount:number = 0;\n\n\t\tpublic static getIsKeyPressed(keyCode:number):boolean { return this.isKeyPressedByKeyCode[keyCode] != null; }\n\t\tprivate static isKeyPressedByKeyCode:cmd.Hash<boolean> = {};\n\n\n\t\tpublic static getIsContinuousPressEnabled():boolean { return this.isContinuousPressEnabled; }\n\t\tpublic static setIsContinuousPressEnabled(enabled:boolean):void { this.isContinuousPressEnabled = enabled; }\n\t\tprivate static isContinuousPressEnabled:boolean = false;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static pressTimer:alm.Timer = null;\n\t\tprivate static isLongPressed:boolean = false;\n\t\tprivate static eventDispatcher:cmd.EventDispatcher = null;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class KeyWatcherEvent extends cmd.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic KEY_UP:string = \"keyUp\";\n\t\tstatic KEY_DOWN:string = \"keyDown\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, jqueryEvent:JQuery.Event = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.jqueryEvent = jqueryEvent;\n\t\t\tthis.key = this.jqueryEvent.key;\n\t\t\tthis.keyCode = this.jqueryEvent.keyCode;\n\t\t\tthis.altKey = this.jqueryEvent.altKey;\n\t\t\tthis.ctrlKey = this.jqueryEvent.ctrlKey;\n\t\t\tthis.shiftKey = this.jqueryEvent.shiftKey;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():KeyWatcherEvent {\n\t\t\treturn new KeyWatcherEvent(this.getType(), this.getTarget(), this.jqueryEvent);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[KeyWatcherEvent] type = \" + this.getType() + \", key = \" + this.key + \", keyCode = \" + this.keyCode + \", altKey = \" + this.altKey + \", ctrlKey = \" + this.ctrlKey + \", shiftKey = \" + this.shiftKey;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic jqueryEvent:JQuery.Event;\n\t\tpublic key:string;\n\t\tpublic keyCode:number;\n\t\tpublic altKey:boolean;\n\t\tpublic ctrlKey:boolean;\n\t\tpublic shiftKey:boolean;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\n// Original\n// https://github.com/nfriend/ts-keycode-enum\n// License MIT\n\nnamespace alm {\n\n\texport enum KeyCode {\n\n\t\tBackspace = 8,\n\t\tTab = 9,\n\t\tEnter = 13,\n\t\tShift = 16,\n\t\tCtrl = 17,\n\t\tAlt = 18,\n\t\tPauseBreak = 19,\n\t\tCapsLock = 20,\n\t\tEscape = 27,\n\t\tSpace = 32,\n\t\tPageUp = 33,\n\t\tPageDown = 34,\n\t\tEnd = 35,\n\t\tHome = 36,\n\n\t\tLeftArrow = 37,\n\t\tUpArrow = 38,\n\t\tRightArrow = 39,\n\t\tDownArrow = 40,\n\n\t\tInsert = 45,\n\t\tDelete = 46,\n\n\t\tKey0 = 48,\n\t\tKey1 = 49,\n\t\tKey2 = 50,\n\t\tKey3 = 51,\n\t\tKey4 = 52,\n\t\tKey5 = 53,\n\t\tKey6 = 54,\n\t\tKey7 = 55,\n\t\tKey8 = 56,\n\t\tKey9 = 57,\n\n\t\tClosedParen = Key0,\n\t\tExclamationMark = Key1,\n\t\tAtSign = Key2,\n\t\tPoundSign = Key3,\n\t\tHash = PoundSign,\n\t\tDollarSign = Key4,\n\t\tPercentSign = Key5,\n\t\tCaret = Key6,\n\t\tHat = Caret,\n\t\tAmpersand = Key7,\n\t\tStar = Key8,\n\t\tAsterik = Star,\n\t\tOpenParen = Key9,\n\n\t\tA = 65,\n\t\tB = 66,\n\t\tC = 67,\n\t\tD = 68,\n\t\tE = 69,\n\t\tF = 70,\n\t\tG = 71,\n\t\tH = 72,\n\t\tI = 73,\n\t\tJ = 74,\n\t\tK = 75,\n\t\tL = 76,\n\t\tM = 77,\n\t\tN = 78,\n\t\tO = 79,\n\t\tP = 80,\n\t\tQ = 81,\n\t\tR = 82,\n\t\tS = 83,\n\t\tT = 84,\n\t\tU = 85,\n\t\tV = 86,\n\t\tW = 87,\n\t\tX = 88,\n\t\tY = 89,\n\t\tZ = 90,\n\n\t\tLeftWindowKey = 91,\n\t\tRightWindowKey = 92,\n\t\tSelectKey = 93,\n\n\t\tNumpad0 = 96,\n\t\tNumpad1 = 97,\n\t\tNumpad2 = 98,\n\t\tNumpad3 = 99,\n\t\tNumpad4 = 100,\n\t\tNumpad5 = 101,\n\t\tNumpad6 = 102,\n\t\tNumpad7 = 103,\n\t\tNumpad8 = 104,\n\t\tNumpad9 = 105,\n\n\t\tMultiply = 106,\n\t\tAdd = 107,\n\t\tSubtract = 109,\n\t\tDecimalPoint = 110,\n\t\tDivide = 111,\n\n\t\tF1 = 112,\n\t\tF2 = 113,\n\t\tF3 = 114,\n\t\tF4 = 115,\n\t\tF5 = 116,\n\t\tF6 = 117,\n\t\tF7 = 118,\n\t\tF8 = 119,\n\t\tF9 = 120,\n\t\tF10 = 121,\n\t\tF11 = 122,\n\t\tF12 = 123,\n\n\t\tNumLock = 144,\n\t\tScrollLock = 145,\n\n\t\tSemiColon = 186,\n\t\tEquals = 187,\n\t\tComma = 188,\n\t\tDash = 189,\n\t\tPeriod = 190,\n\t\tUnderScore = Dash,\n\t\tPlusSign = Equals,\n\t\tForwardSlash = 191,\n\t\tTilde = 192,\n\t\tGraveAccent = Tilde,\n\n\t\tOpenBracket = 219,\n\t\tClosedBracket = 221,\n\t\tQuote = 222\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ResizeWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new cmd.EventDispatcher();\n\t\t}\n\n\t\tpublic static start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ResizeWatcher] start\");\n\n\t\t\tjQuery(window).on(\"resize\", this.windowResizeHandler);\n\t\t\tthis.apply();\n\t\t}\n\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ResizeWatcher] stop\");\n\n\t\t\tjQuery(window).off(\"resize\", this.windowResizeHandler);\n\t\t}\n\n\t\tpublic static apply():void {\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\tResizeWatcher.windowWidth = $window.width();\n\t\t\tResizeWatcher.windowHeight = $window.height();\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:ResizeWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:ResizeWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener);\n\t\t}\n\n\n\n\n\n\t\tprivate static windowResizeHandler = (event:JQuery.Event):void => {\n\t\t\tResizeWatcher.apply();\n\t\t\tResizeWatcher.eventDispatcher.dispatchEvent(new ResizeWatcherEvent(ResizeWatcherEvent.RESIZE, ResizeWatcher, event, ResizeWatcher.windowWidth, ResizeWatcher.windowHeight));\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getWindowWidth():number { return this.windowWidth; }\n\t\tprivate static windowWidth:number = 0;\n\n\t\tpublic static getWindowHeight():number { return this.windowHeight; }\n\t\tprivate static windowHeight:number = 0;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static eventDispatcher:cmd.EventDispatcher = null;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ResizeWatcherEvent extends cmd.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic RESIZE:string = \"resize\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, jqueryEvent:JQuery.Event = null, windowWidth:number = 0, windowHeight:number = 0) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.jqueryEvent = jqueryEvent;\n\t\t\tthis.windowWidth = windowWidth;\n\t\t\tthis.windowHeight = windowHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():ResizeWatcherEvent {\n\t\t\treturn new ResizeWatcherEvent(this.getType(), this.getTarget(), this.jqueryEvent, this.windowWidth, this.windowHeight);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[ResizeWatcherEvent] type = \" + this.getType() + \", windowWidth = \" + this.windowWidth + \", windowHeight = \" + this.windowHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic jqueryEvent:JQuery.Event;\n\t\tpublic windowWidth:number;\n\t\tpublic windowHeight:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ScrollWatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate constructor() {\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate static initialize():void {\n\t\t\tif (this.isInitialized) return;\n\t\t\tthis.isInitialized = true;\n\n\t\t\tthis.eventDispatcher = new cmd.EventDispatcher();\n\t\t}\n\n\t\tpublic static start():void {\n\t\t\tif (this.isRunning) return;\n\t\t\tthis.isRunning = true;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ScrollWatcher] start\");\n\n\t\t\tjQuery(window).on(\"resize\", this.windowScrollHandler);\n\t\t\tjQuery(window).on(\"scroll\", this.windowScrollHandler);\n\t\t\tthis.apply();\n\t\t}\n\n\n\t\tpublic static stop():void {\n\t\t\tif (!this.isRunning) return;\n\t\t\tthis.isRunning = false;\n\n\t\t\tthis.initialize();\n\t\t\ttrace(\"[ScrollWatcher] stop\");\n\n\t\t\tjQuery(window).off(\"resize\", this.windowScrollHandler);\n\t\t\tjQuery(window).off(\"scroll\", this.windowScrollHandler);\n\t\t}\n\n\t\tpublic static apply():void {\n\t\t\tconst $window:JQuery = jQuery(window);\n\t\t\tthis.windowHeight = $window.height();\n\t\t\tthis.scrollTop = $window.scrollTop();\n\t\t\tthis.scrollBottom = this.scrollTop + this.windowHeight;\n\t\t}\n\n\t\tpublic static addEventListener(eventType:string, listener:(event:ScrollWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.addEventListener(eventType, listener);\n\t\t}\n\n\t\tpublic static removeEventListener(eventType:string, listener:(event:ScrollWatcherEvent) => void):void {\n\t\t\tthis.initialize();\n\t\t\tthis.eventDispatcher.removeEventListener(eventType, listener);\n\t\t}\n\n\t\tpublic static calcScrolledPosition(y:number):number {\n\t\t\treturn y - this.scrollTop;\n\t\t};\n\n\t\tpublic static calcScrolledPositionRatio(y:number):number {\n\t\t\treturn this.calcScrolledPosition(y) / this.windowHeight;\n\t\t}\n\n\n\n\n\n\n\t\tprivate static windowScrollHandler = (event:JQuery.Event):void => {\n\t\t\tScrollWatcher.apply();\n\t\t\tScrollWatcher.eventDispatcher.dispatchEvent(new ScrollWatcherEvent(ScrollWatcherEvent.SCROLL, ScrollWatcher, event, ScrollWatcher.scrollTop, ScrollWatcher.scrollBottom, ScrollWatcher.windowHeight));\n\t\t};\n\n\t\tprivate static windowResizeHandler = (event:JQuery.Event):void => {\n\t\t\tScrollWatcher.apply();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic static getIsRunning():boolean { return this.isRunning; }\n\t\tprivate static isRunning:boolean = false;\n\n\t\tpublic static getScrollTop():number { return this.scrollTop; }\n\t\tprivate static scrollTop:number;\n\n\t\tpublic static getScrollBottom():number { return this.scrollBottom; }\n\t\tprivate static scrollBottom:number;\n\n\t\tpublic static getWindowHeight():number { return this.windowHeight; }\n\t\tprivate static windowHeight:number = 0;\n\n\t\tprivate static isInitialized:boolean = false;\n\t\tprivate static eventDispatcher:cmd.EventDispatcher = null;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class ScrollWatcherEvent extends cmd.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic SCROLL:string = \"scroll\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, jqueryEvent:JQuery.Event = null, scrollTop:number = 0, scrollBottom:number = 0, windowHeight:number = 0) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.jqueryEvent = jqueryEvent;\n\t\t\tthis.scrollTop = scrollTop;\n\t\t\tthis.scrollBottom = scrollBottom;\n\t\t\tthis.windowHeight = windowHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():ScrollWatcherEvent {\n\t\t\treturn new ScrollWatcherEvent(this.getType(), this.getTarget(), this.jqueryEvent, this.scrollTop, this.scrollBottom, this.windowHeight);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[ScrollWatcherEvent] type = \" + this.getType() + \", scrollTop = \" + this.scrollTop + \", scrollBottom = \" + this.scrollBottom + \", windowHeight = \" + this.windowHeight;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic jqueryEvent:JQuery.Event;\n\t\tpublic scrollTop:number;\n\t\tpublic scrollBottom:number;\n\t\tpublic windowHeight:number;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class AssetLoader {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tthis.isLoading_ = false;\n\n\t\t\tthis.currentCount = 0;\n\t\t\tthis.totalCount = 0;\n\n\t\t\tthis.loadingQueries = [];\n\t\t\tthis.loadingQueryIndex = -1;\n\n\t\t\tthis.queriesByQueryId = {};\n\t\t\tthis.queriesByUrl = {};\n\n\t\t\tthis.texturesByUrl = {};\n\t\t\tthis.texturesByQueryId = {};\n\n\t\t\tthis.eventDispatcher = new cmd.EventDispatcher();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic requireJQueryJson(url:string):string {\n\t\t\treturn this.addQuery(\"jQuery.JSON\", url, {});\n\t\t}\n\n\t\tpublic requireThreeTexture(url:string):string {\n\t\t\treturn this.addQuery(\"THREE.Texture\", url, {});\n\t\t}\n\n\t\t//public requireJQueryJson(url:string, onLoad?:(data:any)=>void):string {\n\t\t//\treturn this.addQuery(\"jQuery.JSON\", url, { onLoad: onLoad });\n\t\t//}\n\n\t\t//public requireThreeTexture(url:string, onLoad?:(texture:THREE.Texture)=>void, onError?:(message:string)=>void):string {\n\t\t//\treturn this.addQuery(\"THREE.Texture\", url, { onLoad: onLoad, onError: onError });\n\t\t//}\n\n\t\t//public requireThreeTextureAtlas(baseUrl:string, onLoad?:(texture:THREE.Texture)=>void, onError?:(message:string)=>void):string {\n\t\t//\treturn this.addQuery(\"THREE.TextureAtlas\", baseUrl, { onLoad: onLoad, onError: onError });\n\t\t//}\n\n\t\tprivate addQuery(type:string, url:string, param:any):string {\n\t\t\tif (this.queriesByUrl[url]) return this.queriesByUrl[url].id;\n\n\t\t\tconst query:LoaderQuery = new LoaderQuery();\n\t\t\tquery.id = String(AssetLoader.id);\n\t\t\tquery.type = type;\n\t\t\tquery.url = url;\n\t\t\tquery.param = param;\n\t\t\tthis.loadingQueries.push(query);\n\t\t\tthis.queriesByQueryId[query.id] = query;\n\t\t\tthis.queriesByUrl[query.url] = query;\n\t\t\t++AssetLoader.id;\n\t\t\treturn query.id;\n\t\t}\n\n\t\tpublic load():void {\n\t\t\tif (this.isLoading_) return;\n\t\t\tthis.isLoading_ = true;\n\t\t\tthis.loadingQueryIndex = -1;\n\t\t\tthis.next();\n\t\t}\n\n\t\tprivate next():void {\n\t\t\tthis.currentCount = this.loadingQueryIndex + 1;\n\t\t\tthis.totalCount = this.loadingQueries.length;\n\n\t\t\tif (this.currentCount > 0) {\n\t\t\t\tthis.eventDispatcher.dispatchEvent(new AssetLoaderEvent(AssetLoaderEvent.PROGRESS, this, this.currentCount / this.totalCount, this.currentCount, this.totalCount));\n\t\t\t}\n\n\t\t\tif (this.currentCount < this.totalCount) {\n\t\t\t\tthis.loadingQueryIndex++;\n\t\t\t\tconst query:LoaderQuery = this.loadingQueries[this.loadingQueryIndex];\n\t\t\t\tquery.isLoading = true;\n\t\t\t\tquery.isLoadComplete = false;\n\t\t\t\ttrace(\"[AssetLoader] loading... \" + \"'\" + query.url + \"' as '\" + query.type + \"'\");\n\t\t\t\tswitch (query.type) {\n\n\t\t\t\t\t// --------------------------------------------------\n\t\t\t\t\t// jQuery JSON\n\t\t\t\t\tcase \"jQuery.JSON\":\n\t\t\t\t\t\tjQuery.getJSON(\n\t\t\t\t\t\t\tquery.url,\n\t\t\t\t\t\t\t(data:any):void => {\n\t\t\t\t\t\t\t\tquery.isLoading = false;\n\t\t\t\t\t\t\t\tquery.isLoadComplete = true;\n\t\t\t\t\t\t\t\tquery.content = data;\n\t\t\t\t\t\t\t\tif (query.param.onLoad)\n\t\t\t\t\t\t\t\t\tquery.param.onLoad(data);\n\t\t\t\t\t\t\t\tthis.next();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t// --------------------------------------------------\n\t\t\t\t\t// Three.js Texture\n\t\t\t\t\tcase \"THREE.Texture\":\n\t\t\t\t\t\tlet url:string = query.url;\n\t\t\t\t\t\tconst loader:THREE.TextureLoader = new THREE.TextureLoader();\n\t\t\t\t\t\tconst texture:THREE.Texture = loader.load(\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t(texture:THREE.Texture):void => {\n\t\t\t\t\t\t\t\tquery.isLoading = false;\n\t\t\t\t\t\t\t\tquery.isLoadComplete = true;\n\t\t\t\t\t\t\t\tquery.content = texture;\n\t\t\t\t\t\t\t\tif (query.param.onLoad)\n\t\t\t\t\t\t\t\t\tquery.param.onLoad(texture);\n\t\t\t\t\t\t\t\tthis.next();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(event:ProgressEvent):void => {\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(event:ErrorEvent):void => {\n\t\t\t\t\t\t\t\tquery.isLoading = false;\n\t\t\t\t\t\t\t\tquery.isLoadComplete = true;\n\t\t\t\t\t\t\t\tif (query.param.onError)\n\t\t\t\t\t\t\t\t\tquery.param.onError(event.type + \" : \" + event.message);\n\t\t\t\t\t\t\t\tthis.next();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.texturesByUrl[query.url] = texture;\n\t\t\t\t\t\tthis.texturesByQueryId[query.id] = texture;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t/*\n\t\t\t\t\t// --------------------------------------------------\n\t\t\t\t\t// Three.js Texture Atlas\n\t\t\t\t\tcase \"THREE.TextureAtlas\":\n\t\t\t\t\t\tjQuery.getJSON(\n\t\t\t\t\t\t\tquery.url + \".json\",\n\t\t\t\t\t\t\t(json:any):void => {\n\t\t\t\t\t\t\t\tTHREE.ImageUtils.loadTexture(\n\t\t\t\t\t\t\t\t\tquery.url,\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t(textureAtlas:THREE.Texture):void => {\n\t\t\t\t\t\t\t\t\t\tconst textureAtlasWidth:number = textureAtlas.image.width;\n\t\t\t\t\t\t\t\t\t\tconst textureAtlasHeight:number = textureAtlas.image.height;\n\t\t\t\t\t\t\t\t\t\tconst texturesByTextureId:Hash<THREE.Texture> = {};\n\t\t\t\t\t\t\t\t\t\tconst texture:THREE.Texture;\n\t\t\t\t\t\t\t\t\t\tconst textureFrame:any;\n\t\t\t\t\t\t\t\t\t\tfor (let textureId in json.frames) {\n\t\t\t\t\t\t\t\t\t\t\ttexture = textureAtlas.clone();\n\t\t\t\t\t\t\t\t\t\t\ttextureFrame = json.frames[textureId].frame;\n\t\t\t\t\t\t\t\t\t\t\ttexture.repeat.x = textureFrame.w / textureAtlasWidth;\n\t\t\t\t\t\t\t\t\t\t\ttexture.repeat.y = textureFrame.h / textureAtlasHeight;\n\t\t\t\t\t\t\t\t\t\t\ttexture.offset.x = Math.abs(textureFrame.x) / textureAtlasWidth;\n\t\t\t\t\t\t\t\t\t\t\ttexture.offset.y = Math.abs(textureFrame.y) / textureAtlasHeight;\n\t\t\t\t\t\t\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\t\t\t\t\t\t\ttexturesByTextureId[textureId] = texture;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tquery.isLoading = false;\n\t\t\t\t\t\t\t\t\t\tquery.isLoadComplete = true;\n\t\t\t\t\t\t\t\t\t\tquery.content = texturesByTextureId;\n\t\t\t\t\t\t\t\t\t\tquery.param.onLoad(texturesByTextureId);\n\t\t\t\t\t\t\t\t\t\tthis.next();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t(message:string):void => {\n\t\t\t\t\t\t\t\t\t\tquery.isLoading = false;\n\t\t\t\t\t\t\t\t\t\tquery.isLoadComplete = true;\n\t\t\t\t\t\t\t\t\t\tquery.param.onError(message);\n\t\t\t\t\t\t\t\t\t\tthis.next();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t*/\n\n\t\t\t\t\t// --------------------------------------------------\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.next();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.isLoading_ = false;\n\t\t\t\tthis.loadingQueries = [];\n\t\t\t\tthis.loadingQueryIndex = -1;\n\t\t\t\tthis.eventDispatcher.dispatchEvent(new AssetLoaderEvent(AssetLoaderEvent.COMPLETE, this, this.currentCount / this.totalCount, this.currentCount, this.totalCount));\n\t\t\t}\n\t\t}\n\n\t\tpublic addLoadUpdateListener(listener:(event:AssetLoaderEvent) => void):void {\n\t\t\tthis.eventDispatcher.addEventListener(AssetLoaderEvent.PROGRESS, listener);\n\t\t}\n\n\t\tpublic removeLoadUpdateListener(listener:(event:AssetLoaderEvent) => void):void {\n\t\t\tthis.eventDispatcher.removeEventListener(AssetLoaderEvent.PROGRESS, listener);\n\t\t}\n\n\t\tpublic addLoadCompleteListener(listener:(event:AssetLoaderEvent) => void):void {\n\t\t\tthis.eventDispatcher.addEventListener(AssetLoaderEvent.COMPLETE, listener);\n\t\t}\n\n\t\tpublic removeLoadCompleteListener(listener:(event:AssetLoaderEvent) => void):void {\n\t\t\tthis.eventDispatcher.removeEventListener(AssetLoaderEvent.COMPLETE, listener);\n\t\t}\n\n\t\tpublic getQueryByQueryId(queryId:string):LoaderQuery {\n\t\t\treturn this.queriesByQueryId[queryId];\n\t\t}\n\n\n\t\tpublic getQueryByUrl(url:string):LoaderQuery {\n\t\t\treturn this.queriesByUrl[url];\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic isLoading():boolean { return this.isLoading_; }\n\t\tprivate isLoading_:boolean;\n\n\t\tpublic getCurrentCount():number { return this.currentCount; }\n\t\tprivate currentCount:number;\n\n\t\tpublic getTotalCount():number { return this.totalCount; }\n\t\tprivate totalCount:number;\n\n\t\tpublic getTexturesByUrl(url:string):THREE.Texture { return this.texturesByUrl[url]; }\n\t\tprivate texturesByUrl:cmd.Hash<THREE.Texture>;\n\n\t\tpublic getTexturesByQueryId(textureId:string):THREE.Texture { return this.texturesByQueryId[textureId]; }\n\t\tprivate texturesByQueryId:cmd.Hash<THREE.Texture>;\n\n\t\tprivate loadingQueries:LoaderQuery[];\n\t\tprivate loadingQueryIndex:number;\n\n\t\tprivate queriesByQueryId:cmd.Hash<LoaderQuery>;\n\t\tprivate queriesByUrl:cmd.Hash<LoaderQuery>;\n\t\tprivate eventDispatcher:cmd.EventDispatcher;\n\n\t\tprivate static id:number = 0;\n\t}\n\n\n\n\n\n\texport class LoaderQuery {\n\t\tconstructor() {\n\t\t\tthis.isLoading = false;\n\t\t\tthis.isLoadComplete = false;\n\t\t}\n\n\t\tpublic id:string;\n\t\tpublic type:string;\n\t\tpublic url:string;\n\t\tpublic param:any;\n\t\tpublic content:any;\n\t\tpublic isLoading:boolean;\n\t\tpublic isLoadComplete:boolean;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport class AssetLoaderEvent extends cmd.Event {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// EVENT\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tstatic PROGRESS:string = \"progress\";\n\t\tstatic COMPLETE:string = \"complete\";\n\t\tstatic ERROR:string = \"error\";\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(eventType:string, eventTarget:any = null, progress:number = 0, loadedCount:number = 0, totalCount:number = 0, content:any = null) {\n\t\t\tsuper(eventType, eventTarget);\n\t\t\tthis.progress = progress;\n\t\t\tthis.loadedCount = loadedCount;\n\t\t\tthis.totalCount = totalCount;\n\t\t\tthis.content = content;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic clone():AssetLoaderEvent {\n\t\t\treturn new AssetLoaderEvent(this.getType(), this.getTarget(), this.progress, this.loadedCount, this.totalCount, this.content);\n\t\t}\n\n\t\tpublic toString():string {\n\t\t\treturn \"[AssetLoaderEvent] type = \" + this.getType() + \", progress = \" + this.progress + \", loadedCount = \" + this.loadedCount + \", totalCount = \" + this.totalCount;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic progress:number;\n\t\tpublic loadedCount:number;\n\t\tpublic totalCount:number;\n\t\tpublic content:any;\n\t}\n}","/// <reference path=\"../reference.ts\" />\n\nnamespace alm {\n\n\texport abstract class View<T> extends cmd.EventDispatcher {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(view:T = null) {\n\t\t\tsuper();\n\t\t\tthis.view = view;\n\t\t\tthis.isInitializing = false;\n\t\t\tthis.isInitialized = false;\n\t\t\tthis.isReady = false;\n\t\t\tthis.isShowing = false;\n\t\t\tthis.isShown = true;\n\t\t\tthis.isHiding = false;\n\t\t\tthis.autoHideWithInit = true;\n\t\t\tthis.name = \"\";\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic initialize():void {\n\t\t\tif (this.isInitializing || this.isInitialized) return;\n\t\t\tthis.isInitializing = true;\n\t\t\tthis.view = this.implInitialize();\n\t\t\tthrowError(this.name || this, \"view is null\", !this.view);\n\t\t\tthis.hide(false);\n\t\t\tthis.isInitializing = false;\n\t\t\tthis.isInitialized = true;\n\t\t}\n\n\t\tpublic ready():void {\n\t\t\tif (this.isReady) return;\n\t\t\tthrowError(this.name || this, \"ready() was called without being initialized\", !this.isInitialized);\n\t\t\tthis.implReady();\n\t\t\tthis.isReady = true;\n\t\t}\n\n\t\tpublic finalize():void {\n\t\t\tthis.implFinalize();\n\t\t}\n\n\t\tpublic show(useTransition:boolean = true):void {\n\t\t\tif (this.isShown) return;\n\t\t\tthis.getShowCommand(useTransition).execute();\n\t\t}\n\n\t\tpublic hide(useTransition:boolean = true):void {\n\t\t\tif (!this.isShown) return;\n\t\t\tthis.getHideCommand(useTransition).execute();\n\t\t}\n\n\t\tpublic getShowCommand(useTransition:boolean = true):cmd.Command {\n\t\t\tconst command:cmd.Serial = new cmd.Serial();\n\t\t\tcommand.addCommand(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tif (this.isShown) return;\n\t\t\t\t\tthrowError(this.name || this, \"getShowCommand() was called without being initialized\", !this.isInitialized);\n\t\t\t\t\tthrowWarn(this.name || this, \"getShowCommand() was called without being ready\", !this.isReady);\n\t\t\t\t\tthis.isShown = true;\n\t\t\t\t\tthis.isShowing = true;\n\t\t\t\t\tthis.isHiding = false;\n\n\t\t\t\t\tif (this.showCommand) {\n\t\t\t\t\t\tthis.showCommand.interrupt();\n\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.hideCommand) {\n\t\t\t\t\t\tthis.hideCommand.interrupt();\n\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.showCommand = command;\n\t\t\t\t\tcommand.insertCommand(\n\t\t\t\t\t\tthis.implShow(this.view, useTransition),\n\t\t\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t\t\tthis.isShowing = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn command;\n\t\t}\n\n\t\tpublic getHideCommand(useTransition:boolean = true):cmd.Command {\n\t\t\tconst command:cmd.Serial = new cmd.Serial();\n\t\t\tcommand.addCommand(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tif (!this.isShown) return;\n\t\t\t\t\tif (!this.isInitializing) {\n\t\t\t\t\t\tthrowError(this.name || this, \"getHideCommand() was called without being initialized\", !this.isInitialized);\n\t\t\t\t\t\tthrowWarn(this.name || this, \"getHideCommand() was called without being ready\", !this.isReady);\n\t\t\t\t\t}\n\t\t\t\t\tthis.isShown = false;\n\t\t\t\t\tthis.isShowing = false;\n\t\t\t\t\tthis.isHiding = true;\n\n\t\t\t\t\tif (this.showCommand) {\n\t\t\t\t\t\tthis.showCommand.interrupt();\n\t\t\t\t\t\tthis.showCommand = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.hideCommand) {\n\t\t\t\t\t\tthis.hideCommand.interrupt();\n\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.hideCommand = command;\n\t\t\t\t\tcommand.insertCommand(\n\t\t\t\t\t\tthis.implHide(this.view, useTransition),\n\t\t\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\t\t\tthis.hideCommand = null;\n\t\t\t\t\t\t\tthis.isHiding = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn command;\n\t\t}\n\n\t\tprotected abstract implInitialize():T;\n\t\tprotected abstract implReady():void;\n\t\tprotected abstract implFinalize():void;\n\t\tprotected abstract implShow(view:T, useTransition:boolean):cmd.Command;\n\t\tprotected abstract implHide(view:T, useTransition:boolean):cmd.Command;\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// MEMBER\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic getIsInitializing():boolean { return this.isInitializing; }\n\t\tprivate isInitializing:boolean;\n\n\t\tpublic getIsInitialized():boolean { return this.isInitialized; }\n\t\tprivate isInitialized:boolean;\n\n\t\tpublic getIsReady():boolean { return this.isReady; }\n\t\tprivate isReady:boolean;\n\n\t\tpublic getIsShowing():boolean { return this.isShowing; }\n\t\tprivate isShowing:boolean;\n\n\t\tpublic getIsShown():boolean { return this.isShown; }\n\t\tprivate isShown:boolean;\n\n\t\tpublic getIsHiding():boolean { return this.isHiding; }\n\t\tprivate isHiding:boolean;\n\n\t\tpublic getIsHidden():boolean { return !this.isShown; }\n\n\t\tpublic getView():T { return this.view; }\n\t\tprivate view:T;\n\n\t\tpublic getAutoHideWithInit():boolean { return this.autoHideWithInit; }\n\t\tpublic setAutoHideWithInit(value:boolean):void { this.autoHideWithInit = value; }\n\t\tprivate autoHideWithInit:boolean;\n\n\t\tpublic getName():string { return this.name; }\n\t\tpublic setName(value:string):void { this.name = value; }\n\t\tprivate name:string;\n\n\t\tprivate showCommand:cmd.Command;\n\t\tprivate hideCommand:cmd.Command;\n\t}\n}"]}