var alm;!function(t){{var r=t.unlock_gesture||(t.unlock_gesture={}),n=t.time.Timer,i=t.time.TimerEvent,e=t.event.EventDispatcher,s=t.util.Dom;class o extends e{constructor(t,e=1e4,s=window){super(),this.windowPointerDownHandler=t=>{const e=this.restCommands[0];var s=e.getBoundingClientRect(),n=t.clientX,t=t.clientY;n>=s.left&&t>=s.top&&n<=s.right&&t<=s.bottom?(this.restCommands.shift(),this.restCount=this.restCommands.length,this.totalCount=this.defaultCommands.length,this.currentCount=this.totalCount-this.restCount,1==this.currentCount&&(trace("[UnlockGesture] reset timer : start"),this.resetTimer.start()),0<this.restCount?(trace("[UnlockGesture] ok :",this.currentCount,"/",this.totalCount),this.dispatchEvent(new r.UnlockGestureProgressEvent(r.UnlockGestureProgressEvent.progress,this,this.currentCount,this.totalCount))):(trace("[UnlockGesture] ok : complete"),this.dispatchEvent(new r.UnlockGestureProgressEvent(r.UnlockGestureProgressEvent.progress,this,this.currentCount,this.totalCount)),this.dispatchEvent(new r.UnlockGestureEvent(r.UnlockGestureEvent.complete,this)))):1<this.currentCount&&(trace("[UnlockGesture] failure"),this.reset(),this.dispatchEvent(new r.UnlockGestureEvent(r.UnlockGestureEvent.failure,this)))},this.resetTimerCompleteHandler=t=>{trace("[UnlockGesture] reset time : complete"),this.reset()},this.isRunning=!1,this.defaultCommands=t.concat(),this.totalCount=this.defaultCommands.length,this.resetDuration=e,this.resetTimer=new n(this.resetDuration,1),this.resetTimer.addEventListener(i.complete,this.resetTimerCompleteHandler),this.hitArea=s,this.reset()}startObserving(t=null){this.isRunning||(this.isRunning=!0,s.addPointerDownListener(this.hitArea,this.windowPointerDownHandler,t),this.reset())}stopObserving(t=null){this.isRunning&&(this.isRunning=!1,s.removePointerDownListener(this.hitArea,this.windowPointerDownHandler,t))}reset(){trace("[UnlockGesture] reset"),this.restCommands=this.defaultCommands.concat(),this.resetTimer.reset(),this.restCount=this.totalCount,this.currentCount=0,this.dispatchEvent(new r.UnlockGestureEvent(r.UnlockGestureEvent.reset,this))}}r.UnlockGesture=o}}(alm=alm||{}),function(t){{var e=t.unlock_gesture||(t.unlock_gesture={});class s extends t.event.Event{constructor(t,e){super(t,e)}}s.complete="UnlockGestureEvent.complete",s.failure="UnlockGestureEvent.failure",s.reset="UnlockGestureEvent.reset",e.UnlockGestureEvent=s}}(alm=alm||{}),function(t){{var e=t.unlock_gesture||(t.unlock_gesture={});class s extends t.event.Event{constructor(t,e,s,n){super(t,e),this.current=s,this.total=n}}s.progress="UnlockGestureProgressEvent.progress",e.UnlockGestureProgressEvent=s}}(alm=alm||{});
//# sourceMappingURL=index.min.js.map
