{"version":3,"sources":["../src/alumican.slideshow/alm/slideshow/view/SlideshowItem.ts","../src/alumican.slideshow/alm/slideshow/Slideshow.ts","../src/alumican.slideshow/index.ts"],"names":[],"mappings":";;;AAEA,kBAAU,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAEzB,OAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IAI5B,MAAa,aAAc,SAAQ,IAAI,CAAC,MAAM,CAAC;oBAQlC,SAAQ,MAAM;QAgB1B,SAAS,CAAC,cAAc,IAAG,MAAM;QASjC,SAAS,CAAC,SAAS,IAAG,IAAI;QAG1B,SAAS,CAAC,YAAY,IAAG,IAAI;QAG7B,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QAIlE,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QAQ3D,qBAAqB,IAAG,MAAM;QAI9B,qBAAqB,CAAC,UAAS,MAAM,GAAE,IAAI;QAclD,OAAO,CAAC,OAAO,CAAQ;QACvB,OAAO,CAAC,kBAAkB,CAAQ;KAClC;CACD;AC9ED,kBAAU,GAAG,CAAC,MAAM,CAAC;IAQpB,MAAa,SAAS;oBAQT,SAAQ,MAAM,EAAE,OAAK,OAAc,EAAE,eAAa,MAAW;QAwClE,IAAI,IAAG,IAAI;QAQX,IAAI,IAAG,IAAI;QAOX,KAAK,CAAC,gBAAc,OAAc,GAAE,IAAI;QAMxC,aAAa,IAAG,IAAI;QAQpB,IAAI,CAAC,OAAM,MAAM,EAAE,gBAAc,OAAc,GAAE,OAAO;QAIxD,IAAI,CAAC,gBAAc,OAAc,GAAE,OAAO;QAI1C,IAAI,CAAC,gBAAc,OAAc,GAAE,OAAO;QAQ1C,YAAY,IAAG,OAAO;QAItB,eAAe,IAAG,MAAM;QAIxB,WAAW,IAAG,MAAM;QAIpB,SAAS,IAAG,MAAM;QAIlB,gBAAgB,IAAG,OAAO;QAI1B,gBAAgB,CAAC,SAAQ,OAAO,GAAE,IAAI;QAItC,mBAAmB,IAAG,MAAM;QAI5B,mBAAmB,CAAC,UAAS,MAAM,GAAE,IAAI;QAIzC,qBAAqB,IAAG,MAAM;QAI9B,qBAAqB,CAAC,UAAS,MAAM,GAAE,IAAI;QAQlD,OAAO,CAAC,qBAAqB,CAY3B;QAEF,OAAO,CAAC,wBAAwB,CAE9B;QAYF,OAAO,CAAC,OAAO,CAAQ;QACvB,OAAO,CAAC,KAAK,CAAiB;QAC9B,OAAO,CAAC,QAAQ,CAAU;QAC1B,OAAO,CAAC,aAAa,CAAO;QAC5B,OAAO,CAAC,gBAAgB,CAAQ;QAChC,OAAO,CAAC,kBAAkB,CAAQ;QAClC,OAAO,CAAC,SAAS,CAAS;QAC1B,OAAO,CAAC,aAAa,CAAS;KAC9B;CACD","file":"index.d.ts","sourcesContent":["/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport TweenCSS = alm.util.TweenCSS;\n\n\texport class SlideshowItem extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery) {\n\t\t\tsuper(content);\n\t\t\tthis.content = content;\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('slideshow-item');\n\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeIn(view, useTransition ? 1000 : 0, Easing.linear, 'block', true);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeOut(view, useTransition ? 1000 : 0, Easing.linear, false, true);\n\t\t}\n\n\n\n\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate transitionDuration:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport SlideshowItem = alm.drawer.view.SlideshowItem;\n\timport Switcher = alm.state.Switcher;\n\timport Timer = alm.time.Timer;\n\timport TimerEvent = alm.time.TimerEvent;\n\timport SwitcherEvent = alm.state.SwitcherEvent;\n\n\texport class Slideshow {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, loop:boolean = true, itemSelector:string = '') {\n\t\t\tthis.content = content;\n\t\t\tthis.content.addClass('slideshow');\n\n\t\t\tthis.isLoopEnabled = loop;\n\t\t\tthis.autoPlayInterval = 5000;\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\tthis.items = [];\n\t\t\tlet itemElements:JQuery;\n\t\t\tif (itemSelector !== '') {\n\t\t\t\titemElements = this.content.find(itemSelector);\n\t\t\t} else {\n\t\t\t\titemElements = this.content.children();\n\t\t\t}\n\t\t\titemElements.each((index:number, element:HTMLElement):void => {\n\t\t\t\tconst item = new SlideshowItem(jQuery(element));\n\t\t\t\tthis.items.push(item);\n\t\t\t});\n\n\t\t\tthis.autoPlayTimer = new Timer(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.addEventListener(TimerEvent.tick, this.autoPlayTimerTickHandler);\n\n\t\t\tthis.switcher = new Switcher();\n\t\t\tthis.switcher.setupByCount(this.items.length);\n\t\t\tthis.switcher.addEventListener(SwitcherEvent.change, this.switcherChangeHandler);\n\n\t\t\tthis.reset(false);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic play():void {\n\t\t\tif (this.isPlaying) return;\n\t\t\tthis.isPlaying = true;\n\n\t\t\tthis.autoPlayTimer.setInterval(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.start();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isPlaying) return;\n\t\t\tthis.isPlaying = false;\n\n\t\t\tthis.autoPlayTimer.stop();\n\t\t}\n\n\t\tpublic reset(useTransition:boolean = true):void {\n\t\t\tthis.stop();\n\t\t\tthis.resetInterval();\n\t\t\tthis.switcher.gotoByIndex(0, useTransition);\n\t\t}\n\n\t\tpublic resetInterval():void {\n\t\t\tthis.autoPlayTimer.reset();\n\t\t}\n\n\n\n\n\n\t\tpublic goto(index:number, useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.gotoByIndex(index, useTransition);\n\t\t}\n\n\t\tpublic next(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.next(useTransition);\n\t\t}\n\n\t\tpublic prev(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.prev(useTransition);\n\t\t}\n\n\n\n\n\n\t\tpublic getIsPlaying():boolean {\n\t\t\treturn this.isPlaying;\n\t\t}\n\n\t\tpublic getCurrentIndex():number {\n\t\t\treturn this.switcher.getCurrentItemIndex();\n\t\t}\n\n\t\tpublic getOldIndex():number {\n\t\t\treturn this.switcher.getOldItemIndex();\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn this.switcher.getItemCount();\n\t\t}\n\n\t\tpublic getIsLoopEnabled():boolean {\n\t\t\treturn this.isLoopEnabled;\n\t\t}\n\n\t\tpublic setIsLoopEnabled(enabled:boolean):void {\n\t\t\tthis.isLoopEnabled = enabled;\n\t\t}\n\n\t\tpublic getAutoPlayInterval():number {\n\t\t\treturn this.autoPlayInterval;\n\t\t}\n\n\t\tpublic setAutoPlayInterval(interval:number):void {\n\t\t\tthis.autoPlayInterval = interval;\n\t\t}\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\tprivate switcherChangeHandler = (event:SwitcherEvent):void => {\n\t\t\tif (event.oldItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.oldItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.hide(event.useTransition);\n\t\t\t}\n\n\t\t\tif (event.currentItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.currentItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.show(event.useTransition);\n\t\t\t}\n\t\t};\n\n\t\tprivate autoPlayTimerTickHandler = (event:TimerEvent):void => {\n\t\t\tthis.next();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate items:SlideshowItem[];\n\t\tprivate switcher:Switcher;\n\t\tprivate autoPlayTimer:Timer;\n\t\tprivate autoPlayInterval:number;\n\t\tprivate transitionDuration:number;\n\t\tprivate isPlaying:boolean;\n\t\tprivate isLoopEnabled:boolean;\n\t}\n}\n","/* ---------- project dependencies ---------- */\n\n/// <reference types='jquery' />\n/// <reference types='alumican' />\n/// <reference types='alumican.jquery' />\n\n\n/* ---------- project scripts ---------- */\n\n/// <reference path='alm/slideshow/view/SlideshowItem.ts' />\n/// <reference path='alm/slideshow/Slideshow.ts' />\n"]}