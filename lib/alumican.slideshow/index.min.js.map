{"version":3,"sources":["../src/alumican.slideshow/alm/slideshow/Slideshow.ts","../src/alumican.slideshow/alm/slideshow/view/SlideshowItem.ts"],"names":["alm","drawer","view_1","_super","Easing","TweenCSS","SlideshowItem","content","_this","call","this","initialize","view","View","math","util","__extends","prototype","implInitialize","jQuery","addClass","transitionDuration","implReady","implFinalize","implShow","useTransition","fadeIn","linear","implHide","fadeOut","getTransitionDuration","setTransitionDuration","duration","Switcher","Timer","TimerEvent","SwitcherEvent","Slideshow","loop","itemSelector","switcherChangeHandler","event","item","oldItemIndex","items","hide","currentItemIndex","show","autoPlayTimerTickHandler","next","isLoopEnabled","autoPlayInterval","find","children","each","index","element","push","autoPlayTimer","addEventListener","TICK","switcher","setupByCount","length","CHANGE","reset","state","time","play","isPlaying","setInterval","start","stop","resetInterval","gotoByIndex","goto","prev","getIsPlaying","getCurrentIndex","getCurrentItemIndex","getOldIndex","getOldItemIndex","getLength","getItemCount","getIsLoopEnabled","setIsLoopEnabled","enabled","getAutoPlayInterval","setAutoPlayInterval","interval"],"mappings":"IAEUA,I,wfCAV,SAAUA,GAAI,IAAAC,EAAOC,EAMpBC,EAHOC,EACAC,EAUN,SAAAC,EAAYC,GAAZ,IAAAC,EACCL,EAAAM,KAAAC,KAAMH,IAAQG,K,OACdF,EAAKD,QAAUA,EACfC,EAAKG,a,EAjBMV,EAAAD,EAAAC,SAAAD,EAAAC,OAAM,IAACC,EAAAD,EAAAW,OAAAX,EAAAW,KAAI,IAEjBC,EAAOb,EAAIY,KAAKC,KAChBT,EAASJ,EAAIc,KAAKV,OAClBC,EAAWL,EAAIe,KAAKV,SAEQW,UAAAV,EAAnCH,EAAmCU,GAwBxBP,EAAAW,UAAAC,eAAV,WACC,IAAMN,EAAOO,OAAO,SAKpB,OAJAP,EAAKQ,SAAS,kBAEdV,KAAKW,mBAAqB,IAEnBT,GAGEN,EAAAW,UAAAK,UAAV,aAGUhB,EAAAW,UAAAM,aAAV,aAGUjB,EAAAW,UAAAO,SAAV,SAAmBZ,EAAaa,GAC/B,OAAOpB,EAASqB,OAAOd,EAAMa,EAAgB,IAAO,EAAGrB,EAAOuB,OAAQ,SAAS,IAGtErB,EAAAW,UAAAW,SAAV,SAAmBhB,EAAaa,GAC/B,OAAOpB,EAASwB,QAAQjB,EAAMa,EAAgB,IAAO,EAAGrB,EAAOuB,QAAQ,GAAO,IAOxErB,EAAAW,UAAAa,sBAAP,WACC,OAAOpB,KAAKW,oBAGNf,EAAAW,UAAAc,sBAAP,SAA6BC,GAC5BtB,KAAKW,mBAAqBW,GAxD5B1B,EAuEAA,EAvEaJ,EAAAI,cAAaA,EAN3B,CAAUN,IAAAA,KAAG,IDAb,SAAUA,GAAI,IAAAC,EAENK,EACA2B,EACAC,EACAC,EACAC,EAUN,SAAAC,EAAY9B,EAAgB+B,EAAqBC,GAAjD,IAAA/B,EAAAE,UAA4B,IAAA4B,IAAAA,GAAA,QAAqB,IAAAC,IAAAA,EAAA,IAiIzC7B,KAAA8B,sBAAwB,SAACC,GAChC,IAOOC,GAPoB,GAAvBD,EAAME,gBACHD,EAAOlC,EAAKoC,MAAMH,EAAME,eACzBZ,sBAAsBvB,EAAKa,oBAChCqB,EAAKG,KAAKJ,EAAMhB,iBAGc,GAA3BgB,EAAMK,oBACHJ,EAAOlC,EAAKoC,MAAMH,EAAMK,mBACzBf,sBAAsBvB,EAAKa,oBAChCqB,EAAKK,KAAKN,EAAMhB,iBAIVf,KAAAsC,yBAA2B,SAACP,GACnCjC,EAAKyC,QA/ILvC,KAAKH,QAAUA,EACfG,KAAKH,QAAQa,SAAS,aAEtBV,KAAKwC,cAAgBZ,EACrB5B,KAAKyC,iBAAmB,IACxBzC,KAAKW,mBAAqB,IAE1BX,KAAKkC,MAAQ,IAEQ,KAAjBL,EACY7B,KAAKH,QAAQ6C,KAAKb,GAElB7B,KAAKH,QAAQ8C,YAEhBC,KAAK,SAACC,EAAcC,GAC1Bd,EAAO,IAAIpC,EAAca,OAAOqC,IACtChD,EAAKoC,MAAMa,KAAKf,KAGjBhC,KAAKgD,cAAgB,IAAIxB,EAAMxB,KAAKyC,kBACpCzC,KAAKgD,cAAcC,iBAAiBxB,EAAWyB,KAAMlD,KAAKsC,0BAE1DtC,KAAKmD,SAAW,IAAI5B,EACpBvB,KAAKmD,SAASC,aAAapD,KAAKkC,MAAMmB,QACtCrD,KAAKmD,SAASF,iBAAiBvB,EAAc4B,OAAQtD,KAAK8B,uBAE1D9B,KAAKuD,OAAM,GA3CAhE,EAAAD,EAAAC,SAAAD,EAAAC,OAAM,IAEZK,EAAgBN,EAAIC,OAAOW,KAAKN,cAChC2B,EAAWjC,EAAIkE,MAAMjC,SACrBC,EAAQlC,EAAImE,KAAKjC,MACjBC,EAAanC,EAAImE,KAAKhC,WACtBC,EAAgBpC,EAAIkE,MAAM9B,cAkDzBC,EAAApB,UAAAmD,KAAP,WACK1D,KAAK2D,YACT3D,KAAK2D,WAAY,EAEjB3D,KAAKgD,cAAcY,YAAY5D,KAAKyC,kBACpCzC,KAAKgD,cAAca,UAGblC,EAAApB,UAAAuD,KAAP,WACM9D,KAAK2D,YACV3D,KAAK2D,WAAY,EAEjB3D,KAAKgD,cAAcc,SAGbnC,EAAApB,UAAAgD,MAAP,SAAaxC,QAAA,IAAAA,IAAAA,GAAA,GACZf,KAAK8D,OACL9D,KAAK+D,gBACL/D,KAAKmD,SAASa,YAAY,EAAGjD,IAGvBY,EAAApB,UAAAwD,cAAP,WACC/D,KAAKgD,cAAcO,SAOb5B,EAAApB,UAAA0D,KAAP,SAAYpB,EAAc9B,GACzB,OAAOf,KAAKmD,SAASa,YAAYnB,EADR9B,OAAA,IAAAA,GAAA,EACeA,IAGlCY,EAAApB,UAAAgC,KAAP,SAAYxB,GACX,OAAOf,KAAKmD,SAASZ,KADVxB,OAAA,IAAAA,GAAA,EACeA,IAGpBY,EAAApB,UAAA2D,KAAP,SAAYnD,GACX,OAAOf,KAAKmD,SAASe,KADVnD,OAAA,IAAAA,GAAA,EACeA,IAOpBY,EAAApB,UAAA4D,aAAP,WACC,OAAOnE,KAAK2D,WAGNhC,EAAApB,UAAA6D,gBAAP,WACC,OAAOpE,KAAKmD,SAASkB,uBAGf1C,EAAApB,UAAA+D,YAAP,WACC,OAAOtE,KAAKmD,SAASoB,mBAGf5C,EAAApB,UAAAiE,UAAP,WACC,OAAOxE,KAAKmD,SAASsB,gBAGf9C,EAAApB,UAAAmE,iBAAP,WACC,OAAO1E,KAAKwC,eAGNb,EAAApB,UAAAoE,iBAAP,SAAwBC,GACvB5E,KAAKwC,cAAgBoC,GAGfjD,EAAApB,UAAAsE,oBAAP,WACC,OAAO7E,KAAKyC,kBAGNd,EAAApB,UAAAuE,oBAAP,SAA2BC,GAC1B/E,KAAKyC,iBAAmBsC,GAGlBpD,EAAApB,UAAAa,sBAAP,WACC,OAAOpB,KAAKW,oBAGNgB,EAAApB,UAAAc,sBAAP,SAA6BC,GAC5BtB,KAAKW,mBAAqBW,GAlIf/B,EAAAoC,UA6KbA,EArLD,CAAUrC,IAAAA,KAAG","file":"index.min.js","sourcesContent":["/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport SlideshowItem = alm.drawer.view.SlideshowItem;\n\timport Switcher = alm.state.Switcher;\n\timport Timer = alm.time.Timer;\n\timport TimerEvent = alm.time.TimerEvent;\n\timport SwitcherEvent = alm.state.SwitcherEvent;\n\n\texport class Slideshow {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, loop:boolean = true, itemSelector:string = '') {\n\t\t\tthis.content = content;\n\t\t\tthis.content.addClass('slideshow');\n\n\t\t\tthis.isLoopEnabled = loop;\n\t\t\tthis.autoPlayInterval = 5000;\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\tthis.items = [];\n\t\t\tlet itemElements:JQuery;\n\t\t\tif (itemSelector !== '') {\n\t\t\t\titemElements = this.content.find(itemSelector);\n\t\t\t} else {\n\t\t\t\titemElements = this.content.children();\n\t\t\t}\n\t\t\titemElements.each((index:number, element:HTMLElement):void => {\n\t\t\t\tconst item = new SlideshowItem(jQuery(element));\n\t\t\t\tthis.items.push(item);\n\t\t\t});\n\n\t\t\tthis.autoPlayTimer = new Timer(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.addEventListener(TimerEvent.TICK, this.autoPlayTimerTickHandler);\n\n\t\t\tthis.switcher = new Switcher();\n\t\t\tthis.switcher.setupByCount(this.items.length);\n\t\t\tthis.switcher.addEventListener(SwitcherEvent.CHANGE, this.switcherChangeHandler);\n\n\t\t\tthis.reset(false);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic play():void {\n\t\t\tif (this.isPlaying) return;\n\t\t\tthis.isPlaying = true;\n\n\t\t\tthis.autoPlayTimer.setInterval(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.start();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isPlaying) return;\n\t\t\tthis.isPlaying = false;\n\n\t\t\tthis.autoPlayTimer.stop();\n\t\t}\n\n\t\tpublic reset(useTransition:boolean = true):void {\n\t\t\tthis.stop();\n\t\t\tthis.resetInterval();\n\t\t\tthis.switcher.gotoByIndex(0, useTransition);\n\t\t}\n\n\t\tpublic resetInterval():void {\n\t\t\tthis.autoPlayTimer.reset();\n\t\t}\n\n\n\n\n\n\t\tpublic goto(index:number, useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.gotoByIndex(index, useTransition);\n\t\t}\n\n\t\tpublic next(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.next(useTransition);\n\t\t}\n\n\t\tpublic prev(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.prev(useTransition);\n\t\t}\n\n\n\n\n\n\t\tpublic getIsPlaying():boolean {\n\t\t\treturn this.isPlaying;\n\t\t}\n\n\t\tpublic getCurrentIndex():number {\n\t\t\treturn this.switcher.getCurrentItemIndex();\n\t\t}\n\n\t\tpublic getOldIndex():number {\n\t\t\treturn this.switcher.getOldItemIndex();\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn this.switcher.getItemCount();\n\t\t}\n\n\t\tpublic getIsLoopEnabled():boolean {\n\t\t\treturn this.isLoopEnabled;\n\t\t}\n\n\t\tpublic setIsLoopEnabled(enabled:boolean):void {\n\t\t\tthis.isLoopEnabled = enabled;\n\t\t}\n\n\t\tpublic getAutoPlayInterval():number {\n\t\t\treturn this.autoPlayInterval;\n\t\t}\n\n\t\tpublic setAutoPlayInterval(interval:number):void {\n\t\t\tthis.autoPlayInterval = interval;\n\t\t}\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\tprivate switcherChangeHandler = (event:SwitcherEvent):void => {\n\t\t\tif (event.oldItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.oldItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.hide(event.useTransition);\n\t\t\t}\n\n\t\t\tif (event.currentItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.currentItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.show(event.useTransition);\n\t\t\t}\n\t\t};\n\n\t\tprivate autoPlayTimerTickHandler = (event:TimerEvent):void => {\n\t\t\tthis.next();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate items:SlideshowItem[];\n\t\tprivate switcher:Switcher;\n\t\tprivate autoPlayTimer:Timer;\n\t\tprivate autoPlayInterval:number;\n\t\tprivate transitionDuration:number;\n\t\tprivate isPlaying:boolean;\n\t\tprivate isLoopEnabled:boolean;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport TweenCSS = alm.util.TweenCSS;\n\n\texport class SlideshowItem extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery) {\n\t\t\tsuper(content);\n\t\t\tthis.content = content;\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('slideshow-item');\n\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeIn(view, useTransition ? 1000 : 0, Easing.linear, 'block', true);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeOut(view, useTransition ? 1000 : 0, Easing.linear, false, true);\n\t\t}\n\n\n\n\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate transitionDuration:number;\n\t}\n}\n"]}