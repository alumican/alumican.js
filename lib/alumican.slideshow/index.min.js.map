{"version":3,"sources":["../src/alumican.slideshow/alm/slideshow/Slideshow.ts","../src/alumican.slideshow/alm/slideshow/view/SlideshowItem.ts"],"names":["alm","drawer","view_1","_super","View","Easing","TweenCSS","SlideshowItem","content","_this","call","this","initialize","view","math","util","__extends","prototype","implInitialize","jQuery","addClass","transitionDuration","implReady","implFinalize","implShow","useTransition","fadeIn","linear","implHide","fadeOut","getTransitionDuration","setTransitionDuration","duration","Switcher","Timer","TimerEvent","SwitcherEvent","Slideshow","loop","itemSelector","switcherChangeHandler","event","item","oldItemIndex","items","hide","currentItemIndex","show","autoPlayTimerTickHandler","next","isLoopEnabled","autoPlayInterval","find","children","each","index","element","push","autoPlayTimer","addEventListener","TICK","switcher","setupByCount","length","CHANGE","reset","state","time","play","isPlaying","setInterval","start","stop","resetInterval","gotoByIndex","goto","prev","getIsPlaying","getCurrentIndex","getCurrentItemIndex","getOldIndex","getOldItemIndex","getLength","getItemCount","getIsLoopEnabled","setIsLoopEnabled","enabled","getAutoPlayInterval","setAutoPlayInterval","interval"],"mappings":"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","file":"index.min.js","sourcesContent":["/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport SlideshowItem = alm.drawer.view.SlideshowItem;\n\timport Switcher = alm.state.Switcher;\n\timport Timer = alm.time.Timer;\n\timport TimerEvent = alm.time.TimerEvent;\n\timport SwitcherEvent = alm.state.SwitcherEvent;\n\n\texport class Slideshow {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, loop:boolean = true, itemSelector:string = '') {\n\t\t\tthis.content = content;\n\t\t\tthis.content.addClass('slideshow');\n\n\t\t\tthis.isLoopEnabled = loop;\n\t\t\tthis.autoPlayInterval = 5000;\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\tthis.items = [];\n\t\t\tlet itemElements:JQuery;\n\t\t\tif (itemSelector !== '') {\n\t\t\t\titemElements = this.content.find(itemSelector);\n\t\t\t} else {\n\t\t\t\titemElements = this.content.children();\n\t\t\t}\n\t\t\titemElements.each((index:number, element:HTMLElement):void => {\n\t\t\t\tconst item = new SlideshowItem(jQuery(element));\n\t\t\t\tthis.items.push(item);\n\t\t\t});\n\n\t\t\tthis.autoPlayTimer = new Timer(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.addEventListener(TimerEvent.TICK, this.autoPlayTimerTickHandler);\n\n\t\t\tthis.switcher = new Switcher();\n\t\t\tthis.switcher.setupByCount(this.items.length);\n\t\t\tthis.switcher.addEventListener(SwitcherEvent.CHANGE, this.switcherChangeHandler);\n\n\t\t\tthis.reset(false);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic play():void {\n\t\t\tif (this.isPlaying) return;\n\t\t\tthis.isPlaying = true;\n\n\t\t\tthis.autoPlayTimer.setInterval(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.start();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isPlaying) return;\n\t\t\tthis.isPlaying = false;\n\n\t\t\tthis.autoPlayTimer.stop();\n\t\t}\n\n\t\tpublic reset(useTransition:boolean = true):void {\n\t\t\tthis.stop();\n\t\t\tthis.resetInterval();\n\t\t\tthis.switcher.gotoByIndex(0, useTransition);\n\t\t}\n\n\t\tpublic resetInterval():void {\n\t\t\tthis.autoPlayTimer.reset();\n\t\t}\n\n\n\n\n\n\t\tpublic goto(index:number, useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.gotoByIndex(index, useTransition);\n\t\t}\n\n\t\tpublic next(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.next(useTransition);\n\t\t}\n\n\t\tpublic prev(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.prev(useTransition);\n\t\t}\n\n\n\n\n\n\t\tpublic getIsPlaying():boolean {\n\t\t\treturn this.isPlaying;\n\t\t}\n\n\t\tpublic getCurrentIndex():number {\n\t\t\treturn this.switcher.getCurrentItemIndex();\n\t\t}\n\n\t\tpublic getOldIndex():number {\n\t\t\treturn this.switcher.getOldItemIndex();\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn this.switcher.getItemCount();\n\t\t}\n\n\t\tpublic getIsLoopEnabled():boolean {\n\t\t\treturn this.isLoopEnabled;\n\t\t}\n\n\t\tpublic setIsLoopEnabled(enabled:boolean):void {\n\t\t\tthis.isLoopEnabled = enabled;\n\t\t}\n\n\t\tpublic getAutoPlayInterval():number {\n\t\t\treturn this.autoPlayInterval;\n\t\t}\n\n\t\tpublic setAutoPlayInterval(interval:number):void {\n\t\t\tthis.autoPlayInterval = interval;\n\t\t}\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\tprivate switcherChangeHandler = (event:SwitcherEvent):void => {\n\t\t\tif (event.oldItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.oldItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.hide(event.useTransition);\n\t\t\t}\n\n\t\t\tif (event.currentItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.currentItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.show(event.useTransition);\n\t\t\t}\n\t\t};\n\n\t\tprivate autoPlayTimerTickHandler = (event:TimerEvent):void => {\n\t\t\tthis.next();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate items:SlideshowItem[];\n\t\tprivate switcher:Switcher;\n\t\tprivate autoPlayTimer:Timer;\n\t\tprivate autoPlayInterval:number;\n\t\tprivate transitionDuration:number;\n\t\tprivate isPlaying:boolean;\n\t\tprivate isLoopEnabled:boolean;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport TweenCSS = alm.util.TweenCSS;\n\n\texport class SlideshowItem extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery) {\n\t\t\tsuper(content);\n\t\t\tthis.content = content;\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('slideshow-item');\n\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeIn(view, useTransition ? 1000 : 0, Easing.linear, 'block', true, false);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeOut(view, useTransition ? 1000 : 0, Easing.linear, false, true, false);\n\t\t}\n\n\n\n\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate transitionDuration:number;\n\t}\n}\n"]}