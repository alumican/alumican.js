{"version":3,"sources":["../src/alumican.slideshow/alm/slideshow/view/SlideshowItem.ts","../src/alumican.slideshow/alm/slideshow/Slideshow.ts"],"names":["alm","drawer","view_1","view","View","Easing","math","TweenCSS","util","SlideshowItem","constructor","content","super","this","initialize","implInitialize","jQuery","addClass","transitionDuration","implReady","implFinalize","implShow","useTransition","fadeIn","linear","implHide","fadeOut","getTransitionDuration","setTransitionDuration","duration","Switcher","Timer","TimerEvent","SwitcherEvent","state","time","Slideshow","loop","itemSelector","switcherChangeHandler","event","oldItemIndex","item","items","hide","currentItemIndex","show","autoPlayTimerTickHandler","next","isLoopEnabled","autoPlayInterval","let","itemElements","find","children","each","index","element","push","autoPlayTimer","addEventListener","tick","switcher","setupByCount","length","change","reset","play","isPlaying","setInterval","start","stop","resetInterval","gotoByIndex","goto","prev","getIsPlaying","getCurrentIndex","getCurrentItemIndex","getOldIndex","getOldItemIndex","getLength","getItemCount","getIsLoopEnabled","setIsLoopEnabled","enabled","getAutoPlayInterval","setAutoPlayInterval","interval"],"mappings":"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","file":"index.min.js","sourcesContent":["/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport TweenCSS = alm.util.TweenCSS;\n\n\texport class SlideshowItem extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery) {\n\t\t\tsuper(content);\n\t\t\tthis.content = content;\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('slideshow-item');\n\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeIn(view, useTransition ? 1000 : 0, Easing.linear, 'block', true);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeOut(view, useTransition ? 1000 : 0, Easing.linear, false, true);\n\t\t}\n\n\n\n\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate transitionDuration:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport SlideshowItem = alm.drawer.view.SlideshowItem;\n\timport Switcher = alm.state.Switcher;\n\timport Timer = alm.time.Timer;\n\timport TimerEvent = alm.time.TimerEvent;\n\timport SwitcherEvent = alm.state.SwitcherEvent;\n\n\texport class Slideshow {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, loop:boolean = true, itemSelector:string = '') {\n\t\t\tthis.content = content;\n\t\t\tthis.content.addClass('slideshow');\n\n\t\t\tthis.isLoopEnabled = loop;\n\t\t\tthis.autoPlayInterval = 5000;\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\tthis.items = [];\n\t\t\tlet itemElements:JQuery;\n\t\t\tif (itemSelector !== '') {\n\t\t\t\titemElements = this.content.find(itemSelector);\n\t\t\t} else {\n\t\t\t\titemElements = this.content.children();\n\t\t\t}\n\t\t\titemElements.each((index:number, element:HTMLElement):void => {\n\t\t\t\tconst item = new SlideshowItem(jQuery(element));\n\t\t\t\tthis.items.push(item);\n\t\t\t});\n\n\t\t\tthis.autoPlayTimer = new Timer(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.addEventListener(TimerEvent.tick, this.autoPlayTimerTickHandler);\n\n\t\t\tthis.switcher = new Switcher();\n\t\t\tthis.switcher.setupByCount(this.items.length);\n\t\t\tthis.switcher.addEventListener(SwitcherEvent.change, this.switcherChangeHandler);\n\n\t\t\tthis.reset(false);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic play():void {\n\t\t\tif (this.isPlaying) return;\n\t\t\tthis.isPlaying = true;\n\n\t\t\tthis.autoPlayTimer.setInterval(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.start();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isPlaying) return;\n\t\t\tthis.isPlaying = false;\n\n\t\t\tthis.autoPlayTimer.stop();\n\t\t}\n\n\t\tpublic reset(useTransition:boolean = true):void {\n\t\t\tthis.stop();\n\t\t\tthis.resetInterval();\n\t\t\tthis.switcher.gotoByIndex(0, useTransition);\n\t\t}\n\n\t\tpublic resetInterval():void {\n\t\t\tthis.autoPlayTimer.reset();\n\t\t}\n\n\n\n\n\n\t\tpublic goto(index:number, useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.gotoByIndex(index, useTransition);\n\t\t}\n\n\t\tpublic next(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.next(useTransition);\n\t\t}\n\n\t\tpublic prev(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.prev(useTransition);\n\t\t}\n\n\n\n\n\n\t\tpublic getIsPlaying():boolean {\n\t\t\treturn this.isPlaying;\n\t\t}\n\n\t\tpublic getCurrentIndex():number {\n\t\t\treturn this.switcher.getCurrentItemIndex();\n\t\t}\n\n\t\tpublic getOldIndex():number {\n\t\t\treturn this.switcher.getOldItemIndex();\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn this.switcher.getItemCount();\n\t\t}\n\n\t\tpublic getIsLoopEnabled():boolean {\n\t\t\treturn this.isLoopEnabled;\n\t\t}\n\n\t\tpublic setIsLoopEnabled(enabled:boolean):void {\n\t\t\tthis.isLoopEnabled = enabled;\n\t\t}\n\n\t\tpublic getAutoPlayInterval():number {\n\t\t\treturn this.autoPlayInterval;\n\t\t}\n\n\t\tpublic setAutoPlayInterval(interval:number):void {\n\t\t\tthis.autoPlayInterval = interval;\n\t\t}\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\tprivate switcherChangeHandler = (event:SwitcherEvent):void => {\n\t\t\tif (event.oldItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.oldItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.hide(event.useTransition);\n\t\t\t}\n\n\t\t\tif (event.currentItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.currentItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.show(event.useTransition);\n\t\t\t}\n\t\t};\n\n\t\tprivate autoPlayTimerTickHandler = (event:TimerEvent):void => {\n\t\t\tthis.next();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate items:SlideshowItem[];\n\t\tprivate switcher:Switcher;\n\t\tprivate autoPlayTimer:Timer;\n\t\tprivate autoPlayInterval:number;\n\t\tprivate transitionDuration:number;\n\t\tprivate isPlaying:boolean;\n\t\tprivate isLoopEnabled:boolean;\n\t}\n}\n"]}