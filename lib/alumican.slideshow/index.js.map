{"version":3,"sources":["../src/alumican.slideshow/alm/slideshow/view/SlideshowItem.ts","../src/alumican.slideshow/alm/slideshow/Slideshow.ts","../src/alumican.slideshow/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport TweenCSS = alm.util.TweenCSS;\n\n\texport class SlideshowItem extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery) {\n\t\t\tsuper(content);\n\t\t\tthis.content = content;\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('slideshow-item');\n\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeIn(view, useTransition ? 1000 : 0, Easing.linear, 'block', true, false);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn TweenCSS.fadeOut(view, useTransition ? 1000 : 0, Easing.linear, false, true, false);\n\t\t}\n\n\n\n\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate transitionDuration:number;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport SlideshowItem = alm.drawer.view.SlideshowItem;\n\timport Switcher = alm.state.Switcher;\n\timport Timer = alm.time.Timer;\n\timport TimerEvent = alm.time.TimerEvent;\n\timport SwitcherEvent = alm.state.SwitcherEvent;\n\n\texport class Slideshow {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, loop:boolean = true, itemSelector:string = '') {\n\t\t\tthis.content = content;\n\t\t\tthis.content.addClass('slideshow');\n\n\t\t\tthis.isLoopEnabled = loop;\n\t\t\tthis.autoPlayInterval = 5000;\n\t\t\tthis.transitionDuration = 1000;\n\n\t\t\tthis.items = [];\n\t\t\tlet itemElements:JQuery;\n\t\t\tif (itemSelector !== '') {\n\t\t\t\titemElements = this.content.find(itemSelector);\n\t\t\t} else {\n\t\t\t\titemElements = this.content.children();\n\t\t\t}\n\t\t\titemElements.each((index:number, element:HTMLElement):void => {\n\t\t\t\tconst item = new SlideshowItem(jQuery(element));\n\t\t\t\tthis.items.push(item);\n\t\t\t});\n\n\t\t\tthis.autoPlayTimer = new Timer(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.addEventListener(TimerEvent.TICK, this.autoPlayTimerTickHandler);\n\n\t\t\tthis.switcher = new Switcher();\n\t\t\tthis.switcher.setupByCount(this.items.length);\n\t\t\tthis.switcher.addEventListener(SwitcherEvent.CHANGE, this.switcherChangeHandler);\n\n\t\t\tthis.reset(false);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic play():void {\n\t\t\tif (this.isPlaying) return;\n\t\t\tthis.isPlaying = true;\n\n\t\t\tthis.autoPlayTimer.setInterval(this.autoPlayInterval);\n\t\t\tthis.autoPlayTimer.start();\n\t\t}\n\n\t\tpublic stop():void {\n\t\t\tif (!this.isPlaying) return;\n\t\t\tthis.isPlaying = false;\n\n\t\t\tthis.autoPlayTimer.stop();\n\t\t}\n\n\t\tpublic reset(useTransition:boolean = true):void {\n\t\t\tthis.stop();\n\t\t\tthis.resetInterval();\n\t\t\tthis.switcher.gotoByIndex(0, useTransition);\n\t\t}\n\n\t\tpublic resetInterval():void {\n\t\t\tthis.autoPlayTimer.reset();\n\t\t}\n\n\n\n\n\n\t\tpublic goto(index:number, useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.gotoByIndex(index, useTransition);\n\t\t}\n\n\t\tpublic next(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.next(useTransition);\n\t\t}\n\n\t\tpublic prev(useTransition:boolean = true):boolean {\n\t\t\treturn this.switcher.prev(useTransition);\n\t\t}\n\n\n\n\n\n\t\tpublic getIsPlaying():boolean {\n\t\t\treturn this.isPlaying;\n\t\t}\n\n\t\tpublic getCurrentIndex():number {\n\t\t\treturn this.switcher.getCurrentItemIndex();\n\t\t}\n\n\t\tpublic getOldIndex():number {\n\t\t\treturn this.switcher.getOldItemIndex();\n\t\t}\n\n\t\tpublic getLength():number {\n\t\t\treturn this.switcher.getItemCount();\n\t\t}\n\n\t\tpublic getIsLoopEnabled():boolean {\n\t\t\treturn this.isLoopEnabled;\n\t\t}\n\n\t\tpublic setIsLoopEnabled(enabled:boolean):void {\n\t\t\tthis.isLoopEnabled = enabled;\n\t\t}\n\n\t\tpublic getAutoPlayInterval():number {\n\t\t\treturn this.autoPlayInterval;\n\t\t}\n\n\t\tpublic setAutoPlayInterval(interval:number):void {\n\t\t\tthis.autoPlayInterval = interval;\n\t\t}\n\n\t\tpublic getTransitionDuration():number {\n\t\t\treturn this.transitionDuration;\n\t\t}\n\n\t\tpublic setTransitionDuration(duration:number):void {\n\t\t\tthis.transitionDuration = duration;\n\t\t}\n\n\n\n\n\n\t\tprivate switcherChangeHandler = (event:SwitcherEvent):void => {\n\t\t\tif (event.oldItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.oldItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.hide(event.useTransition);\n\t\t\t}\n\n\t\t\tif (event.currentItemIndex != -1) {\n\t\t\t\tconst item = this.items[event.currentItemIndex];\n\t\t\t\titem.setTransitionDuration(this.transitionDuration);\n\t\t\t\titem.show(event.useTransition);\n\t\t\t}\n\t\t};\n\n\t\tprivate autoPlayTimerTickHandler = (event:TimerEvent):void => {\n\t\t\tthis.next();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate items:SlideshowItem[];\n\t\tprivate switcher:Switcher;\n\t\tprivate autoPlayTimer:Timer;\n\t\tprivate autoPlayInterval:number;\n\t\tprivate transitionDuration:number;\n\t\tprivate isPlaying:boolean;\n\t\tprivate isLoopEnabled:boolean;\n\t}\n}\n","/* ---------- project dependencies ---------- */\n\n/// <reference types='jquery' />\n/// <reference types='alumican' />\n/// <reference types='alumican.jquery' />\n\n\n/* ---------- project scripts ---------- */\n\n/// <reference path='alm/slideshow/view/SlideshowItem.ts' />\n/// <reference path='alm/slideshow/Slideshow.ts' />\n"]}