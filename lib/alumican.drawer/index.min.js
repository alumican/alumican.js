var alm;!function(t){var n=t.drawer||(t.drawer={});{var i=n.view||(n.view={}),e=t.view.View,r=t.util.TweenCSS,a=t.math.Easing;class s extends e{constructor(t){super(),this.clickHandler=()=>{window.closeDrawer()},this.transition=t,this.initialize()}implInitialize(){const t=jQuery("<div>");return t.addClass("drawer-background"),this.customShowTransition=null,this.customHideTransition=null,t}implReady(){}implFinalize(){}implShow(t,i){const e=new cmd.Serial(new cmd.Func(()=>{t.on("click",this.clickHandler)}));return this.customShowTransition?e.addCommand(this.customShowTransition):this.transition==n.DrawerTransition.none?e.addCommand(new cmd.Func(()=>{t.css("display","block")})):e.addCommand(r.fadeIn(t,i?500:0,a.easeOutQuart,"block",!1)),e}implHide(t,i){const e=new cmd.Serial;return this.customHideTransition?e.addCommand(this.customHideTransition):this.transition==n.DrawerTransition.none?e.addCommand(new cmd.Func(()=>{t.css("display","none")})):e.addCommand(r.fadeOut(t,i?500:0,a.easeOutQuart,!0,!1)),e.addCommand(new cmd.Func(()=>{t.off("click",this.clickHandler)})),e}setCustomTransition(t,i){this.customShowTransition=t,this.customHideTransition=i}}i.DrawerBackground=s}}(alm=alm||{}),function(t){var a=t.drawer||(t.drawer={});{var i=a.view||(a.view={}),e=t.view.View,o=t.math.Easing,s=t.util.TweenCSS;class n extends e{constructor(t,i){super(t),this.content=t,this.transition=i,this.initialize()}implInitialize(){const t=jQuery("<div>");switch(t.addClass("drawer-foreground"),t.append(this.content),this.content.css("display","block"),this.transition){case a.DrawerTransition.left:t.css({top:0,left:0});break;case a.DrawerTransition.right:t.css({top:0,right:0});break;case a.DrawerTransition.top:t.css({top:0,left:0});break;case a.DrawerTransition.bottom:t.css({bottom:0,left:0})}return this.customShowTransition=null,this.customHideTransition=null,t}implReady(){}implFinalize(){}implShow(e,n){const r=new cmd.Serial(new cmd.Func(()=>{e.css("visibility","visible")}));if(this.customShowTransition)r.addCommand(this.customShowTransition);else if(this.transition!==a.DrawerTransition.none)if(this.transition===a.DrawerTransition.fade)r.addCommand(s.fadeIn(e,n?500:0,o.easeOutCubic,null,!1));else{let t="",i=0;switch(this.transition){case a.DrawerTransition.left:t="left",i=-this.getWidth();break;case a.DrawerTransition.right:t="right",i=-this.getWidth();break;case a.DrawerTransition.top:t="top",i=-this.getHeight();break;case a.DrawerTransition.bottom:t="bottom",i=-this.getHeight()}""!==t&&(e.css(t,i),r.addCommand(this.move(e,t,i,0,n?500:0,o.easeOutQuart)))}return r}implHide(e,n){const r=new cmd.Serial;if(this.customHideTransition)r.addCommand(this.customHideTransition);else if(this.transition!==a.DrawerTransition.none)if(this.transition===a.DrawerTransition.fade)r.addCommand(s.fadeOut(e,n?500:0,o.easeOutCubic,!1,!1));else{let t="",i=0;switch(this.transition){case a.DrawerTransition.left:t="left",i=-this.getWidth();break;case a.DrawerTransition.right:t="right",i=-this.getWidth();break;case a.DrawerTransition.top:t="top",i=-this.getHeight();break;case a.DrawerTransition.bottom:t="bottom",i=-this.getHeight()}""!==t&&r.addCommand(this.move(e,t,0,i,n?500:0,o.easeOutQuart))}return r.addCommand(new cmd.Func(()=>{e.css("visibility","hidden")})),r}move(i,e,t,n,r=500,a=o.easeOutQuart){let s={value:t};return new cmd.Tween(s,{value:n},null,r,a,null,()=>{var t=s.value;i.css(e,t)},null)}getWidth(){return Math.round(this.getView().width())}getHeight(){return Math.round(this.getView().height())}setCustomTransition(t,i){this.customShowTransition=t,this.customHideTransition=i}}i.DrawerForeground=n}}(alm=alm||{}),function(t){var i=t.drawer||(t.drawer={});{var e=i.view||(i.view={});i=t.view.View;class n extends i{constructor(t,i,e="drawer"){super(t),this.content=t,this.transition=i,this.drawerId=e,this.initialize()}implInitialize(){const t=jQuery("<div>");return t.attr("id",this.drawerId),t.addClass("drawer"),this.background=new e.DrawerBackground(this.transition),this.foreground=new e.DrawerForeground(this.content,this.transition),t}implReady(){const t=this.getView();this.background.ready(),t.append(this.background.getView()),this.foreground.ready(),t.append(this.foreground.getView()),jQuery("body").append(t)}implFinalize(){this.background.finalize(),this.background=null,this.foreground.finalize(),this.foreground=null,this.content=null}implShow(t,i){return new cmd.Serial(new cmd.Func(()=>{t.css("display","block")}),new cmd.Parallel(this.background.getShowCommand(i),this.foreground.getShowCommand(i)))}implHide(t,i){return new cmd.Serial(new cmd.Parallel(this.background.getHideCommand(i),this.foreground.getHideCommand(i)),new cmd.Func(()=>{t.css("display","none")}))}getContent(){return this.content}getDrawerId(){return this.drawerId}setBackgroundCustomTransition(t,i){this.background.setCustomTransition(t,i)}setForegroundCustomTransition(t,i){this.foreground.setCustomTransition(t,i)}}e.DrawerContainer=n}}(alm=alm||{}),function(t){(t=(t=t.drawer||(t.drawer={})).DrawerTransition||(t.DrawerTransition={})).none="none",t.fade="fade",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(alm=alm||{}),function(t){var i,n;i=t.drawer||(t.drawer={}),n=t.drawer.view.DrawerContainer,i.Drawer=class{constructor(t,i,e="drawer"){this.container=new n(t,i,e),this.container.ready(),window.openDrawer=this.container.show.bind(this.container),window.closeDrawer=this.container.hide.bind(this.container)}open(t=!0){this.container.show(t)}close(t=!0){this.container.hide(t)}dispose(){this.container.finalize(),this.container=null,delete window.openDrawer,delete window.closeDrawer}getView(){return this.container.getView()}getContentView(){return this.container.getContent()}getDrawerId(){return this.getDrawerId()}setBackgroundCustomTransition(t,i){this.container.setBackgroundCustomTransition(t,i)}setForegroundCustomTransition(t,i){this.container.setForegroundCustomTransition(t,i)}}}(alm=alm||{});
//# sourceMappingURL=index.min.js.map
