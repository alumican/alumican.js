{"version":3,"sources":["../src/alumican.drawer/alm/drawer/Drawer.ts","../src/alumican.drawer/alm/drawer/view/DrawerBackground.ts","../src/alumican.drawer/alm/drawer/view/DrawerForeground.ts","../src/alumican.drawer/alm/drawer/view/DrawerContainer.ts"],"names":["alm","drawer","view_1","_super","View","TweenCSS","Easing","DrawerBackground","_this","call","this","clickHandler","window","closeDrawer","initialize","view","util","math","__extends","prototype","implInitialize","jQuery","addClass","implReady","implFinalize","implShow","useTransition","cmd","Serial","Func","on","fadeIn","easeOutQuart","implHide","fadeOut","off","view_2","DrawerForeground","content","append","css","remove","moveLeft","getWidth","target","from","to","duration","easing","execute","move","moveRight","prop","o","value","tween","Tween","parseInt","getView","view_3","DrawerContainer","drawerId","attr","background","foreground","ready","finalize","Parallel","getShowCommand","getHideCommand","getContent","getDrawerId","Drawer","container","openDrawer","show","bind","hide","open","close","dispose","getContentView"],"mappings":"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","file":"index.min.js","sourcesContent":["/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport DrawerContainer = alm.drawer.view.DrawerContainer;\n\n\texport class Drawer {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, drawerId:string = 'drawer') {\n\t\t\tthis.container = new DrawerContainer(content, drawerId);\n\t\t\tthis.container.ready();\n\n\t\t\t(<any>window).openDrawer = this.container.show.bind(this.container);\n\t\t\t(<any>window).closeDrawer = this.container.hide.bind(this.container);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic open(useTransition:boolean):void {\n\t\t\tthis.container.show(useTransition);\n\t\t}\n\n\t\tpublic close(useTransition:boolean):void {\n\t\t\tthis.container.hide(useTransition);\n\t\t}\n\n\t\tpublic dispose():void {\n\t\t\tthis.container.finalize();\n\t\t\tthis.container = null;\n\n\t\t\tdelete (<any>window).openDrawer;\n\t\t\tdelete (<any>window).closeDrawer;\n\t\t}\n\n\t\tpublic getView():JQuery {\n\t\t\treturn this.container.getView();\n\t\t}\n\n\t\tpublic getContentView():JQuery {\n\t\t\treturn this.container.getContent();\n\t\t}\n\n\t\tpublic getDrawerId():string {\n\t\t\treturn this.getDrawerId();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate container:DrawerContainer;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport TweenCSS = alm.util.TweenCSS;\n\timport Easing = alm.math.Easing;\n\n\texport class DrawerBackground extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('drawer-background');\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.on('click', this.clickHandler);\n\t\t\t\t}),\n\t\t\t\tTweenCSS.fadeIn(view, useTransition ? 500 : 0, Easing.easeOutQuart, 'block', false, false)\n\t\t\t);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tTweenCSS.fadeOut(view, useTransition ? 500 : 0, Easing.easeOutQuart, true, false, false),\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.off('click', this.clickHandler);\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tprivate clickHandler = ():void => {\n\t\t\t(<any>window).closeDrawer();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport EasingFunction = alm.math.EasingFunction;\n\n\texport class DrawerForeground extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery) {\n\t\t\tsuper(content);\n\n\t\t\tthis.content = content;\n\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('drawer-foreground');\n\t\t\tview.append(this.content);\n\n\t\t\tthis.content.css('display', 'block');\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\tif (this.content) {\n\t\t\t\tthis.content.remove();\n\t\t\t\tthis.content = null;\n\t\t\t}\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn this.moveLeft(view,  -this.getWidth(), 0, useTransition ? 500 : 0, Easing.easeOutQuart, false);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn this.moveLeft(view, 0, -this.getWidth(), useTransition ? 500 : 0, Easing.easeOutQuart, false);\n\t\t}\n\n\t\tprivate moveLeft(target:JQuery, from:number, to:number, duration:number = 0.5, easing:EasingFunction = Easing.easeOutQuart, execute:boolean = true):cmd.Tween {\n\t\t\treturn this.move(target, 'left', from, to,  duration, easing, execute);\n\t\t}\n\n\t\tprivate moveRight(target:JQuery, from:number, to:number, duration:number = 0.5, easing:EasingFunction = Easing.easeOutQuart, execute:boolean = true):cmd.Tween {\n\t\t\treturn this.move(target, 'right', from, to,  duration, easing, execute);\n\t\t}\n\n\t\tprivate move(target:JQuery, prop:string, from:number, to:number, duration:number = 0.5, easing:EasingFunction = Easing.easeOutQuart, execute:boolean = true):cmd.Tween {\n\t\t\tlet o:Object = { value: from };\n\t\t\tconst tween:cmd.Tween = new cmd.Tween(o, { value: to }, null, duration, easing, null, ():void => {\n\t\t\t\tconst value:number = o['value'];\n\t\t\t\ttarget.css(prop, value);\n\t\t\t}, null);\n\t\t\tif (execute) tween.execute();\n\t\t\treturn tween;\n\t\t}\n\n\t\tprivate getWidth():number {\n\t\t\treturn parseInt(this.getView().css('width'));\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\n\texport class DrawerContainer extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, drawerId:string = 'drawer') {\n\t\t\tsuper(content);\n\n\t\t\tthis.content = content;\n\t\t\tthis.drawerId = drawerId;\n\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view:JQuery = jQuery('<div>');\n\t\t\tview.attr('id', this.drawerId);\n\t\t\tview.addClass('drawer');\n\n\t\t\tthis.background = new DrawerBackground();\n\t\t\tthis.foreground = new DrawerForeground(this.content);\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t\tconst view = this.getView();\n\n\t\t\tthis.background.ready();\n\t\t\tview.append(this.background.getView());\n\n\t\t\tthis.foreground.ready();\n\t\t\tview.append(this.foreground.getView());\n\n\t\t\tjQuery('body').append(view);\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\tthis.background.finalize();\n\t\t\tthis.background = null;\n\n\t\t\tthis.foreground.finalize();\n\t\t\tthis.foreground = null;\n\n\t\t\tthis.content = null;\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'block');\n\t\t\t\t}),\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.background.getShowCommand(useTransition),\n\t\t\t\t\tthis.foreground.getShowCommand(useTransition),\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.background.getHideCommand(useTransition),\n\t\t\t\t\tthis.foreground.getHideCommand(useTransition),\n\t\t\t\t),\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'none');\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tpublic getContent():JQuery {\n\t\t\treturn this.content;\n\t\t}\n\n\t\tpublic getDrawerId():string {\n\t\t\treturn this.drawerId;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate background:DrawerBackground;\n\t\tprivate foreground:DrawerForeground;\n\n\t\tprivate content:JQuery;\n\t\tprivate drawerId:string;\n\t}\n}\n"]}