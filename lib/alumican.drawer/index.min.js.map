{"version":3,"sources":["../src/alumican.drawer/alm/drawer/view/DrawerBackground.ts","../src/alumican.drawer/alm/drawer/Drawer.ts","../src/alumican.drawer/alm/drawer/view/DrawerForeground.ts","../src/alumican.drawer/alm/drawer/view/DrawerContainer.ts","../src/alumican.drawer/alm/drawer/DrawerTransition.ts"],"names":["alm","drawer","view_1","view","View","TweenCSS","util","Easing","math","DrawerBackground","constructor","transition","super","this","clickHandler","window","closeDrawer","initialize","implInitialize","jQuery","addClass","customShowTransition","customHideTransition","implReady","implFinalize","implShow","useTransition","command","cmd","Serial","Func","on","addCommand","DrawerTransition","none","css","fadeIn","easeOutQuart","implHide","fadeOut","off","setCustomTransition","view_2","DrawerForeground","content","append","left","top","right","bottom","fade","easeOutCubic","let","prop","from","getWidth","getHeight","move","to","target","duration","easing","o","value","Tween","Math","round","getView","width","height","view_3","DrawerContainer","drawerId","attr","background","foreground","ready","finalize","Parallel","getShowCommand","getHideCommand","getContent","getDrawerId","setBackgroundCustomTransition","showCommand","hideCommand","setForegroundCustomTransition","Drawer","container","openDrawer","show","bind","hide","open","close","dispose","getContentView"],"mappings":"AAEA,ICAUA,KDAV,SAAUA,GAAI,IAAAC,EAAAD,EAAAC,SAAAD,EAAAC,OAAM,IAAC,CAAA,IAAAC,EAAAD,EAAAE,OAAAF,EAAAE,KAAI,IAEjBC,EAAOJ,EAAIG,KAAKC,KAChBC,EAAWL,EAAIM,KAAKD,SACpBE,EAASP,EAAIQ,KAAKD,aAEZE,UAAyBL,EAQrCM,YAAYC,GACXC,QAoFOC,KAAAC,aAAe,KAChBC,OAAQC,eAnFdH,KAAKF,WAAaA,EAElBE,KAAKI,aAaIC,iBACT,MAAMf,EAAOgB,OAAO,SAMpB,OALAhB,EAAKiB,SAAS,qBAEdP,KAAKQ,qBAAuB,KAC5BR,KAAKS,qBAAuB,KAErBnB,EAGEoB,aAGAC,gBAGAC,SAAStB,EAAauB,GAC/B,MAAMC,EAAU,IAAIC,IAAIC,OACvB,IAAID,IAAIE,KAAK,KACZ3B,EAAK4B,GAAG,QAASlB,KAAKC,iBAiBxB,OAbID,KAAKQ,qBAERM,EAAQK,WAAWnB,KAAKQ,sBACdR,KAAKF,YAAcV,EAAAgC,iBAAiBC,KAE9CP,EAAQK,WAAW,IAAIJ,IAAIE,KAAK,KAC/B3B,EAAKgC,IAAI,UAAW,YAIrBR,EAAQK,WAAW3B,EAAS+B,OAAOjC,EAAMuB,EAAgB,IAAM,EAAGnB,EAAO8B,aAAc,SAAS,IAG1FV,EAGEW,SAASnC,EAAauB,GAC/B,MAAMC,EAAU,IAAIC,IAAIC,OAmBxB,OAjBIhB,KAAKS,qBAERK,EAAQK,WAAWnB,KAAKS,sBACdT,KAAKF,YAAcV,EAAAgC,iBAAiBC,KAE9CP,EAAQK,WAAW,IAAIJ,IAAIE,KAAK,KAC/B3B,EAAKgC,IAAI,UAAW,WAIrBR,EAAQK,WAAW3B,EAASkC,QAAQpC,EAAMuB,EAAgB,IAAM,EAAGnB,EAAO8B,cAAc,GAAM,IAG/FV,EAAQK,WAAW,IAAIJ,IAAIE,KAAK,KAC/B3B,EAAKqC,IAAI,QAAS3B,KAAKC,iBAGjBa,EAGDc,oBAAoBpB,EAAiCC,GAC3DT,KAAKQ,qBAAuBA,EAC5BR,KAAKS,qBAAuBA,GA1FjBpB,EAAAO,iBAAgBA,GAN9B,CAAUT,IAAAA,KAAG,IEAb,SAAUA,GAAI,IAAAC,EAAAD,EAAAC,SAAAD,EAAAC,OAAM,IAAC,CAAA,IAAAyC,EAAAzC,EAAAE,OAAAF,EAAAE,KAAI,IAEjBC,EAAOJ,EAAIG,KAAKC,KAChBG,EAASP,EAAIQ,KAAKD,OAElBF,EAAWL,EAAIM,KAAKD,eAEdsC,UAAyBvC,EAQrCM,YAAYkC,EAAgBjC,GAC3BC,MAAMgC,GAEN/B,KAAK+B,QAAUA,EACf/B,KAAKF,WAAaA,EAElBE,KAAKI,aAaIC,iBACT,MAAMf,EAAOgB,OAAO,SAMpB,OALAhB,EAAKiB,SAAS,qBACdjB,EAAK0C,OAAOhC,KAAK+B,SAEjB/B,KAAK+B,QAAQT,IAAI,UAAW,SAEpBtB,KAAKF,YACZ,KAAKV,EAAAgC,iBAAiBa,KACrB3C,EAAKgC,IAAI,CAAEY,IAAK,EAAGD,KAAM,IACzB,MACD,KAAK7C,EAAAgC,iBAAiBe,MACrB7C,EAAKgC,IAAI,CAAEY,IAAK,EAAGC,MAAO,IAC1B,MACD,KAAK/C,EAAAgC,iBAAiBc,IACrB5C,EAAKgC,IAAI,CAAEY,IAAK,EAAGD,KAAM,IACzB,MACD,KAAK7C,EAAAgC,iBAAiBgB,OACrB9C,EAAKgC,IAAI,CAAEc,OAAQ,EAAGH,KAAM,IAO9B,OAHAjC,KAAKQ,qBAAuB,KAC5BR,KAAKS,qBAAuB,KAErBnB,EAGEoB,aAGAC,gBAGAC,SAAStB,EAAauB,GAC/B,MAAMC,EAAU,IAAIC,IAAIC,OACvB,IAAID,IAAIE,KAAK,KACZ3B,EAAKgC,IAAI,aAAc,cAIzB,GAAItB,KAAKQ,qBAERM,EAAQK,WAAWnB,KAAKQ,2BAClB,GAAIR,KAAKF,aAAeV,EAAAgC,iBAAiBC,KAEzC,GAAIrB,KAAKF,aAAeV,EAAAgC,iBAAiBiB,KAE/CvB,EAAQK,WAAW3B,EAAS+B,OAAOjC,EAAMuB,EAAgB,IAAM,EAAGnB,EAAO4C,aAAc,MAAM,QACvF,CAENC,IAAIC,EAAO,GACPC,EAAO,EACX,OAAQzC,KAAKF,YACZ,KAAKV,EAAAgC,iBAAiBa,KACrBO,EAAO,OACPC,GAAQzC,KAAK0C,WACb,MACD,KAAKtD,EAAAgC,iBAAiBe,MACrBK,EAAO,QACPC,GAAQzC,KAAK0C,WACb,MACD,KAAKtD,EAAAgC,iBAAiBc,IACrBM,EAAO,MACPC,GAAQzC,KAAK2C,YACb,MACD,KAAKvD,EAAAgC,iBAAiBgB,OACrBI,EAAO,SACPC,GAAQzC,KAAK2C,YAGF,KAATH,IACHlD,EAAKgC,IAAIkB,EAAMC,GACf3B,EAAQK,WAAWnB,KAAK4C,KAAKtD,EAAMkD,EAAMC,EAAM,EAAG5B,EAAgB,IAAM,EAAGnB,EAAO8B,gBAIpF,OAAOV,EAGEW,SAASnC,EAAauB,GAC/B,MAAMC,EAAU,IAAIC,IAAIC,OAExB,GAAIhB,KAAKS,qBAERK,EAAQK,WAAWnB,KAAKS,2BAClB,GAAIT,KAAKF,aAAeV,EAAAgC,iBAAiBC,KAEzC,GAAIrB,KAAKF,aAAeV,EAAAgC,iBAAiBiB,KAE/CvB,EAAQK,WAAW3B,EAASkC,QAAQpC,EAAMuB,EAAgB,IAAM,EAAGnB,EAAO4C,cAAc,GAAO,QACzF,CAENC,IAAIC,EAAO,GACPK,EAAK,EACT,OAAQ7C,KAAKF,YACZ,KAAKV,EAAAgC,iBAAiBa,KACrBO,EAAO,OACPK,GAAM7C,KAAK0C,WACX,MACD,KAAKtD,EAAAgC,iBAAiBe,MACrBK,EAAO,QACPK,GAAM7C,KAAK0C,WACX,MACD,KAAKtD,EAAAgC,iBAAiBc,IACrBM,EAAO,MACPK,GAAM7C,KAAK2C,YACX,MACD,KAAKvD,EAAAgC,iBAAiBgB,OACrBI,EAAO,SACPK,GAAM7C,KAAK2C,YAGA,KAATH,GACH1B,EAAQK,WAAWnB,KAAK4C,KAAKtD,EAAMkD,EAAM,EAAGK,EAAIhC,EAAgB,IAAM,EAAGnB,EAAO8B,eAQlF,OAJAV,EAAQK,WAAW,IAAIJ,IAAIE,KAAK,KAC/B3B,EAAKgC,IAAI,aAAc,aAGjBR,EAGA8B,KAAKE,EAAeN,EAAaC,EAAaI,EAAWE,EAAkB,IAAKC,EAAwBtD,EAAO8B,cACtHe,IAAIU,EAAW,CAAEC,MAAOT,GACxB,OAAO,IAAI1B,IAAIoC,MAAMF,EAAG,CAAEC,MAAOL,GAAM,KAAME,EAAUC,EAAQ,KAAM,KACpE,IAAME,EAAeD,EAAS,MAC9BH,EAAOxB,IAAIkB,EAAMU,IACf,MAGIR,WACP,OAAOU,KAAKC,MAAMrD,KAAKsD,UAAUC,SAG1BZ,YACP,OAAOS,KAAKC,MAAMrD,KAAKsD,UAAUE,UAG3B5B,oBAAoBpB,EAAiCC,GAC3DT,KAAKQ,qBAAuBA,EAC5BR,KAAKS,qBAAuBA,GA1KjBoB,EAAAC,iBAAgBA,GAP9B,CAAU3C,IAAAA,KAAG,ICAb,SAAUA,GAAI,IAAAC,EAAAD,EAAAC,SAAAD,EAAAC,OAAM,IAAC,CAAA,IAAAqE,EAAArE,EAAAE,OAAAF,EAAAE,KAAI,IAEjBC,EAAOJ,EAAIG,KAAKC,WAEVmE,UAAwBnE,EAQpCM,YAAYkC,EAAgBjC,EAA6B6D,EAAkB,UAC1E5D,MAAMgC,GAEN/B,KAAK+B,QAAUA,EACf/B,KAAKF,WAAaA,EAClBE,KAAK2D,SAAWA,EAEhB3D,KAAKI,aAaIC,iBACT,MAAMf,EAAcgB,OAAO,SAO3B,OANAhB,EAAKsE,KAAK,KAAM5D,KAAK2D,UACrBrE,EAAKiB,SAAS,UAEdP,KAAK6D,WAAa,IAAIJ,EAAA7D,iBAAiBI,KAAKF,YAC5CE,KAAK8D,WAAa,IAAIL,EAAA3B,iBAAiB9B,KAAK+B,QAAS/B,KAAKF,YAEnDR,EAGEoB,YACT,MAAMpB,EAAOU,KAAKsD,UAElBtD,KAAK6D,WAAWE,QAChBzE,EAAK0C,OAAOhC,KAAK6D,WAAWP,WAE5BtD,KAAK8D,WAAWC,QAChBzE,EAAK0C,OAAOhC,KAAK8D,WAAWR,WAE5BhD,OAAO,QAAQ0B,OAAO1C,GAGbqB,eACTX,KAAK6D,WAAWG,WAChBhE,KAAK6D,WAAa,KAElB7D,KAAK8D,WAAWE,WAChBhE,KAAK8D,WAAa,KAElB9D,KAAK+B,QAAU,KAGNnB,SAAStB,EAAauB,GAC/B,OAAO,IAAIE,IAAIC,OACd,IAAID,IAAIE,KAAK,KACZ3B,EAAKgC,IAAI,UAAW,WAErB,IAAIP,IAAIkD,SACPjE,KAAK6D,WAAWK,eAAerD,GAC/Bb,KAAK8D,WAAWI,eAAerD,KAKxBY,SAASnC,EAAauB,GAC/B,OAAO,IAAIE,IAAIC,OACd,IAAID,IAAIkD,SACPjE,KAAK6D,WAAWM,eAAetD,GAC/Bb,KAAK8D,WAAWK,eAAetD,IAEhC,IAAIE,IAAIE,KAAK,KACZ3B,EAAKgC,IAAI,UAAW,WAKhB8C,aACN,OAAOpE,KAAK+B,QAGNsC,cACN,OAAOrE,KAAK2D,SAGNW,8BAA8BC,EAAwBC,GAC5DxE,KAAK6D,WAAWjC,oBAAoB2C,EAAaC,GAG3CC,8BAA8BF,EAAwBC,GAC5DxE,KAAK8D,WAAWlC,oBAAoB2C,EAAaC,IAlGtCf,EAAAC,gBAAeA,GAJ7B,CAAUvE,IAAAA,KAAG,ICAb,SAAUA,IAEGiC,GAFChC,EAAAD,EAAAC,SAAAD,EAAAC,OAAM,KAEPgC,mBAAAhC,EAAAgC,iBAAgB,KAC3B,KAAA,OACAA,EAAA,KAAA,OACAA,EAAA,KAAA,OACAA,EAAA,MAAA,QACAA,EAAA,IAAA,MACAA,EAAA,OAAA,SARF,CAAUjC,IAAAA,KAAG,IHAb,SAAUA,GAAI,IAAAC,EAENsE,EAFMtE,EAAAD,EAAAC,SAAAD,EAAAC,OAAM,IAEZsE,EAAkBvE,EAAIC,OAAOE,KAAKoE,gBAE5BtE,EAAAsF,aAQZ7E,YAAYkC,EAAgBjC,EAA6B6D,EAAkB,UAC1E3D,KAAK2E,UAAY,IAAIjB,EAAgB3B,EAASjC,EAAY6D,GAC1D3D,KAAK2E,UAAUZ,QAET7D,OAAQ0E,WAAa5E,KAAK2E,UAAUE,KAAKC,KAAK9E,KAAK2E,WACnDzE,OAAQC,YAAcH,KAAK2E,UAAUI,KAAKD,KAAK9E,KAAK2E,WAapDK,KAAKnE,GAAwB,GACnCb,KAAK2E,UAAUE,KAAKhE,GAGdoE,MAAMpE,GAAwB,GACpCb,KAAK2E,UAAUI,KAAKlE,GAGdqE,UACNlF,KAAK2E,UAAUX,WACfhE,KAAK2E,UAAY,YAEJzE,OAAQ0E,kBACR1E,OAAQC,YAGfmD,UACN,OAAOtD,KAAK2E,UAAUrB,UAGhB6B,iBACN,OAAOnF,KAAK2E,UAAUP,aAGhBC,cACN,OAAOrE,KAAKqE,cAGNC,8BAA8BC,EAAwBC,GAC5DxE,KAAK2E,UAAUL,8BAA8BC,EAAaC,GAGpDC,8BAA8BF,EAAwBC,GAC5DxE,KAAK2E,UAAUF,8BAA8BF,EAAaC,KA/D7D,CAAUrF,IAAAA,KAAG","file":"index.min.js","sourcesContent":["/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport TweenCSS = alm.util.TweenCSS;\n\timport Easing = alm.math.Easing;\n\n\texport class DrawerBackground extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(transition:DrawerTransition) {\n\t\t\tsuper();\n\n\t\t\tthis.transition = transition;\n\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('drawer-background');\n\n\t\t\tthis.customShowTransition = null;\n\t\t\tthis.customHideTransition = null;\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\tconst command = new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.on('click', this.clickHandler);\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tif (this.customShowTransition) {\n\t\t\t\t// custom effect\n\t\t\t\tcommand.addCommand(this.customShowTransition);\n\t\t\t} else if (this.transition == DrawerTransition.none) {\n\t\t\t\t// no effect\n\t\t\t\tcommand.addCommand(new cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'block');\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\t// fade effect\n\t\t\t\tcommand.addCommand(TweenCSS.fadeIn(view, useTransition ? 500 : 0, Easing.easeOutQuart, 'block', false));\n\t\t\t}\n\n\t\t\treturn command;\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\tconst command = new cmd.Serial();\n\n\t\t\tif (this.customHideTransition) {\n\t\t\t\t// custom effect\n\t\t\t\tcommand.addCommand(this.customHideTransition);\n\t\t\t} else if (this.transition == DrawerTransition.none) {\n\t\t\t\t// no effect\n\t\t\t\tcommand.addCommand(new cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'none');\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\t// fade effect\n\t\t\t\tcommand.addCommand(TweenCSS.fadeOut(view, useTransition ? 500 : 0, Easing.easeOutQuart, true, false));\n\t\t\t}\n\n\t\t\tcommand.addCommand(new cmd.Func(():void => {\n\t\t\t\tview.off('click', this.clickHandler);\n\t\t\t}));\n\n\t\t\treturn command;\n\t\t}\n\n\t\tpublic setCustomTransition(customShowTransition:cmd.Serial, customHideTransition:cmd.Serial):void {\n\t\t\tthis.customShowTransition = customShowTransition;\n\t\t\tthis.customHideTransition = customHideTransition;\n\t\t}\n\n\t\tprivate clickHandler = ():void => {\n\t\t\t(<any>window).closeDrawer();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate transition:DrawerTransition;\n\t\tprivate customShowTransition:cmd.Serial;\n\t\tprivate customHideTransition:cmd.Serial;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport DrawerContainer = alm.drawer.view.DrawerContainer;\n\n\texport class Drawer {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, transition:DrawerTransition, drawerId:string = 'drawer') {\n\t\t\tthis.container = new DrawerContainer(content, transition, drawerId);\n\t\t\tthis.container.ready();\n\n\t\t\t(<any>window).openDrawer = this.container.show.bind(this.container);\n\t\t\t(<any>window).closeDrawer = this.container.hide.bind(this.container);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic open(useTransition:boolean = true):void {\n\t\t\tthis.container.show(useTransition);\n\t\t}\n\n\t\tpublic close(useTransition:boolean = true):void {\n\t\t\tthis.container.hide(useTransition);\n\t\t}\n\n\t\tpublic dispose():void {\n\t\t\tthis.container.finalize();\n\t\t\tthis.container = null;\n\n\t\t\tdelete (<any>window).openDrawer;\n\t\t\tdelete (<any>window).closeDrawer;\n\t\t}\n\n\t\tpublic getView():JQuery {\n\t\t\treturn this.container.getView();\n\t\t}\n\n\t\tpublic getContentView():JQuery {\n\t\t\treturn this.container.getContent();\n\t\t}\n\n\t\tpublic getDrawerId():string {\n\t\t\treturn this.getDrawerId();\n\t\t}\n\n\t\tpublic setBackgroundCustomTransition(showCommand:cmd.Serial, hideCommand:cmd.Serial):void {\n\t\t\tthis.container.setBackgroundCustomTransition(showCommand, hideCommand);\n\t\t}\n\n\t\tpublic setForegroundCustomTransition(showCommand:cmd.Serial, hideCommand:cmd.Serial):void {\n\t\t\tthis.container.setForegroundCustomTransition(showCommand, hideCommand);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate container:DrawerContainer;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport EasingFunction = alm.math.EasingFunction;\n\timport TweenCSS = alm.util.TweenCSS;\n\n\texport class DrawerForeground extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, transition:DrawerTransition) {\n\t\t\tsuper(content);\n\n\t\t\tthis.content = content;\n\t\t\tthis.transition = transition;\n\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('drawer-foreground');\n\t\t\tview.append(this.content);\n\n\t\t\tthis.content.css('display', 'block');\n\n\t\t\tswitch (this.transition) {\n\t\t\t\tcase DrawerTransition.left:\n\t\t\t\t\tview.css({ top: 0, left: 0 });\n\t\t\t\t\tbreak;\n\t\t\t\tcase DrawerTransition.right:\n\t\t\t\t\tview.css({ top: 0, right: 0 });\n\t\t\t\t\tbreak;\n\t\t\t\tcase DrawerTransition.top:\n\t\t\t\t\tview.css({ top: 0, left: 0 });\n\t\t\t\t\tbreak;\n\t\t\t\tcase DrawerTransition.bottom:\n\t\t\t\t\tview.css({ bottom: 0, left: 0 });\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.customShowTransition = null;\n\t\t\tthis.customHideTransition = null;\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\tconst command = new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.css('visibility', 'visible');\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tif (this.customShowTransition) {\n\t\t\t\t// custom effect\n\t\t\t\tcommand.addCommand(this.customShowTransition);\n\t\t\t} else if (this.transition === DrawerTransition.none) {\n\t\t\t\t// no effect\n\t\t\t} else if (this.transition === DrawerTransition.fade) {\n\t\t\t\t// fade effect\n\t\t\t\tcommand.addCommand(TweenCSS.fadeIn(view, useTransition ? 500 : 0, Easing.easeOutCubic, null, false));\n\t\t\t} else {\n\t\t\t\t// move effect\n\t\t\t\tlet prop = '';\n\t\t\t\tlet from = 0;\n\t\t\t\tswitch (this.transition) {\n\t\t\t\t\tcase DrawerTransition.left:\n\t\t\t\t\t\tprop = 'left';\n\t\t\t\t\t\tfrom = -this.getWidth();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase DrawerTransition.right:\n\t\t\t\t\t\tprop = 'right';\n\t\t\t\t\t\tfrom = -this.getWidth();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase DrawerTransition.top:\n\t\t\t\t\t\tprop = 'top';\n\t\t\t\t\t\tfrom = -this.getHeight();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase DrawerTransition.bottom:\n\t\t\t\t\t\tprop = 'bottom';\n\t\t\t\t\t\tfrom = -this.getHeight();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (prop !== '') {\n\t\t\t\t\tview.css(prop, from);\n\t\t\t\t\tcommand.addCommand(this.move(view, prop, from, 0, useTransition ? 500 : 0, Easing.easeOutQuart));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn command;\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\tconst command = new cmd.Serial();\n\n\t\t\tif (this.customHideTransition) {\n\t\t\t\t// custom effect\n\t\t\t\tcommand.addCommand(this.customHideTransition);\n\t\t\t} else if (this.transition === DrawerTransition.none) {\n\t\t\t\t// no effect\n\t\t\t} else if (this.transition === DrawerTransition.fade) {\n\t\t\t\t// fade effect\n\t\t\t\tcommand.addCommand(TweenCSS.fadeOut(view, useTransition ? 500 : 0, Easing.easeOutCubic, false, false));\n\t\t\t} else {\n\t\t\t\t// move effect\n\t\t\t\tlet prop = '';\n\t\t\t\tlet to = 0;\n\t\t\t\tswitch (this.transition) {\n\t\t\t\t\tcase DrawerTransition.left:\n\t\t\t\t\t\tprop = 'left';\n\t\t\t\t\t\tto = -this.getWidth();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase DrawerTransition.right:\n\t\t\t\t\t\tprop = 'right';\n\t\t\t\t\t\tto = -this.getWidth();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase DrawerTransition.top:\n\t\t\t\t\t\tprop = 'top';\n\t\t\t\t\t\tto = -this.getHeight();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase DrawerTransition.bottom:\n\t\t\t\t\t\tprop = 'bottom';\n\t\t\t\t\t\tto = -this.getHeight();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (prop !== '') {\n\t\t\t\t\tcommand.addCommand(this.move(view, prop, 0, to, useTransition ? 500 : 0, Easing.easeOutQuart));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcommand.addCommand(new cmd.Func(():void => {\n\t\t\t\tview.css('visibility', 'hidden');\n\t\t\t}));\n\n\t\t\treturn command;\n\t\t}\n\n\t\tprivate move(target:JQuery, prop:string, from:number, to:number, duration:number = 500, easing:EasingFunction = Easing.easeOutQuart):cmd.Tween {\n\t\t\tlet o:Object = { value: from };\n\t\t\treturn new cmd.Tween(o, { value: to }, null, duration, easing, null, ():void => {\n\t\t\t\tconst value:number = o['value'];\n\t\t\t\ttarget.css(prop, value);\n\t\t\t}, null);\n\t\t}\n\n\t\tprivate getWidth():number {\n\t\t\treturn Math.round(this.getView().width());\n\t\t}\n\n\t\tprivate getHeight():number {\n\t\t\treturn Math.round(this.getView().height());\n\t\t}\n\n\t\tpublic setCustomTransition(customShowTransition:cmd.Serial, customHideTransition:cmd.Serial):void {\n\t\t\tthis.customShowTransition = customShowTransition;\n\t\t\tthis.customHideTransition = customHideTransition;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t\tprivate transition:DrawerTransition;\n\t\tprivate customShowTransition:cmd.Serial;\n\t\tprivate customHideTransition:cmd.Serial;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\n\texport class DrawerContainer extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, transition:DrawerTransition, drawerId:string = 'drawer') {\n\t\t\tsuper(content);\n\n\t\t\tthis.content = content;\n\t\t\tthis.transition = transition;\n\t\t\tthis.drawerId = drawerId;\n\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view:JQuery = jQuery('<div>');\n\t\t\tview.attr('id', this.drawerId);\n\t\t\tview.addClass('drawer');\n\n\t\t\tthis.background = new DrawerBackground(this.transition);\n\t\t\tthis.foreground = new DrawerForeground(this.content, this.transition);\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t\tconst view = this.getView();\n\n\t\t\tthis.background.ready();\n\t\t\tview.append(this.background.getView());\n\n\t\t\tthis.foreground.ready();\n\t\t\tview.append(this.foreground.getView());\n\n\t\t\tjQuery('body').append(view);\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\tthis.background.finalize();\n\t\t\tthis.background = null;\n\n\t\t\tthis.foreground.finalize();\n\t\t\tthis.foreground = null;\n\n\t\t\tthis.content = null;\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'block');\n\t\t\t\t}),\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.background.getShowCommand(useTransition),\n\t\t\t\t\tthis.foreground.getShowCommand(useTransition),\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.background.getHideCommand(useTransition),\n\t\t\t\t\tthis.foreground.getHideCommand(useTransition),\n\t\t\t\t),\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'none');\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tpublic getContent():JQuery {\n\t\t\treturn this.content;\n\t\t}\n\n\t\tpublic getDrawerId():string {\n\t\t\treturn this.drawerId;\n\t\t}\n\n\t\tpublic setBackgroundCustomTransition(showCommand:cmd.Serial, hideCommand:cmd.Serial):void {\n\t\t\tthis.background.setCustomTransition(showCommand, hideCommand);\n\t\t}\n\n\t\tpublic setForegroundCustomTransition(showCommand:cmd.Serial, hideCommand:cmd.Serial):void {\n\t\t\tthis.foreground.setCustomTransition(showCommand, hideCommand);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate background:DrawerBackground;\n\t\tprivate foreground:DrawerForeground;\n\n\t\tprivate content:JQuery;\n\t\tprivate transition:DrawerTransition;\n\t\tprivate drawerId:string;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\texport enum DrawerTransition {\n\t\tnone = 'none',\n\t\tfade = 'fade',\n\t\tleft = 'left',\n\t\tright = 'right',\n\t\ttop = 'top',\n\t\tbottom = 'bottom',\n\t}\n}\n"]}