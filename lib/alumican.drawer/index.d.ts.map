{"version":3,"sources":["../src/alumican.drawer/alm/drawer/view/DrawerBackground.ts","../src/alumican.drawer/alm/drawer/view/DrawerForeground.ts","../src/alumican.drawer/alm/drawer/view/DrawerContainer.ts","../src/alumican.drawer/alm/drawer/Drawer.ts","../src/alumican.drawer/index.ts"],"names":[],"mappings":";;AAEA,kBAAU,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAEzB,OAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IAI5B,MAAa,gBAAiB,SAAQ,IAAI,CAAC,MAAM,CAAC;;QAuBjD,SAAS,CAAC,cAAc,IAAG,MAAM;QAOjC,SAAS,CAAC,SAAS,IAAG,IAAI;QAG1B,SAAS,CAAC,YAAY,IAAG,IAAI;QAG7B,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QASlE,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QASlE,OAAO,CAAC,YAAY,CAElB;KAWF;CACD;AC1ED,kBAAU,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAEzB,OAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IAI5B,MAAa,gBAAiB,SAAQ,IAAI,CAAC,MAAM,CAAC;oBAQrC,SAAQ,MAAM;QAkB1B,SAAS,CAAC,cAAc,IAAG,MAAM;QAUjC,SAAS,CAAC,SAAS,IAAG,IAAI;QAG1B,SAAS,CAAC,YAAY,IAAG,IAAI;QAO7B,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QAIlE,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QAIlE,OAAO,CAAC,QAAQ;QAIhB,OAAO,CAAC,SAAS;QAIjB,OAAO,CAAC,IAAI;QAUZ,OAAO,CAAC,QAAQ;QAchB,OAAO,CAAC,OAAO,CAAQ;KACvB;CACD;AC9FD,kBAAU,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;IAEzB,OAAO,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IAE5B,MAAa,eAAgB,SAAQ,IAAI,CAAC,MAAM,CAAC;oBAQpC,SAAQ,MAAM,EAAE,WAAS,MAAiB;QAmBtD,SAAS,CAAC,cAAc,IAAG,MAAM;QAWjC,SAAS,CAAC,SAAS,IAAG,IAAI;QAY1B,SAAS,CAAC,YAAY,IAAG,IAAI;QAU7B,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QAYlE,SAAS,CAAC,QAAQ,CAAC,MAAK,MAAM,EAAE,eAAc,OAAO,GAAE,GAAG,CAAC,OAAO;QAY3D,UAAU,IAAG,MAAM;QAInB,WAAW,IAAG,MAAM;QAc3B,OAAO,CAAC,UAAU,CAAkB;QACpC,OAAO,CAAC,UAAU,CAAkB;QAEpC,OAAO,CAAC,OAAO,CAAQ;QACvB,OAAO,CAAC,QAAQ,CAAQ;KACxB;CACD;AChHD,kBAAU,GAAG,CAAC,MAAM,CAAC;IAIpB,MAAa,MAAM;oBAQN,SAAQ,MAAM,EAAE,WAAS,MAAiB;QAkB/C,IAAI,CAAC,eAAc,OAAO,GAAE,IAAI;QAIhC,KAAK,CAAC,eAAc,OAAO,GAAE,IAAI;QAIjC,OAAO,IAAG,IAAI;QAQd,OAAO,IAAG,MAAM;QAIhB,cAAc,IAAG,MAAM;QAIvB,WAAW,IAAG,MAAM;QAc3B,OAAO,CAAC,SAAS,CAAiB;KAClC;CACD","file":"index.d.ts","sourcesContent":["/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport TweenCSS = alm.util.TweenCSS;\n\timport Easing = alm.math.Easing;\n\n\texport class DrawerBackground extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('drawer-background');\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.on('click', this.clickHandler);\n\t\t\t\t}),\n\t\t\t\tTweenCSS.fadeIn(view, useTransition ? 500 : 0, Easing.easeOutQuart, 'block', false, false)\n\t\t\t);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tTweenCSS.fadeOut(view, useTransition ? 500 : 0, Easing.easeOutQuart, true, false, false),\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.off('click', this.clickHandler);\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tprivate clickHandler = ():void => {\n\t\t\t(<any>window).closeDrawer();\n\t\t};\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\timport Easing = alm.math.Easing;\n\timport EasingFunction = alm.math.EasingFunction;\n\n\texport class DrawerForeground extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery) {\n\t\t\tsuper(content);\n\n\t\t\tthis.content = content;\n\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view = jQuery('<div>');\n\t\t\tview.addClass('drawer-foreground');\n\t\t\tview.append(this.content);\n\n\t\t\tthis.content.css('display', 'block');\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\tif (this.content) {\n\t\t\t\tthis.content.remove();\n\t\t\t\tthis.content = null;\n\t\t\t}\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn this.moveLeft(view,  -this.getWidth(), 0, useTransition ? 500 : 0, Easing.easeOutQuart, false);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn this.moveLeft(view, 0, -this.getWidth(), useTransition ? 500 : 0, Easing.easeOutQuart, false);\n\t\t}\n\n\t\tprivate moveLeft(target:JQuery, from:number, to:number, duration:number = 0.5, easing:EasingFunction = Easing.easeOutQuart, execute:boolean = true):cmd.Tween {\n\t\t\treturn this.move(target, 'left', from, to,  duration, easing, execute);\n\t\t}\n\n\t\tprivate moveRight(target:JQuery, from:number, to:number, duration:number = 0.5, easing:EasingFunction = Easing.easeOutQuart, execute:boolean = true):cmd.Tween {\n\t\t\treturn this.move(target, 'right', from, to,  duration, easing, execute);\n\t\t}\n\n\t\tprivate move(target:JQuery, prop:string, from:number, to:number, duration:number = 0.5, easing:EasingFunction = Easing.easeOutQuart, execute:boolean = true):cmd.Tween {\n\t\t\tlet o:Object = { value: from };\n\t\t\tconst tween:cmd.Tween = new cmd.Tween(o, { value: to }, null, duration, easing, null, ():void => {\n\t\t\t\tconst value:number = o['value'];\n\t\t\t\ttarget.css(prop, value);\n\t\t\t}, null);\n\t\t\tif (execute) tween.execute();\n\t\t\treturn tween;\n\t\t}\n\n\t\tprivate getWidth():number {\n\t\t\treturn parseInt(this.getView().css('width'));\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate content:JQuery;\n\t}\n}\n","/// <reference path=\"../../../index.ts\" />\n\nnamespace alm.drawer.view {\n\n\timport View = alm.view.View;\n\n\texport class DrawerContainer extends View<JQuery> {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, drawerId:string = 'drawer') {\n\t\t\tsuper(content);\n\n\t\t\tthis.content = content;\n\t\t\tthis.drawerId = drawerId;\n\n\t\t\tthis.initialize();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprotected implInitialize():JQuery {\n\t\t\tconst view:JQuery = jQuery('<div>');\n\t\t\tview.attr('id', this.drawerId);\n\t\t\tview.addClass('drawer');\n\n\t\t\tthis.background = new DrawerBackground();\n\t\t\tthis.foreground = new DrawerForeground(this.content);\n\n\t\t\treturn view;\n\t\t}\n\n\t\tprotected implReady():void {\n\t\t\tconst view = this.getView();\n\n\t\t\tthis.background.ready();\n\t\t\tview.append(this.background.getView());\n\n\t\t\tthis.foreground.ready();\n\t\t\tview.append(this.foreground.getView());\n\n\t\t\tjQuery('body').append(view);\n\t\t}\n\n\t\tprotected implFinalize():void {\n\t\t\tthis.background.finalize();\n\t\t\tthis.background = null;\n\n\t\t\tthis.foreground.finalize();\n\t\t\tthis.foreground = null;\n\n\t\t\tthis.content = null;\n\t\t}\n\n\t\tprotected implShow(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'block');\n\t\t\t\t}),\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.background.getShowCommand(useTransition),\n\t\t\t\t\tthis.foreground.getShowCommand(useTransition),\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tprotected implHide(view:JQuery, useTransition:boolean):cmd.Command {\n\t\t\treturn new cmd.Serial(\n\t\t\t\tnew cmd.Parallel(\n\t\t\t\t\tthis.background.getHideCommand(useTransition),\n\t\t\t\t\tthis.foreground.getHideCommand(useTransition),\n\t\t\t\t),\n\t\t\t\tnew cmd.Func(():void => {\n\t\t\t\t\tview.css('display', 'none');\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tpublic getContent():JQuery {\n\t\t\treturn this.content;\n\t\t}\n\n\t\tpublic getDrawerId():string {\n\t\t\treturn this.drawerId;\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate background:DrawerBackground;\n\t\tprivate foreground:DrawerForeground;\n\n\t\tprivate content:JQuery;\n\t\tprivate drawerId:string;\n\t}\n}\n","/// <reference path=\"../../index.ts\" />\n\nnamespace alm.drawer {\n\n\timport DrawerContainer = alm.drawer.view.DrawerContainer;\n\n\texport class Drawer {\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// CONSTRUCTOR\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tconstructor(content:JQuery, drawerId:string = 'drawer') {\n\t\t\tthis.container = new DrawerContainer(content, drawerId);\n\t\t\tthis.container.ready();\n\n\t\t\t(<any>window).openDrawer = this.container.show.bind(this.container);\n\t\t\t(<any>window).closeDrawer = this.container.hide.bind(this.container);\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// METHOD\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tpublic open(useTransition:boolean):void {\n\t\t\tthis.container.show(useTransition);\n\t\t}\n\n\t\tpublic close(useTransition:boolean):void {\n\t\t\tthis.container.hide(useTransition);\n\t\t}\n\n\t\tpublic dispose():void {\n\t\t\tthis.container.finalize();\n\t\t\tthis.container = null;\n\n\t\t\tdelete (<any>window).openDrawer;\n\t\t\tdelete (<any>window).closeDrawer;\n\t\t}\n\n\t\tpublic getView():JQuery {\n\t\t\treturn this.container.getView();\n\t\t}\n\n\t\tpublic getContentView():JQuery {\n\t\t\treturn this.container.getContent();\n\t\t}\n\n\t\tpublic getDrawerId():string {\n\t\t\treturn this.getDrawerId();\n\t\t}\n\n\n\n\n\n\t\t// --------------------------------------------------\n\t\t//\n\t\t// VARIABLE\n\t\t//\n\t\t// --------------------------------------------------\n\n\t\tprivate container:DrawerContainer;\n\t}\n}\n","/* ---------- project dependencies ---------- */\n\n/// <reference types='jquery' />\n/// <reference types='alumican' />\n/// <reference types='alumican.jquery' />\n\n\n/* ---------- project scripts ---------- */\n\n/// <reference path='alm/drawer/view/DrawerBackground.ts' />\n/// <reference path='alm/drawer/view/DrawerForeground.ts' />\n/// <reference path='alm/drawer/view/DrawerContainer.ts' />\n/// <reference path='alm/drawer/Drawer.ts' />\n"]}